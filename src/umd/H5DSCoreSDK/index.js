/*! For license information please see index.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("antd"),require("h5ds-ui"),require("mobx"),require("react-dom"),require("PubSub"));else if("function"==typeof define&&define.amd)define(["react","antd","h5ds-ui","mobx","react-dom","PubSub"],t);else{var n="object"==typeof exports?t(require("react"),require("antd"),require("h5ds-ui"),require("mobx"),require("react-dom"),require("PubSub")):t(e.React,e.antd,e.H5dsUI,e.mobx,e.ReactDOM,e.PubSub);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(e,t,n,r,a,o){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=361)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){e.exports=n(112)},function(e,t,n){var r=n(30),a=n(127);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}},function(e,t,n){var r=n(113);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){e.exports=r},function(e,t,n){var r=n(120),a=n(121),o=n(84),i=n(122);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||i()}},function(e,t,n){var r=n(123),a=n(124),o=n(84),i=n(125);e.exports=function(e){return r(e)||a(e)||o(e)||i()}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t){function n(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var i=e.apply(t,r);function s(e){n(i,a,o,s,c,"next",e)}function c(e){n(i,a,o,s,c,"throw",e)}s(void 0)}))}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return r.b})),n.d(t,"c",(function(){return r.a})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return u}));var r=n(19),a={historyMax:20,appType:r.a.H5_SWIPER,version:"6.1.1",appWidth:320,appHeight:514,minPageView:!0,loadingLogo:"https://cdn.h5ds.com/static/images/logo_blue.png",headerLogo:"https://cdn.h5ds.com/static/images/logo_blue.png",startLoadingLogo:"https://cdn.h5ds.com/static/images/logo_white.png"};n(4),n(22);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}function i(){var e=a.appType,t=a.appWidth,n=a.appHeight;return{version:a.version,img:"https://cdn.h5ds.com/static/images/img-null.png",desc:"H5工具平台",name:"H5工具",type:e,orientation:"portrait",slider:{direction:"vertical",speed:.5,effect:"slide",autoplay:!1,time:5},music:{disabled:!0,name:"",url:"",icon:""},loader:{logo:a.loadingLogo,logoAnimate:"",backgroundColor:"rgba(255,255,255,1)",backgroundImage:"",progress:!0},style:{width:t,height:n},fixeds:[{id:null,className:null,keyid:o(),name:"浮动层上",style:{height:n,width:t},layers:[]},{id:null,className:null,keyid:o(),name:"浮动层下",style:{height:n,width:t},layers:[]}],popups:[],pages:[{id:null,className:null,keyid:o(),name:"空白页面",desc:"页面描述",style:{width:t,height:n},layers:[],slider:{animate:1,autoplay:!1,lock:!1,time:5}}]}}var s=n(79),c=Object(s.a)(),l=a.version,u="4.3.4"},function(e,t){e.exports=function(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}},function(e,t){e.exports=function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},function(e,t,n){"use strict";n.d(t,"c",(function(){return D.a})),n.d(t,"j",(function(){return v.a})),n.d(t,"l",(function(){return v.c})),n.d(t,"k",(function(){return v.b})),n.d(t,"m",(function(){return v.d})),n.d(t,"b",(function(){return w.a})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"n",(function(){return C})),n.d(t,"d",(function(){return A})),n.d(t,"a",(function(){return b.a})),n.d(t,"o",(function(){return d})),n.d(t,"i",(function(){return j.a}));var r=n(78),a=n.n(r);window.pubSubLayer||(window.pubSubLayer=new a.a,window.pubSubLayer.publish=window.pubSubLayer.publishSync);window.pubSubLayer;var o=n(11),i=n.n(o),s=n(12),c=n.n(s),l=n(15),u=n(58),d=n(22);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=function e(n){n.forEach((function(n){n.animate=[],n.style.width*=t,n.style.height*=t,n.style.top*=t,n.style.left*=t,n.estyle.opacity=1,"h5ds_combin"===n.pid&&e(n.data)}))};e.style.width*=t,e.style.height*=t,n(e.layers)}function h(e){e.style.width||(e.style.width=320),e.style.height||(e.style.height=514),e.eventId||(e.eventId=d.randomID()),e.keyid||(e.keyid=d.randomID()),e.slider||(e.slider={autoplay:!1,lock:!1,time:5}),m(e.layers)}function m(e){return e.map((function(e){switch(e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("http://h5ds-cdn.oss-cn-beijing.aliyuncs.com")&&(e.style.backgroundImage=e.style.backgroundImage.replace("http://h5ds-cdn.oss-cn-beijing.aliyuncs.com","https://cdn.h5ds.com")),e.animate=e.animate.map((function(e){if(e.style){var t=u.a.getAnimation(e.style);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({tips:e.name,type:e.type,keyid:d.randomID()},t)}return e})),e.offset||(e.offset={disable:!0,top:0}),e.type){case"img":var t,n;e.pid="h5ds_img",e.name="图片",e.version="1.0.0";var r=e.data,a=r.crop,o=r.src;a&&"string"==typeof a&&(a={x:(a=JSON.parse(a)).left,y:a.top,width:a.width,height:a.height,naturalWidth:a.naturalWidth,naturalHeight:a.naturalHeight});var i=null;e.data.clip||(i={disabled:!0,id:d.randomID(),path:"circle(50% at 50% 50%)"}),e.data={naturalWidth:null==(t=a)?void 0:t.naturalWidth,naturalHeight:null==(n=a)?void 0:n.naturalHeight,crop:a,src:o,clip:i};break;case"etext":e.pid="h5ds_text",e.name="文本",e.version="1.0.0";break;case"map":e.pid="h5ds-map",e.name="地图",e.version="1.0.0",e.data.title=e.data.name,delete e.data.infoshow,delete e.data.info;break;case"shape":e.pid="h5ds_shape",e.name="形状",e.data.text={content:"",fontSize:14,justifyContent:"center",color:"rgba(255,255,255,1)",fontWeight:"normal"};break;case"input":case"submit":e.estyle||(e.estyle={});var s=e.estyle.backgroundColor||"rgba(255, 255, 255, 1)";e.pid="h5ds_shape",e.name="形状",e.version="1.0.0",e.data={shape:"path4",style:{fill:s},transform:"scale(1, 1)"};break;case"sound":e.pid="h5ds_sound",e.name="音频",e.data.icon="",e.version="1.0.0",e.data.autoplay=!0,e.data.loop=!1;break;case"effectcss":e.pid="h5ds-css-effect",e.name="css特效",e.version="1.0.0",e.data={type:"snow",set:{img:"http://cdn.h5ds.com/static/images/snow.png"}};break;case"combin":e.pid="h5ds_combin",e.name="合并层",e.layers&&(e.version="1.0.0",e.events=[],e.data=e.layers,delete e.layers,delete e.color,delete e.eid)}if(e.type_old=e.type,delete e.type,"h5ds_text"===e.pid&&(e.data.animate&&!e.data.animate.keyid&&(e.data.animate.keyid=d.randomID(),e.data.animate.direction="normal",e.data.animate.timing=e.data.animate.fun,e.data.animate.delay=parseFloat(e.data.animate.delay),e.data.animate.interval=parseFloat(e.data.animate.interval),e.data.animate.duration=parseFloat(e.data.animate.time),e.data.animate.type="step",e.data.animate.name=e.data.animate.animate,e.data.animate.tips="文字动画",e.data.animate.fillMode="forwards",delete e.data.animate.fun,delete e.data.animate.animate,delete e.data.animate.time),e.data.artword||(e.data.artword={type:"",name:"",colors:[],size:10})),"h5ds_combin"===e.pid&&m(e.data),"h5ds_img"===e.pid){var l,f,h=e.data,g=h.crop,y=h.clip;if(g&&"string"==typeof g&&(g=JSON.parse(g),e.data.crop={x:g.left,y:g.top,width:g.width,height:g.height,naturalWidth:g.naturalWidth,naturalHeight:g.naturalHeight}),-1!==e.data.src.indexOf("http://h5ds-cdn.oss-cn-beijing.aliyuncs.com")&&(e.data.src=e.data.src.replace("http://h5ds-cdn.oss-cn-beijing.aliyuncs.com","https://cdn.h5ds.com")),y||(e.data.clip={disabled:!0,path:"circle(50% at 50% 50%)"}),!e.data.naturalWidth&&!e.data.naturalHeight)e.data.naturalWidth=null==(l=g)?void 0:l.naturalWidth,e.data.naturalHeight=null==(f=g)?void 0:f.naturalHeight}return e.pid,e.eventId||(e.eventId=d.randomID()),["h5ds_text","h5ds_image","h5ds_shape","h5ds_video","h5ds-css-effect","h5ds_zimu","h5ds_sound"].includes(e.pid)&&(e.keepRender=!1),e.version="1.0.0",e.events||(e.events=[]),delete e.type,delete e.color,delete e.eid,e})),e}function g(e){if("defaultData"===e)return e;switch(e.type){case"pc":e.type=l.c.PC_WEB;break;case"phone":e.type=l.c.H5_SWIPER;break;case"horizontal-phone":e.type=l.c.H5_HORIZONTAL_SWIPER}return e.loading||(e.loading={img:"",animate:"",backgroundColor:"rgba(255,255,255,1)",backgroundImage:"",progress:!1}),e.music?(void 0===e.music.disabled&&(e.music.disabled=!0),void 0===e.music.delay&&(e.music.delay=0),void 0===e.music.loop&&(e.music.loop=!0)):e.music={disabled:!0,name:"",fill:"rgba(0,0,0,.7)",loop:!0,delay:0,autoplay:!0,url:"",icon:"icon1"},e.version?e=y(e):y(e)}function y(e){var t;e.version=l.b.version,e.slider||(e.slider={speed:.5,effect:"slide",autoplay:!1,time:5}),e.loader||(e.loader={logo:l.b.loadingLogo,logoAnimate:"none",backgroundColor:"rgba(255,255,255,1)",backgroundImage:"",progress:!0}),-1!==e.loader.logo.indexOf("/images/logo_blue.png")&&(e.loader.logo=l.b.loadingLogo),"https://cdn.h5ds.com/static/images/logo_blue.png"===(null==(t=e.loader)?void 0:t.logo)&&(e.loader.logo=l.b.loadingLogo),e.music||(e.music={disabled:!0,name:"",url:"",icon:""}),delete e.mp3;var n=function(t){t.style||(t.style={}),"h5-swiper"===e.type?(t.style.width||(t.style.width=320),t.style.height||(t.style.height=514)):(t.style.width||(t.style.width=600),t.style.height||(t.style.height=800))};return n(e),[].concat(i()(e.fixeds),i()(e.popups),i()(e.pages)).forEach((function(e){e.eventId||(e.eventId=d.randomID()),e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("http://h5ds-cdn.oss-cn-beijing.aliyuncs.com")&&(e.style.backgroundImage=e.style.backgroundImage.replace("http://h5ds-cdn.oss-cn-beijing.aliyuncs.com","https://cdn.h5ds.com")),e.slider||(e.slider={autoplay:!1,showScroll:!1,lock:!1,time:5}),n(e),m(e.layers)})),JSON.parse(JSON.stringify(e))}var v=n(27),b=n(43),w=n(28),x=n(4),E=n.n(x),_=n(5),k=n.n(_),S=n(109),O=n.n(S),C=new(function(){function e(){E()(this,e),this.baseData={},this.reportUrl=location.href}return k()(e,[{key:"setReportUrl",value:function(e){this.reportUrl=e}},{key:"setUid",value:function(e){this.reportUrl.uid=e}},{key:"setAppId",value:function(e){this.baseData.appId=e}},{key:"doReport",value:function(e,t){if(!e)throw new Error("请设置上报地址");t=Object.assign({},t,this._getBaseData(),this.baseData),$.ajax({url:this.reportUrl,type:"post",data:t})}},{key:"_data2QueryString",value:function(e){var t=O()("");return t.set("query",e),t.href.split("?")[1]}},{key:"_getBaseData",value:function(){return{nl:navigator.language,np:navigator.platform,nje:navigator.javaEnabled(),nmtp:navigator.maxTouchPoints,nce:navigator.cookieEnabled,nd:navigator.doNotTrack,ndm:navigator.deviceMemory,ndc:navigator.hardwareConcurrency,sr:"".concat(screen.width,"*").concat(screen.height),scd:screen.colorDepth,dc:document.charset||document.characterSet,dr:document.referrer,t:Date.now()}}},{key:"_makeRndString",value:function(){return Math.random().toString(16)}},{key:"sendPageView",value:function(){var e=location.pathname;"file://"!==e.origin&&this.doReport(this.reportUrl,{path:e})}}]),e}()),D=n(46),P=n(110),I=n.n(P);function A(e){var t=[];return e.loader.vip_background&&"url(".concat(e.loader.vip_background,")")===e.loader.backgroundImage&&t.push({keyid:Object(d.randomID)(),type:"app_loader_background",typeName:"加载背景",name:"加载背景",ext:"image",pid:"app_loader_background",url:e.loader.vip_background}),e.loader.vip_url&&e.loader.vip_url==e.loader.vip_url&&t.push({keyid:Object(d.randomID)(),type:"app_loader_logo",typeName:"加载LOGO",name:"LOGO",ext:"image",pid:"app_loader_logo",url:e.loader.vip_url}),e.vip_background&&"url(".concat(e.vip_background,")")===e.style.backgroundImage&&t.push({keyid:Object(d.randomID)(),type:"app_background",name:"全局背景",typeName:"全局背景",ext:"image",pid:"app_background",url:e.vip_background}),e.music.vip_sound&&e.music.vip_sound===e.music.url&&t.push({keyid:Object(d.randomID)(),type:"app_music",typeName:"背景音乐",name:e.music.name,pid:"app_music",ext:"sound",url:e.music.vip_sound}),e.pages.forEach((function(e){e.vip_background&&"url(".concat(e.vip_background,")")===e.style.background&&t.push({keyid:Object(d.randomID)(),type:"page_background",typeName:"页面背景",name:"页面背景",pid:"page",ext:"image",url:e.vip_background}),function e(t,n){t.forEach((function(t){!t.vip_url||t.vip_url!==t.data.src&&t.vip_url!==t.data.url||n.push({keyid:Object(d.randomID)(),type:"layer_url",typeName:"图层链接",pid:t.pid,name:t.name,ext:"image",url:t.vip_url}),!t.vip_sound||t.vip_sound!==t.data.sound&&t.vip_sound!==t.data.url||n.push({keyid:Object(d.randomID)(),type:"layer_sound",typeName:"图层音乐",pid:t.pid,name:t.data.name,ext:"sound",url:t.vip_sound}),"h5ds_combin"===t.pid&&e(t.data,n)}))}(e.layers,t)})),I()(t,"url")}var j=n(31)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r={RENDER_IN_PAGELIST:"render_in_pagelist",RENDER_IN_TEMPLATES:"render_in_templates",RENDER_IN_CANVAS:"render_in_canvas",RENDER_IN_PREVIEW:"render_in_preview",RENDER_IN_INDEPENDENT:"render_in_independent",RENDER_IN_PUBLISH:"render_in_publish"},a={PPT:"ppt",H5_SWIPER:"h5-swiper",H5_HORIZONTAL_SWIPER:"h5-horizontal-swiper",PC_WEB:"pc-web",PHONE_WEB:"phone-web"}},function(e,t,n){"use strict";n.d(t,"d",(function(){return Re})),n.d(t,"e",(function(){return He})),n.d(t,"a",(function(){return ze})),n.d(t,"b",(function(){return Pe.a})),n.d(t,"f",(function(){return Fe.a})),n.d(t,"c",(function(){return We.a}));var r=n(4),a=n.n(r),o=n(8),i=n.n(o),s=n(7),c=n.n(s),l=n(3),u=n.n(l),d=n(12),p=n.n(d),f=n(30),h=n.n(f),m=n(6),g=n.n(m),y=n(14),v=n.n(y),b=n(23),w=n.n(b),x=n(11),E=n.n(x),_=n(5),k=n.n(_),S=(n(108),n(0)),O=n.n(S);function C(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}var D=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},P=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};var I="undefined"!=typeof window,A=I&&navigator.userAgent.toLowerCase(),j=A&&/wechatdevtools/.test(A),T=A&&A.indexOf("android")>0;function N(){return window.performance&&window.performance.now?window.performance.now()+window.performance.timing.navigationStart:+new Date}function L(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0;a<n.length;a++){var o=n[a];for(var i in o)e[i]=o[i]}return e}function R(e){return null==e}function M(e,t){return Math.sqrt(e*e+t*t)}var z=I&&document.createElement("div").style,B=function(){if(!I)return!1;var e={standard:"transform",webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform"};for(var t in e)if(void 0!==z[e[t]])return t;return!1}();function H(e){return!1!==B&&("standard"===B?"transitionEnd"===e?"transitionend":e:B+e.charAt(0).toUpperCase()+e.substr(1))}function F(e,t,n,r){e.addEventListener(t,n,{passive:!1,capture:!!r})}function W(e,t,n,r){e.removeEventListener(t,n,{passive:!1,capture:!!r})}function Y(e){for(var t=0,n=0;e;)t-=e.offsetLeft,n-=e.offsetTop,e=e.offsetParent;return{left:t,top:n}}function X(e){var t=e.getBoundingClientRect();return{left:-(t.left+window.pageXOffset),top:-(t.top+window.pageYOffset)}}var V=B&&"standard"!==B?"-"+B.toLowerCase()+"-":"",U=H("transform"),G=H("transition"),q=I&&H("perspective")in z,K=I&&("ontouchstart"in window||j),Z=!1!==U,J=I&&G in z,Q={transform:U,transition:G,transitionTimingFunction:H("transitionTimingFunction"),transitionDuration:H("transitionDuration"),transitionDelay:H("transitionDelay"),transformOrigin:H("transformOrigin"),transitionEnd:H("transitionEnd")},ee={touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2};function te(e){if(e instanceof window.SVGElement){var t=e.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}function ne(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",n=void 0;"mouseup"===e.type||"mousecancel"===e.type?n=e:"touchend"!==e.type&&"touchcancel"!==e.type||(n=e.changedTouches[0]);var r={};n&&(r.screenX=n.screenX||0,r.screenY=n.screenY||0,r.clientX=n.clientX||0,r.clientY=n.clientY||0);var a=void 0,o=!0,i=!0;if("undefined"!=typeof MouseEvent)try{a=new MouseEvent(t,L({bubbles:o,cancelable:i},r))}catch(e){s()}else s();function s(){(a=document.createEvent("Event")).initEvent(t,o,i),L(a,r)}a.forwardedTouchEvent=!0,a._constructed=!0,e.target.dispatchEvent(a)}function ae(e,t){e.removeChild(t)}var oe={startX:0,startY:0,scrollX:!1,scrollY:!0,freeScroll:!1,directionLockThreshold:5,eventPassthrough:"",click:!1,tap:!1,bounce:!0,bounceTime:800,momentum:!0,momentumLimitTime:300,momentumLimitDistance:15,swipeTime:2500,swipeBounceTime:500,deceleration:.0015,flickLimitTime:200,flickLimitDistance:100,resizePolling:60,probeType:0,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:!1,disableMouse:K,disableTouch:!K,observeDOM:!0,autoBlur:!0,wheel:!1,snap:!1,scrollbar:!1,pullDownRefresh:!1,pullUpLoad:!1,mouseWheel:!1,stopPropagation:!1,zoom:!1,infinity:!1,dblclick:!1};var ie={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(e){return 1+--e*e*e*e*e}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(e){return 1- --e*e*e*e}}};function se(e,t,n,r,a,o,i,s){var c=e-t,l=Math.abs(c)/n,u=i.deceleration,d=i.itemHeight,p=i.swipeBounceTime,f=i.wheel,h=i.swipeTime,m=f?4:15,g=e+l/u*(c<0?-1:1);return f&&d&&(g=s._findNearestValidWheel(g).y),g<r?(g=o?Math.max(r-o/4,r-o/m*l):r,h=p):g>a&&(g=o?Math.min(a+o/4,a+o/m*l):a,h=p),{destination:Math.round(g),duration:h}}function ce(){}var le=I?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return window.setTimeout(e,(e.interval||100/60)/2)}:ce,ue=I?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(e){window.clearTimeout(e)}:ce;function de(e){console.error("[BScroll warn]: "+e)}function pe(e,t){if(!e)throw new Error("[BScroll] "+t)}function fe(e){var t=document.createElement("div"),n=document.createElement("div");return t.style.cssText="position:absolute;z-index:9999;pointerEvents:none",n.style.cssText="box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;",n.className="bscroll-indicator","horizontal"===e?(t.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",n.style.height="100%",t.className="bscroll-horizontal-scrollbar"):(t.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",n.style.width="100%",t.className="bscroll-vertical-scrollbar"),t.style.cssText+=";overflow:hidden",t.appendChild(n),t}function he(e,t){this.wrapper=t.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=e,this.direction=t.direction,t.fade?(this.visible=0,this.wrapperStyle.opacity="0"):this.visible=1,this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.x=0,this.y=0,t.interactive&&this._addDOMEvents()}he.prototype.handleEvent=function(e){switch(e.type){case"touchstart":case"mousedown":this._start(e);break;case"touchmove":case"mousemove":this._move(e);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this._end(e)}},he.prototype.refresh=function(){this._shouldShow()&&(this.transitionTime(),this._calculate(),this.updatePosition())},he.prototype.fade=function(e,t){var n=this;if(!t||this.visible){var r=e?250:500;e=e?"1":"0",this.wrapperStyle[Q.transitionDuration]=r+"ms",clearTimeout(this.fadeTimeout),this.fadeTimeout=setTimeout((function(){n.wrapperStyle.opacity=e,n.visible=+e}),0)}},he.prototype.updatePosition=function(){if("vertical"===this.direction){var e=Math.round(this.sizeRatioY*this.scroller.y);if(e<0){this.transitionTime(500);var t=Math.max(this.indicatorHeight+3*e,8);this.indicatorStyle.height=t+"px",e=0}else if(e>this.maxPosY){this.transitionTime(500);var n=Math.max(this.indicatorHeight-3*(e-this.maxPosY),8);this.indicatorStyle.height=n+"px",e=this.maxPosY+this.indicatorHeight-n}else this.indicatorStyle.height=this.indicatorHeight+"px";this.y=e,this.scroller.options.useTransform?this.indicatorStyle[Q.transform]="translateY("+e+"px)"+this.scroller.translateZ:this.indicatorStyle.top=e+"px"}else{var r=Math.round(this.sizeRatioX*this.scroller.x);if(r<0){this.transitionTime(500);var a=Math.max(this.indicatorWidth+3*r,8);this.indicatorStyle.width=a+"px",r=0}else if(r>this.maxPosX){this.transitionTime(500);var o=Math.max(this.indicatorWidth-3*(r-this.maxPosX),8);this.indicatorStyle.width=o+"px",r=this.maxPosX+this.indicatorWidth-o}else this.indicatorStyle.width=this.indicatorWidth+"px";this.x=r,this.scroller.options.useTransform?this.indicatorStyle[Q.transform]="translateX("+r+"px)"+this.scroller.translateZ:this.indicatorStyle.left=r+"px"}},he.prototype.transitionTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.indicatorStyle[Q.transitionDuration]=e+"ms"},he.prototype.transitionTimingFunction=function(e){this.indicatorStyle[Q.transitionTimingFunction]=e},he.prototype.destroy=function(){this._removeDOMEvents(),this.wrapper.parentNode.removeChild(this.wrapper)},he.prototype._start=function(e){var t=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=t.pageX,this.lastPointY=t.pageY,this.startTime=N(),this._handleMoveEvents(F),this.scroller.trigger("beforeScrollStart")},he.prototype._move=function(e){var t=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.moved||this.scroller.trigger("scrollStart"),this.moved=!0;var n=t.pageX-this.lastPointX;this.lastPointX=t.pageX;var r=t.pageY-this.lastPointY;this.lastPointY=t.pageY;var a=this.x+n,o=this.y+r;this._pos(a,o)},he.prototype._end=function(e){if(this.initiated){this.initiated=!1,e.preventDefault(),e.stopPropagation(),this._handleMoveEvents(W);var t=this.scroller.options.snap;if(t){var n=t.speed,r=t.easing,a=void 0===r?ie.bounce:r,o=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=n||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-o.x),1e3),Math.min(Math.abs(this.scroller.y-o.y),1e3)),300);this.scroller.x===o.x&&this.scroller.y===o.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=o,this.scroller.scrollTo(o.x,o.y,i,a))}this.moved&&this.scroller.trigger("scrollEnd",{x:this.scroller.x,y:this.scroller.y})}},he.prototype._pos=function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=Math.round(e/this.sizeRatioX),t=Math.round(t/this.sizeRatioY),this.scroller.scrollTo(e,t),this.scroller.trigger("scroll",{x:this.scroller.x,y:this.scroller.y})},he.prototype._shouldShow=function(){return"vertical"===this.direction&&this.scroller.hasVerticalScroll||"horizontal"===this.direction&&this.scroller.hasHorizontalScroll?(this.wrapper.style.display="",!0):(this.wrapper.style.display="none",!1)},he.prototype._calculate=function(){if("vertical"===this.direction){var e=this.wrapper.clientHeight;this.indicatorHeight=Math.max(Math.round(e*e/(this.scroller.scrollerHeight||e||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px",this.maxPosY=e-this.indicatorHeight,this.sizeRatioY=this.maxPosY/this.scroller.maxScrollY}else{var t=this.wrapper.clientWidth;this.indicatorWidth=Math.max(Math.round(t*t/(this.scroller.scrollerWidth||t||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px",this.maxPosX=t-this.indicatorWidth,this.sizeRatioX=this.maxPosX/this.scroller.maxScrollX}},he.prototype._addDOMEvents=function(){var e=F;this._handleDOMEvents(e)},he.prototype._removeDOMEvents=function(){var e=W;this._handleDOMEvents(e),this._handleMoveEvents(e)},he.prototype._handleMoveEvents=function(e){this.scroller.options.disableTouch||e(window,"touchmove",this),this.scroller.options.disableMouse||e(window,"mousemove",this)},he.prototype._handleDOMEvents=function(e){this.scroller.options.disableTouch||(e(this.indicator,"touchstart",this),e(window,"touchend",this)),this.scroller.options.disableMouse||(e(this.indicator,"mousedown",this),e(window,"mouseup",this))};function me(e){if(e&&e.classList)return e.classList.contains("tombstone")}function ge(e,t){var n=this;this.options=t,pe("function"==typeof this.options.createTombstone,"Infinite scroll need createTombstone Function to create tombstone"),pe("function"==typeof this.options.fetch,"Infinite scroll need fetch Function to fetch new data."),pe("function"==typeof this.options.render,"Infinite scroll need render Function to render each item."),this.firstAttachedItem=0,this.lastAttachedItem=0,this.anchorScrollTop=0,this.anchorItem={index:0,offset:0},this.tombstoneHeight=0,this.tombstoneWidth=0,this.tombstones=[],this.tombstonesAnimationHandlers=[],this.items=[],this.loadedItems=0,this.requestInProgress=!1,this.hasMore=!0,this.scroller=e,this.wrapperEl=this.scroller.wrapper,this.scrollerEl=this.scroller.scroller,this.scroller.on("resize",(function(){n.onResize()})),this.scroller.on("destroy",(function(){n.destroy()})),this._onResizeHandler=setTimeout((function(){n.onResize(),n.scroller.on("scroll",(function(){n.onScroll()}))}))}function ye(e,t){this.wrapper="string"==typeof e?document.querySelector(e):e,this.wrapper||de("Can not resolve the wrapper DOM."),this.scroller=this.wrapper.children[0],this.scroller||de("The wrapper need at least one child element to be scroller."),this.scrollerStyle=this.scroller.style,this._init(t)}ge.prototype.destroy=function(){var e=this;clearTimeout(this._onResizeHandler),this.tombstonesAnimationHandlers.forEach((function(e){clearTimeout(e)})),this.tombstonesAnimationHandlers=null,this.items.forEach((function(t){t.node&&(e.scrollerEl.removeChild(t.node),t.node=null)})),this.scroller.infiniteScroller=null,this.scroller=null,this.wrapperEl=null,this.scrollerEl=null,this.items=null,this.tombstones=null},ge.prototype.onScroll=function(){var e=-this.scroller.y,t=e-this.anchorScrollTop;this.anchorItem=0===e?{index:0,offset:0}:this._calculateAnchoredItem(this.anchorItem,t),this.anchorScrollTop=e;var n=this._calculateAnchoredItem(this.anchorItem,this.scroller.wrapperHeight),r=this.anchorItem.index,a=n.index;t<0?(r-=30,a+=10):(r-=10,a+=30),this.fill(r,a),this.maybeRequestContent()},ge.prototype.onResize=function(){var e=this.options.createTombstone();e.style.position="absolute",this.scrollerEl.appendChild(e),e.style.display="",this.tombstoneHeight=e.offsetHeight,this.tombstoneWidth=e.offsetWidth,this.scrollerEl.removeChild(e);for(var t=0;t<this.items.length;t++)this.items[t].height=this.items[t].width=0;this.onScroll()},ge.prototype.fill=function(e,t){this.firstAttachedItem=Math.max(0,e),this.hasMore||(t=Math.min(t,this.items.length)),this.lastAttachedItem=t,this.attachContent()},ge.prototype.maybeRequestContent=function(){var e=this;if(!this.requestInProgress&&this.hasMore){var t=this.lastAttachedItem-this.loadedItems;t<=0||(this.requestInProgress=!0,this.options.fetch(t).then((function(t){if(e.requestInProgress=!1,t)e.addContent(t);else{e.hasMore=!1;var n=e._removeTombstones(),r=0;e.anchorItem.index<=e.items.length?(r=e._fixScrollPosition(),e._setupAnimations({},r),e.scroller.resetPosition(e.scroller.options.bounceTime)):(e.anchorItem.index-=n,r=e._fixScrollPosition(),e._setupAnimations({},r),e.scroller.stop(),e.scroller.resetPosition(),e.onScroll())}})))}},ge.prototype.addContent=function(e){for(var t=0;t<e.length;t++)this.items.length<=this.loadedItems&&this._addItem(),this.items[this.loadedItems++].data=e[t];this.attachContent(),this.maybeRequestContent()},ge.prototype.attachContent=function(){var e=this._collectUnusedNodes(),t=this._createDOMNodes(e);this._cleanupUnusedNodes(e),this._cacheNodeSize();var n=this._fixScrollPosition();this._setupAnimations(t,n)},ge.prototype.resetMore=function(){this.hasMore=!0},ge.prototype._removeTombstones=function(){for(var e,t=void 0,n=this.items.length,r=0;r<n;r++){var a=this.items[r].node,o=this.items[r].data;a&&!me(a)||o||(void 0===t&&(t=r),a&&this.scrollerEl.removeChild(a))}return e=n-t,this.items.splice(t),this.lastAttachedItem=Math.min(this.lastAttachedItem,this.items.length),e},ge.prototype._collectUnusedNodes=function(){for(var e=[],t=0;t<this.items.length;t++)if(t!==this.firstAttachedItem){var n=this.items[t].node;n&&(me(n)?(this.tombstones.push(n),this.tombstones[this.tombstones.length-1].style.display="none"):e.push(n)),this.items[t].node=null}else t=this.lastAttachedItem-1;return e},ge.prototype._createDOMNodes=function(e){for(var t={},n=this.firstAttachedItem;n<this.lastAttachedItem;n++){for(;this.items.length<=n;)this._addItem();var r=this.items[n].node,a=this.items[n].data;if(r){if(!me(r)||!a)continue;r.style.zIndex=1,t[n]=[r,this.items[n].top-this.anchorScrollTop],this.items[n].node=null}var o=a?this.options.render(a,e.pop()):this._getTombStone();o.style.position="absolute",this.items[n].top=-1,this.scrollerEl.appendChild(o),this.items[n].node=o}return t},ge.prototype._cleanupUnusedNodes=function(e){for(;e.length;)this.scrollerEl.removeChild(e.pop())},ge.prototype._cacheNodeSize=function(){for(var e=this.firstAttachedItem;e<this.lastAttachedItem;e++){var t=this.items[e];if(t.data&&!t.height){var n=me(t.node);t.height=n?this.tombstoneHeight:t.node.offsetHeight,t.width=n?this.tombstoneWidth:t.node.offsetWidth}}},ge.prototype._fixScrollPosition=function(){this.anchorScrollTop=0;for(var e=0;e<this.anchorItem.index;e++)this.anchorScrollTop+=this.items[e].height||this.tombstoneHeight;this.anchorScrollTop+=this.anchorItem.offset;for(var t=this.anchorScrollTop-this.anchorItem.offset,n=this.anchorItem.index;n>this.firstAttachedItem;)t-=this.items[n-1].height||this.tombstoneHeight,n--;return t},ge.prototype._setupAnimations=function(e,t){var n=this;for(var r in e){var a=e[r];this.items[r].node.style[Q.transform]="translateY("+(this.anchorScrollTop+a[1])+"px) scale("+this.tombstoneWidth/this.items[r].width+", "+this.tombstoneHeight/this.items[r].height+")",this.items[r].node.offsetTop,a[0].offsetTop,this.items[r].node.style[Q.transition]=V+"transform 200ms"}for(var o=this.firstAttachedItem;o<this.lastAttachedItem;o++){var i=e[o];if(i){var s=i[0];s.style[Q.transition]=V+"transform 200ms, opacity 200ms",s.style[Q.transform]="translateY("+t+"px) scale("+this.items[o].width/this.tombstoneWidth+", "+this.items[o].height/this.tombstoneHeight+")",s.style.opacity=0}t!==this.items[o].top&&(i||(this.items[o].node.style[Q.transition]=""),this.items[o].node.style[Q.transform]="translateY("+t+"px)"),this.items[o].top=t,t+=this.items[o].height||this.tombstoneHeight}this.scroller.maxScrollY=-(t-this.scroller.wrapperHeight+(this.hasMore?2e3:0));var c=setTimeout((function(){for(var t in e){var r=e[t];r[0].style.display="none",n.tombstones.push(r[0])}}),200);this.tombstonesAnimationHandlers.push(c)},ge.prototype._getTombStone=function(){var e=this.tombstones.pop();return e?(e.style.display="",e.style.opacity=1,e.style[Q.transform]="",e.style[Q.transition]="",e):this.options.createTombstone()},ge.prototype._addItem=function(){this.items.push({data:null,node:null,height:0,width:0,top:0})},ge.prototype._calculateAnchoredItem=function(e,t){if(0===t)return e;var n=e.index,r=0;if((t+=e.offset)<0){for(;t<0&&n>0&&this.items[n-1].height;)t+=this.items[n-1].height,n--;r=Math.max(-n,Math.ceil(Math.min(t,0)/this.tombstoneHeight))}else{for(;t>0&&n<this.items.length&&this.items[n].height&&this.items[n].height<t;)t-=this.items[n].height,n++;(n>=this.items.length||!this.items[n].height)&&(r=Math.floor(Math.max(t,0)/this.tombstoneHeight))}return{index:n+=r,offset:t-=r*this.tombstoneHeight}},function(e){e.prototype._init=function(e){this._handleOptions(e),this._events={},this.x=0,this.y=0,this.directionX=0,this.directionY=0,this.setScale(1),this._addDOMEvents(),this._initExtFeatures(),this._watchTransition(),this.options.observeDOM&&this._initDOMObserver(),this.options.autoBlur&&this._handleAutoBlur(),this.refresh(),this.options.snap||this.scrollTo(this.options.startX,this.options.startY),this.enable()},e.prototype.setScale=function(e){this.lastScale=R(this.scale)?e:this.scale,this.scale=e},e.prototype._handleOptions=function(e){this.options=L({},oe,e),this.translateZ=this.options.HWCompositing&&q?" translateZ(0)":"",this.options.useTransition=this.options.useTransition&&J,this.options.useTransform=this.options.useTransform&&Z,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollX="horizontal"!==this.options.eventPassthrough&&this.options.scrollX,this.options.scrollY="vertical"!==this.options.eventPassthrough&&this.options.scrollY,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,!0===this.options.tap&&(this.options.tap="tap")},e.prototype._addDOMEvents=function(){var e=F;this._handleDOMEvents(e)},e.prototype._removeDOMEvents=function(){var e=W;this._handleDOMEvents(e)},e.prototype._handleDOMEvents=function(e){var t=this.options.bindToWrapper?this.wrapper:window;e(window,"orientationchange",this),e(window,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(t,"mousemove",this),e(t,"mousecancel",this),e(t,"mouseup",this)),K&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(t,"touchmove",this),e(t,"touchcancel",this),e(t,"touchend",this)),e(this.scroller,Q.transitionEnd,this)},e.prototype._initExtFeatures=function(){this.options.snap&&this._initSnap(),this.options.scrollbar&&this._initScrollbar(),this.options.pullUpLoad&&this._initPullUp(),this.options.pullDownRefresh&&this._initPullDown(),this.options.wheel&&this._initWheel(),this.options.mouseWheel&&this._initMouseWheel(),this.options.zoom&&this._initZoom(),this.options.infinity&&this._initInfinite()},e.prototype._watchTransition=function(){if("function"==typeof Object.defineProperty){var e=this,t=!1,n=this.options.useTransition?"isInTransition":"isAnimating";Object.defineProperty(this,n,{get:function(){return t},set:function(n){t=n;for(var r=e.scroller.children.length?e.scroller.children:[e.scroller],a=t&&!e.pulling?"none":"auto",o=0;o<r.length;o++)r[o].style.pointerEvents=a}})}},e.prototype._handleAutoBlur=function(){this.on("scrollStart",(function(){var e=document.activeElement;!e||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName||e.blur()}))},e.prototype._initDOMObserver=function(){var e=this;if("undefined"!=typeof MutationObserver){var t=void 0,n=new MutationObserver((function(n){if(!e._shouldNotRefresh()){for(var r=!1,a=!1,o=0;o<n.length;o++){var i=n[o];if("attributes"!==i.type){r=!0;break}if(i.target!==e.scroller){a=!0;break}}r?e.refresh():a&&(clearTimeout(t),t=setTimeout((function(){e._shouldNotRefresh()||e.refresh()}),60))}}));n.observe(this.scroller,{attributes:!0,childList:!0,subtree:!0}),this.on("destroy",(function(){n.disconnect()}))}else this._checkDOMUpdate()},e.prototype._shouldNotRefresh=function(){var e=this.x>this.minScrollX||this.x<this.maxScrollX||this.y>this.minScrollY||this.y<this.maxScrollY;return this.isInTransition||this.stopFromTransition||e},e.prototype._checkDOMUpdate=function(){var e=te(this.scroller),t=e.width,n=e.height;function r(){if(!this.destroyed){var r=(e=te(this.scroller)).width,o=e.height;t===r&&n===o||this.refresh(),t=r,n=o,a.call(this)}}function a(){var e=this;setTimeout((function(){r.call(e)}),1e3)}a.call(this)},e.prototype.handleEvent=function(e){switch(e.type){case"touchstart":case"mousedown":this._start(e),this.options.zoom&&e.touches&&e.touches.length>1&&this._zoomStart(e);break;case"touchmove":case"mousemove":this.options.zoom&&e.touches&&e.touches.length>1?this._zoom(e):this._move(e);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this.scaled?this._zoomEnd(e):this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"click":this.enabled&&!e._constructed&&(ne(e.target,this.options.preventDefaultException)||(e.preventDefault(),e.stopPropagation()));break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._onMouseWheel(e)}},e.prototype.refresh=function(){var e="static"===window.getComputedStyle(this.wrapper,null).position,t=te(this.wrapper);this.wrapperWidth=t.width,this.wrapperHeight=t.height;var n=te(this.scroller);this.scrollerWidth=Math.round(n.width*this.scale),this.scrollerHeight=Math.round(n.height*this.scale),this.relativeX=n.left,this.relativeY=n.top,e&&(this.relativeX-=t.left,this.relativeY-=t.top),this.minScrollX=0,this.minScrollY=0;var r=this.options.wheel;r?(this.items=this.scroller.children,this._checkWheelAllDisabled(),this.options.itemHeight=this.itemHeight=this.items.length?this.scrollerHeight/this.items.length:0,void 0===this.selectedIndex&&(this.selectedIndex=r.selectedIndex||0),this.options.startY=-this.selectedIndex*this.itemHeight,this.maxScrollX=0,this.maxScrollY=-this.itemHeight*(this.items.length-1)):(this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.options.infinity||(this.maxScrollY=this.wrapperHeight-this.scrollerHeight),this.maxScrollX<0?(this.maxScrollX-=this.relativeX,this.minScrollX=-this.relativeX):this.scale>1&&(this.maxScrollX=this.maxScrollX/2-this.relativeX,this.minScrollX=this.maxScrollX),this.maxScrollY<0?(this.maxScrollY-=this.relativeY,this.minScrollY=-this.relativeY):this.scale>1&&(this.maxScrollY=this.maxScrollY/2-this.relativeY,this.minScrollY=this.maxScrollY)),this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<this.minScrollX,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<this.minScrollY,this.hasHorizontalScroll||(this.maxScrollX=this.minScrollX,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=this.minScrollY,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=Y(this.wrapper),this.trigger("refresh"),!this.scaled&&this.resetPosition()},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1}}(ye),function(e){e.prototype._start=function(e){var t=ee[e.type];if((1===t||0===e.button)&&!(!this.enabled||this.destroyed||this.initiated&&this.initiated!==t)){this.initiated=t,this.options.preventDefault&&!ne(e.target,this.options.preventDefaultException)&&e.preventDefault(),this.options.stopPropagation&&e.stopPropagation(),this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.movingDirectionX=0,this.movingDirectionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=N(),this.options.wheel&&(this.target=e.target),this.stop();var n=e.touches?e.touches[0]:e;this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this.trigger("beforeScrollStart")}},e.prototype._move=function(e){if(this.enabled&&!this.destroyed&&ee[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault(),this.options.stopPropagation&&e.stopPropagation();var t=e.touches?e.touches[0]:e,n=t.pageX-this.pointX,r=t.pageY-this.pointY;this.pointX=t.pageX,this.pointY=t.pageY,this.distX+=n,this.distY+=r;var a=Math.abs(this.distX),o=Math.abs(this.distY),i=N();if(!(i-this.endTime>this.options.momentumLimitTime&&!this.moved&&o<this.options.momentumLimitDistance&&a<this.options.momentumLimitDistance)){if(this.directionLocked||this.options.freeScroll||(a>o+this.options.directionLockThreshold?this.directionLocked="h":o>=a+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)e.preventDefault();else if("horizontal"===this.options.eventPassthrough)return void(this.initiated=!1);r=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)e.preventDefault();else if("vertical"===this.options.eventPassthrough)return void(this.initiated=!1);n=0}n=this.hasHorizontalScroll?n:0,r=this.hasVerticalScroll?r:0,this.movingDirectionX=n>0?-1:n<0?1:0,this.movingDirectionY=r>0?-1:r<0?1:0;var s=this.x+n,c=this.y+r,l=!1,u=!1,d=!1,p=!1,f=this.options.bounce;!1!==f&&(l=void 0===f.top||f.top,u=void 0===f.bottom||f.bottom,d=void 0===f.left||f.left,p=void 0===f.right||f.right),(s>this.minScrollX||s<this.maxScrollX)&&(s=s>this.minScrollX&&d||s<this.maxScrollX&&p?this.x+n/3:s>this.minScrollX?this.minScrollX:this.maxScrollX),(c>this.minScrollY||c<this.maxScrollY)&&(c=c>this.minScrollY&&l||c<this.maxScrollY&&u?this.y+r/3:c>this.minScrollY?this.minScrollY:this.maxScrollY),this.moved||(this.moved=!0,this.trigger("scrollStart")),this._translate(s,c),i-this.startTime>this.options.momentumLimitTime&&(this.startTime=i,this.startX=this.x,this.startY=this.y,1===this.options.probeType&&this.trigger("scroll",{x:this.x,y:this.y})),this.options.probeType>1&&this.trigger("scroll",{x:this.x,y:this.y});var h=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,m=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,g=this.pointX-h,y=this.pointY-m;(g>document.documentElement.clientWidth-this.options.momentumLimitDistance||g<this.options.momentumLimitDistance||y<this.options.momentumLimitDistance||y>document.documentElement.clientHeight-this.options.momentumLimitDistance)&&this._end(e)}}},e.prototype._end=function(e){if(this.enabled&&!this.destroyed&&ee[e.type]===this.initiated){this.initiated=!1,this.options.preventDefault&&!ne(e.target,this.options.preventDefaultException)&&e.preventDefault(),this.options.stopPropagation&&e.stopPropagation(),this.trigger("touchEnd",{x:this.x,y:this.y}),this.isInTransition=!1;var t=Math.round(this.x),n=Math.round(this.y),r=t-this.absStartX,a=n-this.absStartY;if(this.directionX=r>0?-1:r<0?1:0,this.directionY=a>0?-1:a<0?1:0,!this.options.pullDownRefresh||!this._checkPullDown())if(this._checkClick(e))this.trigger("scrollCancel");else if(!this.resetPosition(this.options.bounceTime,ie.bounce)){this._translate(t,n),this.endTime=N();var o=this.endTime-this.startTime,i=Math.abs(t-this.startX),s=Math.abs(n-this.startY);if(this._events.flick&&o<this.options.flickLimitTime&&i<this.options.flickLimitDistance&&s<this.options.flickLimitDistance)this.trigger("flick");else{var c=0;if(this.options.momentum&&o<this.options.momentumLimitTime&&(s>this.options.momentumLimitDistance||i>this.options.momentumLimitDistance)){var l=!1,u=!1,d=!1,p=!1,f=this.options.bounce;!1!==f&&(l=void 0===f.top||f.top,u=void 0===f.bottom||f.bottom,d=void 0===f.left||f.left,p=void 0===f.right||f.right);var h=-1===this.directionX&&d||1===this.directionX&&p?this.wrapperWidth:0,m=-1===this.directionY&&l||1===this.directionY&&u?this.wrapperHeight:0,g=this.hasHorizontalScroll?se(this.x,this.startX,o,this.maxScrollX,this.minScrollX,h,this.options,this):{destination:t,duration:0},y=this.hasVerticalScroll?se(this.y,this.startY,o,this.maxScrollY,this.minScrollY,m,this.options,this):{destination:n,duration:0};t=g.destination,n=y.destination,c=Math.max(g.duration,y.duration),this.isInTransition=!0}else this.options.wheel&&(n=this._findNearestValidWheel(n).y,c=this.options.wheel.adjustTime||400);var v=ie.swipe;if(this.options.snap){var b=this._nearestSnap(t,n);this.currentPage=b,c=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(t-b.x),1e3),Math.min(Math.abs(n-b.y),1e3)),300),t=b.x,n=b.y,this.directionX=0,this.directionY=0,v=this.options.snap.easing||ie.bounce}if(t!==this.x||n!==this.y)return(t>this.minScrollX||t<this.maxScrollX||n>this.minScrollY||n<this.maxScrollY)&&(v=ie.swipeBounce),void this.scrollTo(t,n,c,v);this.options.wheel&&(this.selectedIndex=this._findNearestValidWheel(this.y).index),this.trigger("scrollEnd",{x:this.x,y:this.y})}}}},e.prototype._checkClick=function(e){var t=this.stopFromTransition&&!this.pulling;if(this.stopFromTransition=!1,!this.moved){if(this.options.wheel){if(this.target&&this.target.className===this.options.wheel.wheelWrapperClass){var n=this._findNearestValidWheel(this.y).index,r=Math.round((this.pointY+X(this.wrapper).top-this.wrapperHeight/2)/this.itemHeight);this.target=this.items[n+r]}var a=Y(this.target).top,o=Y(this.target).left;return a-=this.wrapperOffset.top,a-=Math.round(this.target.offsetHeight/2-this.wrapper.offsetHeight/2)||0,o-=this.wrapperOffset.left,o-=Math.round(this.target.offsetWidth/2-this.wrapper.offsetWidth/2)||0,a=this._findNearestValidWheel(a).y,this.scrollTo(o,a,this.options.wheel.adjustTime||400,ie.swipe),!0}if(!t){var i=this.options.dblclick,s=!1;if(i&&this.lastClickTime){var c=i.delay,l=void 0===c?300:c;N()-this.lastClickTime<l&&(s=!0,function(e){re(e,"dblclick")}(e))}return this.options.tap&&function(e,t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)}(e,this.options.tap),this.options.click&&!ne(e.target,this.options.preventDefaultException)&&re(e),this.lastClickTime=s?null:N(),!0}return!1}return!1},e.prototype._resize=function(){var e=this;this.enabled&&(T&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){e.refresh()}),this.options.resizePolling))},e.prototype._startProbe=function(){ue(this.probeTimer),this.probeTimer=le((function t(){var n=e.getComputedPosition();if(e.trigger("scroll",n),!e.isInTransition)return void e.trigger("scrollEnd",n);e.probeTimer=le(t)}));var e=this},e.prototype._transitionTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.scrollerStyle[Q.transitionDuration]=e+"ms",this.options.wheel)for(var t=0;t<this.items.length;t++)this.items[t].style[Q.transitionDuration]=e+"ms";if(this.indicators)for(var n=0;n<this.indicators.length;n++)this.indicators[n].transitionTime(e)},e.prototype._transitionTimingFunction=function(e){if(this.scrollerStyle[Q.transitionTimingFunction]=e,this.options.wheel)for(var t=0;t<this.items.length;t++)this.items[t].style[Q.transitionTimingFunction]=e;if(this.indicators)for(var n=0;n<this.indicators.length;n++)this.indicators[n].transitionTimingFunction(e)},e.prototype._transitionEnd=function(e){e.target===this.scroller&&this.isInTransition&&(this._transitionTime(),(!this.pulling||1===this.movingDirectionY)&&!this.resetPosition(this.options.bounceTime,ie.bounce)&&(this.isInTransition=!1,3!==this.options.probeType&&this.trigger("scrollEnd",{x:this.x,y:this.y})))},e.prototype._translate=function(e,t,n){if(pe(!R(e)&&!R(t),"Translate x or y is null or undefined."),R(n)&&(n=this.scale),this.options.useTransform?this.scrollerStyle[Q.transform]="translate("+e+"px,"+t+"px) scale("+n+")"+this.translateZ:(e=Math.round(e),t=Math.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.options.wheel)for(var r=this.options.wheel.rotate,a=void 0===r?25:r,o=0;o<this.items.length;o++){var i=a*(t/this.itemHeight+o);this.items[o].style[Q.transform]="rotateX("+i+"deg)"}if(this.x=e,this.y=t,this.setScale(n),this.indicators)for(var s=0;s<this.indicators.length;s++)this.indicators[s].updatePosition()},e.prototype._animate=function(e,t,n,r){var a=this,o=this.x,i=this.y,s=this.lastScale,c=this.scale,l=N(),u=l+n;this.isAnimating=!0,ue(this.animateTimer),function d(){var p=N();if(p>=u)return a.isAnimating=!1,a._translate(e,t,c),a.trigger("scroll",{x:a.x,y:a.y}),void(a.pulling||a.resetPosition(a.options.bounceTime)||a.trigger("scrollEnd",{x:a.x,y:a.y}));var f=r(p=(p-l)/n),h=(e-o)*f+o,m=(t-i)*f+i,g=(c-s)*f+s;a._translate(h,m,g),a.isAnimating&&(a.animateTimer=le(d)),3===a.options.probeType&&a.trigger("scroll",{x:a.x,y:a.y})}()},e.prototype.scrollBy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ie.bounce;e=this.x+e,t=this.y+t,this.scrollTo(e,t,n,r)},e.prototype.scrollTo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ie.bounce,a=arguments[4];if(this.options.wheel&&(t=this._findNearestValidWheel(t).y),e!==this.x||t!==this.y)if(this.isInTransition=this.options.useTransition&&n>0&&(this.x!==e||this.y!==t),!n||this.options.useTransition){if(this._transitionTimingFunction(r.style),this._transitionTime(n),this._translate(e,t),n&&3===this.options.probeType&&this._startProbe(),!n&&!a){if(this.options.zoom)return;this.trigger("scroll",{x:e,y:t}),this._reflow=document.body.offsetHeight,this.resetPosition(this.options.bounceTime,ie.bounce)||this.trigger("scrollEnd",{x:e,y:t})}this.options.wheel&&(this.selectedIndex=this._findNearestValidWheel(t).index)}else this._animate(e,t,n,r.fn)},e.prototype.scrollToElement=function(e,t,n,r,a){if(e&&(e=e.nodeType?e:this.scroller.querySelector(e),!this.options.wheel||e.classList.contains(this.options.wheel.wheelItemClass))){var o=Y(e);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,!0===n&&(n=Math.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===r&&(r=Math.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=n||0,o.top-=r||0,o.left=o.left>this.minScrollX?this.minScrollX:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>this.minScrollY?this.minScrollY:o.top<this.maxScrollY?this.maxScrollY:o.top,this.options.wheel&&(o.top=this._findNearestValidWheel(o.top).y),this.scrollTo(o.left,o.top,t,a)}},e.prototype.resetPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie.bounce,n=this.x,r=Math.round(n);!this.hasHorizontalScroll||r>this.minScrollX?n=this.minScrollX:r<this.maxScrollX&&(n=this.maxScrollX);var a=this.y,o=Math.round(a);return!this.hasVerticalScroll||o>this.minScrollY?a=this.minScrollY:o<this.maxScrollY&&(a=this.maxScrollY),(n!==this.x||a!==this.y)&&(this.scrollTo(n,a,e,t),!0)},e.prototype.getComputedPosition=function(){var e=window.getComputedStyle(this.scroller,null),t=void 0,n=void 0;return this.options.useTransform?(t=+((e=e[Q.transform].split(")")[0].split(", "))[12]||e[4]),n=+(e[13]||e[5])):(t=+e.left.replace(/[^-\d.]/g,""),n=+e.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},e.prototype.stop=function(){if(this.options.useTransition&&this.isInTransition){this.isInTransition=!1,ue(this.probeTimer);var e=this.getComputedPosition();this._translate(e.x,e.y),this.options.wheel?this.target=this.items[this._findNearestValidWheel(e.y).index]:this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0}else!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,ue(this.animateTimer),this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0)},e.prototype.destroy=function(){this.destroyed=!0,this.trigger("destroy"),this.options.useTransition?ue(this.probeTimer):ue(this.animateTimer),this._removeDOMEvents(),this._events={}}}(ye),function(e){e.prototype.on=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._events[e]||(this._events[e]=[]),this._events[e].push([t,n])},e.prototype.once=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;function r(){this.off(e,r),t.apply(n,arguments)}r.fn=t,this.on(e,r)},e.prototype.off=function(e,t){var n=this._events[e];if(n)for(var r=n.length;r--;)(n[r][0]===t||n[r][0]&&n[r][0].fn===t)&&C(n,r)},e.prototype.trigger=function(e){var t=this._events[e];if(t)for(var n=t.length,r=[].concat(P(t)),a=0;a<n;a++){var o=r[a],i=D(o,2),s=i[0],c=i[1];s&&s.apply(c,[].slice.call(arguments,1))}}}(ye),function(e){e.prototype._initSnap=function(){var e=this;this.currentPage={};var t=this.options.snap;if(t.loop){var n=this.scroller.children;n.length>1?(!function(e,t){t.firstChild?function(e,t){t.parentNode.insertBefore(e,t)}(e,t.firstChild):t.appendChild(e)}(n[n.length-1].cloneNode(!0),this.scroller),this.scroller.appendChild(n[1].cloneNode(!0))):t.loop=!1}var r=t.el;"string"==typeof r&&(r=this.scroller.querySelectorAll(r)),this.on("refresh",(function(){if(e.pages=[],e.wrapperWidth&&e.wrapperHeight&&e.scrollerWidth&&e.scrollerHeight){var n=t.stepX||e.wrapperWidth,a=t.stepY||e.wrapperHeight,o=0,i=void 0,s=void 0,c=void 0,l=0,u=void 0,d=0,p=void 0,f=void 0;if(r)for(u=r.length,p=-1;l<u;l++)f=te(r[l]),(0===l||f.left<=te(r[l-1]).left)&&(d=0,p++),e.pages[d]||(e.pages[d]=[]),o=Math.max(-f.left,e.maxScrollX),i=Math.max(-f.top,e.maxScrollY),s=o-Math.round(f.width/2),c=i-Math.round(f.height/2),e.pages[d][p]={x:o,y:i,width:f.width,height:f.height,cx:s,cy:c},o>e.maxScrollX&&d++;else for(s=Math.round(n/2),c=Math.round(a/2);o>-e.scrollerWidth;){for(e.pages[l]=[],u=0,i=0;i>-e.scrollerHeight;)e.pages[l][u]={x:Math.max(o,e.maxScrollX),y:Math.max(i,e.maxScrollY),width:n,height:a,cx:o-s,cy:i-c},i-=a,u++;o-=n,l++}e._checkSnapLoop();var h=t._loopX?1:0,m=t._loopY?1:0;e._goToPage(e.currentPage.pageX||h,e.currentPage.pageY||m,0,void 0,!0);var g=t.threshold;g%1==0?(e.snapThresholdX=g,e.snapThresholdY=g):(e.snapThresholdX=Math.round(e.pages[e.currentPage.pageX][e.currentPage.pageY].width*g),e.snapThresholdY=Math.round(e.pages[e.currentPage.pageX][e.currentPage.pageY].height*g))}})),this.on("scrollEnd",(function(){t.loop&&(t._loopX?(0===e.currentPage.pageX&&e._goToPage(e.pages.length-2,e.currentPage.pageY,0,void 0,!0),e.currentPage.pageX===e.pages.length-1&&e._goToPage(1,e.currentPage.pageY,0,void 0,!0)):(0===e.currentPage.pageY&&e._goToPage(e.currentPage.pageX,e.pages[0].length-2,0,void 0,!0),e.currentPage.pageY===e.pages[0].length-1&&e._goToPage(e.currentPage.pageX,1,0,void 0,!0)))})),!1!==t.listenFlick&&this.on("flick",(function(){var n=t.speed||Math.max(Math.max(Math.min(Math.abs(e.x-e.startX),1e3),Math.min(Math.abs(e.y-e.startY),1e3)),300);e._goToPage(e.currentPage.pageX+e.directionX,e.currentPage.pageY+e.directionY,n)})),this.on("destroy",(function(){if(t.loop){var n=e.scroller.children;n.length>2&&(ae(e.scroller,n[n.length-1]),ae(e.scroller,n[0]))}}))},e.prototype._checkSnapLoop=function(){var e=this.options.snap;e.loop&&this.pages&&this.pages.length&&(this.pages.length>1&&(e._loopX=!0),this.pages[0]&&this.pages[0].length>1&&(e._loopY=!0),e._loopX&&e._loopY&&de("Loop does not support two direction at the same time."))},e.prototype._nearestSnap=function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0;if(Math.abs(e-this.absStartX)<=this.snapThresholdX&&Math.abs(t-this.absStartY)<=this.snapThresholdY)return this.currentPage;e>this.minScrollX?e=this.minScrollX:e<this.maxScrollX&&(e=this.maxScrollX),t>this.minScrollY?t=this.minScrollY:t<this.maxScrollY&&(t=this.maxScrollY);for(var r=this.pages.length;n<r;n++)if(e>=this.pages[n][0].cx){e=this.pages[n][0].x;break}r=this.pages[n].length;for(var a=0;a<r;a++)if(t>=this.pages[0][a].cy){t=this.pages[0][a].y;break}return n===this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),e=this.pages[n][0].x),a===this.currentPage.pageY&&((a+=this.directionY)<0?a=0:a>=this.pages[0].length&&(a=this.pages[0].length-1),t=this.pages[0][a].y),{x:e,y:t,pageX:n,pageY:a}},e.prototype._goToPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments[3],a=arguments[4],o=this.options.snap;if(o&&this.pages&&this.pages.length&&(r=r||o.easing||ie.bounce,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),this.pages[e])){t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var i=this.pages[e][t].x,s=this.pages[e][t].y;n=void 0===n?o.speed||Math.max(Math.max(Math.min(Math.abs(i-this.x),1e3),Math.min(Math.abs(s-this.y),1e3)),300):n,this.currentPage={x:i,y:s,pageX:e,pageY:t},this.scrollTo(i,s,n,r,a)}},e.prototype.goToPage=function(e,t,n,r){var a=this.options.snap;if(a&&this.pages&&this.pages.length){if(a.loop){var o=void 0;a._loopX?(e>=(o=this.pages.length-2)?e=o-1:e<0&&(e=0),e+=1):(t>=(o=this.pages[0].length-2)?t=o-1:t<0&&(t=0),t+=1)}this._goToPage(e,t,n,r)}},e.prototype.next=function(e,t){if(this.options.snap){var n=this.currentPage.pageX,r=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,r++),this._goToPage(n,r,e,t)}},e.prototype.prev=function(e,t){if(this.options.snap){var n=this.currentPage.pageX,r=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,r--),this._goToPage(n,r,e,t)}},e.prototype.getCurrentPage=function(){var e=this.options.snap;if(!e)return null;if(e.loop){return e._loopX?L({},this.currentPage,{pageX:this.currentPage.pageX-1}):L({},this.currentPage,{pageY:this.currentPage.pageY-1})}return this.currentPage}}(ye),function(e){e.prototype.wheelTo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.options.wheel){var t=-e*this.itemHeight;this.scrollTo(0,t)}},e.prototype.getSelectedIndex=function(){return this.options.wheel&&this.selectedIndex},e.prototype._initWheel=function(){var e=this.options.wheel;e.wheelWrapperClass||(e.wheelWrapperClass="wheel-scroll"),e.wheelItemClass||(e.wheelItemClass="wheel-item"),e.wheelDisabledItemClass||(e.wheelDisabledItemClass="wheel-disabled-item"),void 0===e.selectedIndex&&(e.selectedIndex=0)},e.prototype._findNearestValidWheel=function(e){e=e>0?0:e<this.maxScrollY?this.maxScrollY:e;for(var t=this.options.wheel,n=Math.abs(Math.round(-e/this.itemHeight)),r=n,a=this.items;n>=0&&-1!==a[n].className.indexOf(t.wheelDisabledItemClass);)n--;if(n<0)for(n=r;n<=a.length-1&&-1!==a[n].className.indexOf(t.wheelDisabledItemClass);)n++;return n===a.length&&(n=r),{index:this.wheelItemsAllDisabled?-1:n,y:-n*this.itemHeight}},e.prototype._checkWheelAllDisabled=function(){var e=this.options.wheel,t=this.items;this.wheelItemsAllDisabled=!0;for(var n=0;n<t.length;n++)if(-1===t[n].className.indexOf(e.wheelDisabledItemClass)){this.wheelItemsAllDisabled=!1;break}}}(ye),function(e){e.prototype._initScrollbar=function(){var e=this,t=this.options.scrollbar,n=t.fade,r=void 0===n||n,a=t.interactive,o=void 0!==a&&a;this.indicators=[];var i=void 0;this.options.scrollX&&(i={el:fe("horizontal"),direction:"horizontal",fade:r,interactive:o},this._insertScrollBar(i.el),this.indicators.push(new he(this,i))),this.options.scrollY&&(i={el:fe("vertical"),direction:"vertical",fade:r,interactive:o},this._insertScrollBar(i.el),this.indicators.push(new he(this,i))),this.on("refresh",(function(){for(var t=0;t<e.indicators.length;t++)e.indicators[t].refresh()})),r&&(this.on("scrollEnd",(function(){for(var t=0;t<e.indicators.length;t++)e.indicators[t].fade()})),this.on("scrollCancel",(function(){for(var t=0;t<e.indicators.length;t++)e.indicators[t].fade()})),this.on("scrollStart",(function(){for(var t=0;t<e.indicators.length;t++)e.indicators[t].fade(!0)})),this.on("beforeScrollStart",(function(){for(var t=0;t<e.indicators.length;t++)e.indicators[t].fade(!0,!0)}))),this.on("destroy",(function(){e._removeScrollBars()}))},e.prototype._insertScrollBar=function(e){this.wrapper.appendChild(e)},e.prototype._removeScrollBars=function(){for(var e=0;e<this.indicators.length;e++)this.indicators[e].destroy()}}(ye),function(e){e.prototype._initPullDown=function(){this.options.probeType=3},e.prototype._checkPullDown=function(){var e=this.options.pullDownRefresh,t=e.threshold,n=void 0===t?90:t,r=e.stop,a=void 0===r?40:r;return!(-1!==this.directionY||this.y<n)&&(this.pulling||(this.pulling=!0,this.trigger("pullingDown")),this.scrollTo(this.x,a,this.options.bounceTime,ie.bounce),this.pulling)},e.prototype.finishPullDown=function(){this.pulling=!1,this.resetPosition(this.options.bounceTime,ie.bounce)},e.prototype.openPullDown=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.pullDownRefresh=e,this._initPullDown()},e.prototype.closePullDown=function(){this.options.pullDownRefresh=!1},e.prototype.autoPullDownRefresh=function(){var e=this.options.pullDownRefresh,t=e.threshold,n=void 0===t?90:t,r=e.stop,a=void 0===r?40:r;this.pulling||(this.pulling=!0,this.scrollTo(this.x,n),this.trigger("pullingDown"),this.scrollTo(this.x,a,this.options.bounceTime,ie.bounce))}}(ye),function(e){e.prototype._initPullUp=function(){this.options.probeType=3,this.pullupWatching=!1,this._watchPullUp()},e.prototype._watchPullUp=function(){this.pullupWatching||(this.pullupWatching=!0,this.on("scroll",this._checkToEnd))},e.prototype._checkToEnd=function(e){var t=this,n=this.options.pullUpLoad.threshold,r=void 0===n?0:n;1===this.movingDirectionY&&e.y<=this.maxScrollY+r&&(this.once("scrollEnd",(function(){t.pullupWatching=!1})),this.trigger("pullingUp"),this.off("scroll",this._checkToEnd))},e.prototype.finishPullUp=function(){var e=this;this.pullupWatching?this.once("scrollEnd",(function(){e._watchPullUp()})):this._watchPullUp()},e.prototype.openPullUp=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.pullUpLoad=e,this._initPullUp()},e.prototype.closePullUp=function(){this.options.pullUpLoad=!1,this.pullupWatching&&(this.pullupWatching=!1,this.off("scroll",this._checkToEnd))}}(ye),function(e){e.prototype._initMouseWheel=function(){var e=this;this._handleMouseWheelEvent(F),this.on("destroy",(function(){clearTimeout(e.mouseWheelTimer),clearTimeout(e.mouseWheelEndTimer),e._handleMouseWheelEvent(W)})),this.firstWheelOpreation=!0},e.prototype._handleMouseWheelEvent=function(e){e(this.wrapper,"wheel",this),e(this.wrapper,"mousewheel",this),e(this.wrapper,"DOMMouseScroll",this)},e.prototype._onMouseWheel=function(e){var t=this;if(this.enabled){e.preventDefault(),this.options.stopPropagation&&e.stopPropagation(),this.firstWheelOpreation&&this.trigger("scrollStart"),this.firstWheelOpreation=!1;var n=this.options.mouseWheel,r=n.speed,a=void 0===r?20:r,o=n.invert,i=void 0!==o&&o,s=n.easeTime,c=void 0===s?300:s;clearTimeout(this.mouseWheelTimer),this.mouseWheelTimer=setTimeout((function(){t.options.snap||c||t.trigger("scrollEnd",{x:t.x,y:t.y}),t.firstWheelOpreation=!0}),400);var l=void 0,u=void 0;switch(!0){case"deltaX"in e:1===e.deltaMode?(l=-e.deltaX*a,u=-e.deltaY*a):(l=-e.deltaX,u=-e.deltaY);break;case"wheelDeltaX"in e:l=e.wheelDeltaX/120*a,u=e.wheelDeltaY/120*a;break;case"wheelDelta"in e:l=u=e.wheelDelta/120*a;break;case"detail"in e:l=u=-e.detail/3*a;break;default:return}var d=i?-1:1;l*=d,u*=d,this.hasVerticalScroll||(l=u,u=0);var p=void 0,f=void 0;if(this.options.snap)return p=this.currentPage.pageX,f=this.currentPage.pageY,l>0?p--:l<0&&p++,u>0?f--:u<0&&f++,void this._goToPage(p,f);p=this.x+Math.round(this.hasHorizontalScroll?l:0),f=this.y+Math.round(this.hasVerticalScroll?u:0),this.movingDirectionX=this.directionX=l>0?-1:l<0?1:0,this.movingDirectionY=this.directionY=u>0?-1:u<0?1:0,p>this.minScrollX?p=this.minScrollX:p<this.maxScrollX&&(p=this.maxScrollX),f>this.minScrollY?f=this.minScrollY:f<this.maxScrollY&&(f=this.maxScrollY);var h=this.y===f;this.scrollTo(p,f,c,ie.swipe),this.trigger("scroll",{x:this.x,y:this.y}),clearTimeout(this.mouseWheelEndTimer),h&&(this.mouseWheelEndTimer=setTimeout((function(){t.trigger("scrollEnd",{x:t.x,y:t.y})}),c))}}}(ye),function(e){e.prototype._initZoom=function(){var e=this.options.zoom,t=e.start,n=void 0===t?1:t,r=e.min,a=void 0===r?1:r,o=e.max,i=void 0===o?4:o;this.scale=Math.min(Math.max(n,a),i),this.setScale(this.scale),this.scrollerStyle[Q.transformOrigin]="0 0"},e.prototype._zoomTo=function(e,t,n,r){this.scaled=!0;var a=e/(r||this.scale);this.setScale(e),this.refresh();var o=Math.round(this.startX-(t-this.relativeX)*(a-1)),i=Math.round(this.startY-(n-this.relativeY)*(a-1));o>this.minScrollX?o=this.minScrollX:o<this.maxScrollX&&(o=this.maxScrollX),i>this.minScrollY?i=this.minScrollY:i<this.maxScrollY&&(i=this.maxScrollY),this.x===o&&this.y===i||this.scrollTo(o,i,this.options.bounceTime),this.scaled=!1},e.prototype.zoomTo=function(e,t,n){var r=X(this.wrapper),a=r.left,o=r.top,i=t+a-this.x,s=n+o-this.y;this._zoomTo(e,i,s)},e.prototype._zoomStart=function(e){var t=e.touches[0],n=e.touches[1],r=Math.abs(t.pageX-n.pageX),a=Math.abs(t.pageY-n.pageY);this.startDistance=M(r,a),this.startScale=this.scale;var o=X(this.wrapper),i=o.left,s=o.top;this.originX=Math.abs(t.pageX+n.pageX)/2+i-this.x,this.originY=Math.abs(t.pageY+n.pageY)/2+s-this.y,this.trigger("zoomStart")},e.prototype._zoom=function(e){if(this.enabled&&!this.destroyed&&ee[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault(),this.options.stopPropagation&&e.stopPropagation();var t=e.touches[0],n=e.touches[1],r=M(Math.abs(t.pageX-n.pageX),Math.abs(t.pageY-n.pageY))/this.startDistance*this.startScale;this.scaled=!0;var a=this.options.zoom,o=a.min,i=void 0===o?1:o,s=a.max,c=void 0===s?4:s;r<i?r=.5*i*Math.pow(2,r/i):r>c&&(r=2*c*Math.pow(.5,c/r));var l=r/this.startScale,u=this.startX-(this.originX-this.relativeX)*(l-1),d=this.startY-(this.originY-this.relativeY)*(l-1);this.setScale(r),this.scrollTo(u,d,0)}},e.prototype._zoomEnd=function(e){if(this.enabled&&!this.destroyed&&ee[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault(),this.options.stopPropagation&&e.stopPropagation(),this.isInTransition=!1,this.isAnimating=!1,this.initiated=0;var t=this.options.zoom,n=t.min,r=void 0===n?1:n,a=t.max,o=void 0===a?4:a,i=this.scale>o?o:this.scale<r?r:this.scale;this._zoomTo(i,this.originX,this.originY,this.startScale),this.trigger("zoomEnd")}}}(ye),function(e){e.prototype._initInfinite=function(){this.options.probeType=3,this.maxScrollY=-2e3,this.infiniteScroller=new ge(this,this.options.infinity)}}(ye),ye.Version="1.15.2";var ve=ye,be=n(19),we=n(13),xe=n.n(we),Ee=n(27),_e=n(28);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=function(){function e(){a()(this,e),this.dots=[],this.delay=25,this.pageY=0,this.pageX=0,this.runing=!1}return k()(e,[{key:"record",value:function(){var e=this;this.runing&&(this.timer=setTimeout((function(){e.dots.push({x:e.pageX,y:e.pageY,time:+new Date}),e.record()}),this.delay))}},{key:"start",value:function(e,t){this.runing=!0,this.pageX=e,this.pageY=t,this.dots=[],this.timer&&clearTimeout(this.timer),this.record()}},{key:"add",value:function(e,t){this.pageX=e,this.pageY=t}},{key:"end",value:function(e,t){return this.pageX=e,this.pageY=t,this.timer&&clearTimeout(this.timer),this.runing=!1,this.calc()}},{key:"calc",value:function(){var e=this.dots,t=this.dots.length,n=e[t-4]||e[t-3]||e[t-2],r=e[t-1];if(!n)return{x:0,y:0};var a=n.time-r.time;return{x:1e3/a*(n.x-r.x),y:1e3/a*(n.y-r.y)}}}]),e}(),Ce=function(){function e(t){var n,r=this;a()(this,e),this.startSlide=function(e){if(r.distanceX=e.x>0?-1:1,r.distanceY=e.y>0?-1:1,e.x=Math.abs(e.x),e.y=Math.abs(e.y),e.x>r.maxSpeed&&(e.x=r.maxSpeed),e.y>r.maxSpeed&&(e.y=r.maxSpeed),r.speed0=Se({},e),e.x&&e.y){r.isrunning=!0,r.loopSlide(Se({},e),0)}},this.loopSlide=function(e,t){var n=(r.speed0.y+e.y)*t/2;n=r.startPosition.y+n*r.distanceY;var a=(r.speed0.x+e.x)*t/2;a=r.startPosition.x+a*r.distanceX;var o=r.onSeek(a,n);return r.tempPosition={x:o.x,y:o.y},o.stop?(r.startPosition.x=o.x,r.startPosition.y=o.y,void(r.isrunning=!1)):(r.isrunning=!0,t+=1/r.fps,e.x+=r.a,e.y+=r.a,e.x<=0&&(e.x=0),e.y<=0&&(e.y=0),0===e.x&&0===e.y?(r.startPosition.x=a,r.startPosition.y=n,void(r.isrunning=!1)):void(r.requestID=requestAnimationFrame((function(){return r.loopSlide(e,t)}))))},this.opt=t,this.opt.f||(this.opt.f=1),this.defaultPosition=Object.assign({x:0,y:0},t.defaultPosition),this.maxSpeed=500,this.scrollHeight=t.scrollHeight,this.scrollWidth=t.scrollWidth,this.$el=$(t.el),this.drag=(n={start:"mousedown",move:"mousemove",end:"mouseup",touch:!1,touchEvent:function(e){return e.originalEvent.targetTouches[0]||e.originalEvent.changedTouches[0]}},"ontouchend"in document&&(n.start="touchstart",n.move="touchmove",n.end="touchend",n.touch=!0),n),this.instancySpeed=new Oe,this.startPosition={x:0,y:0},this.a=-5,this.fps=t.fps||40,this.boxHeight=0,this.boxWidth=this.$el.width(),this.init()}return k()(e,[{key:"update",value:function(e,t){this.boxHeight=this.$el.height(),this.boxWidth=this.$el.width(),this.scrollHeight=t,this.scrollWidth=e}},{key:"onSeek",value:function(e,t){var n=!1,r=!1;return e>=0&&(e=0,n=!0),e<=-(this.scrollWidth-this.boxWidth)&&(e=-(this.scrollWidth-this.boxWidth),n=!0),t>=0&&(t=0,r=!0),t<=-(this.scrollHeight-this.boxHeight)&&(t=-(this.scrollHeight-this.boxHeight),r=!0),this.opt.onSeek(e,t),{x:e,y:t,stop:n&&r}}},{key:"destory",value:function(){this.requestID&&(this.startPosition.x=null,this.startPosition.y=null,cancelAnimationFrame(this.requestID),this.requestID=null),document.body.removeEventListener("touchmove",this.prevDefault),this.$el.off(this.drag.start+".fpsAnimate"),this.$el.off("mousewheel"),this.drag=null,this.$el=null}},{key:"prevDefault",value:function(e){e.preventDefault()}},{key:"init",value:function(){var e=this;document.body.addEventListener("touchmove",this.prevDefault,{passive:!1}),this.$el.on("mousewheel",(function(t){t.preventDefault(),t.deltaY>0?e.startPosition.y+=20:e.startPosition.y-=20,e.onSeek(e.startPosition.x,e.startPosition.y)})),this.$el.on(this.drag.start+".fpsAnimate",(function(t){e.drag.touch&&(t=e.drag.touchEvent(t)),e.requestID&&(e.tempPosition&&(e.startPosition=Se({},e.tempPosition)),cancelAnimationFrame(e.requestID),e.requestID=null);var n=t.pageY,r=t.pageX,a=0,o=0;e.instancySpeed.start(t.pageX,t.pageY),$(document).on(e.drag.move+".fpsAnimate",(function(t){e.drag.touch&&(t=e.drag.touchEvent(t)),o=t.pageX-r+e.startPosition.x,a=t.pageY-n+e.startPosition.y,e.instancySpeed.add(t.pageX,t.pageY),e.onSeek(o,a)})).one(e.drag.end+".fpsAnimate",(function(t){e.drag.touch&&(t=e.drag.touchEvent(t)),e.startPosition.x=o,e.startPosition.y=a;var n=e.instancySpeed.end(t.pageX,t.pageY);n.x=-n.x*(1/e.opt.f),n.y=-n.y*(1/e.opt.f),e.startSlide(Se({},n)),$(document).off(e.drag.move+".fpsAnimate")}))}))}}]),e}(),De=n(31),Pe=n(34);n(15);function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u()(e);if(t){var a=u()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c()(this,n)}}var Ae=function(e){i()(n,e);var t=Ie(n);function n(){return a()(this,n),t.apply(this,arguments)}return k()(n,[{key:"setAdsorb",value:function(e,t,n,r){if(!r)return{};var a=r.adsorbTopBottom,o=void 0===a?0:a,i=r.adsorbLeftRight,s=void 0===i?0:i,c=r.scale,l=void 0===c?1:c;switch(o/=l,s/=l,e){case"top-left":t-=o,n-=s;break;case"top-center":t-=o;break;case"top-right":t-=o,n+=s;break;case"left-center":n+=s;break;case"right-center":n-=s;break;case"bottom-left":t+=o,n-=s;break;case"bottom-center":t+=o;break;case"bottom-right":t+=o,n+=s}return{top:t,left:n}}},{key:"render",value:function(){return null}}]),n}(S.Component);function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u()(e);if(t){var a=u()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c()(this,n)}}var Te=function(e){i()(n,e);var t=je(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).props.renderBeforeFunc&&r.props.renderBeforeFunc(r.props.data),r}return k()(n,[{key:"componentDidMount",value:function(){this.props.renderAfterFunc&&this.props.renderAfterFunc(this.props.data,this.props.pageRef)}},{key:"componentWillUnmount",value:function(){this.props.renderUnmountFunc&&this.props.renderUnmountFunc(this.props.data,this.props.pageRef)}},{key:"render",value:function(){var e=this.props,t=e.isRenderThis,n=e.useSwiperScroll,r=e.innerStyle,a=e.layers,o=e.appData,i=e.data,s=e.windowStyle,c=e.initControl,l=e.adsorbSet,u=e.zIndex,d=e.scale,p=e.langPageTop,f=e.isLangPage,h=e.updatePage,m=e.forceUpdateLayers,g=e.getLayerByIndex,y=e.maxFrame,v=e.renderIn,b=e.orientation,w=e.pageType;return O.a.createElement("div",{className:xe()("h5ds-page-inner",{"swiper-slide":n}),style:Object.assign(r,{top:0,width:r.width*d||"100%",height:r.height*d||"100%"})},O.a.createElement("div",{className:"h5ds-page-layers",style:{transform:"scale(".concat(d,")"),transformOrigin:"0 0"}},a.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=e.pid,a=e.leavePageUnmount,w=void 0!==a&&a,x=e.name,E=window.H5DS_GLOBAL.plugins[r],_=E?E.LayerComp:null;return w&&!t?null:O.a.createElement(Pe.a,{orientation:b,appData:o,pageData:i,langPageTop:p,isLangPage:f,layer:e,updatePage:h,forceUpdateLayers:m,getLayerByIndex:g,isRenderThis:t,windowStyle:s,scale:d,renderIn:v,initControl:c,adsorbSet:l,zIndex:u-n,key:e.keyid},_?O.a.createElement(_,{fpsAnimate:i.fpsAnimate,langPageTop:p,windowStyle:s,scale:d,pageMaxFrame:y,updatePage:h,forceUpdateLayers:m,getLayerByIndex:g,isRender:t,appData:o,pageData:i,renderIn:v,layer:e}):O.a.createElement("div",{className:"layer-null"},"请载入",x,":",r,"插件",O.a.createElement("span",{style:{display:"none"}},JSON.stringify(e))))})),"h5ds_combin"===i.type?null:O.a.createElement(Ae,{height:i.style.height,renderIn:v,adsorbSet:l,pageType:w})))}}]),n}(S.Component);function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u()(e);if(t){var a=u()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c()(this,n)}}var Le=function(e){i()(r,e);var t,n=Ne(r);function r(e){var t;return a()(this,r),(t=n.call(this,e)).canRun=function(){return!![be.b.RENDER_IN_PREVIEW,be.b.RENDER_IN_PUBLISH].includes(t.props.renderIn)},t.customJscript=function(){var e=t.props,n=e.appData,r=e.data,a=r.jscript;if(t.canRun()){var o=!0;if(/\s(localStorage|sessionSorage|cookie|Function|eval|script)/.test(a)&&(o=!1,console.error("为了安全考虑脚本不支持localStorage，sessionSorage，cookie，Function，eval，script")),a&&o)try{var i=t.props.utils,s=void 0===i?{}:i,c={appData:n,pageData:r,toPage:s.toPage,prevPage:s.prevPage,nextPage:s.nextPage,renderStart:function(e){e&&(t.renderStartFunc=e)},renderBefore:function(e){e&&(t.renderBeforeFunc=e)},renderUnmount:function(e){e&&(t.renderUnmountFunc=e)},renderAfter:function(e){e&&(t.renderAfterFunc=e)},setFrameAnimate:t.setFrameAnimate,getSound:t.getSound,stopSound:t.stopSound,playSound:t.playSound,pauseSound:t.pauseSound,getLayerDataById:t.getLayerDataById,getLayerDataByClassName:t.getLayerDataByClassName,updatePage:t.updatePage,updatePopups:t.updatePopups,updateFixeds:t.updateFixeds,updateLayerByKeyid:t.updateLayerByKeyid,updateLayerByIds:t.updateLayerByIds,updateLayerByClass:t.updateLayerByClass,setWeiXinShare:t.setWeiXinShare};new Function("var core = this;"+a).bind(c)(),t.renderStartFunc&&t.renderStartFunc(r)}catch(e){console.error("插件脚本语法错误",a,e)}}else console.warn("自定义脚本只在预览和发布后的页面有效，renderIn参数RENDER_IN_PREVIEW, RENDER_IN_PUBLISH")},t.getSound=function(e){if(e){if(window.H5DS_GLOBAL.sounds[e])return window.H5DS_GLOBAL.sounds[e];console.warn("未找到该音乐")}},t.stopSound=function(e){window.H5DS_GLOBAL.sounds[e]?window.H5DS_GLOBAL.sounds[e].stop():console.warn("未找到该音乐")},t.playSound=function(e){window.H5DS_GLOBAL.sounds[e]?window.H5DS_GLOBAL.sounds[e].play():console.warn("未找到该音乐")},t.pauseSound=function(e){window.H5DS_GLOBAL.sounds[e]?window.H5DS_GLOBAL.sounds[e].pause():console.warn("未找到该音乐")},t.getAllLayers=function(e){var n=t.props.appData,r=n.pages,a=n.fixeds,o=n.popups,i=[];[].concat(E()(r),E()(a),E()(o)).forEach((function(e){i=[].concat(E()(e.layers),E()(i))}));return E()(i).forEach((function(t){e&&e(t),"h5ds_combin"===t.pid&&function t(n){i=[].concat(E()(n),E()(i));for(var r=0;r<n.length;r++)e&&e(n[r]),"h5ds_combin"===n[r].pid&&t(n[r].data)}(t.data)})),i},t.updateLayerByIds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.getAllLayers((function(n){e.includes(n.id)&&(n.keyid=t.randomID())})),t.forceUpdate()},t.updateLayerByKeyid=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.getAllLayers((function(n){e.includes(n.keyid)&&(n.keyid=t.randomID())})),t.forceUpdate()},t.updateLayerByClass=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.getAllLayers((function(n){e.includes(n.className)&&(n.keyid=t.randomID())})),t.forceUpdate()},t.getLayerDataByClassName=function(e){if(!e)return null;var n=[];return t.getAllLayers((function(t){t.className===e&&n.push(t)})),n},t.getLayerDataById=function(e){if(!e)return null;var n=[];return t.getAllLayers((function(t){t.id===e&&n.push(t)})),n},t.renderAfter=function(e){e&&(t.renderAfterFunc=e)},t.updatePopups=function(e){window.pubSubLayer&&window.pubSubLayer.publish("h5ds.update.popups",e)},t.updateFixeds=function(e){window.pubSubLayer&&window.pubSubLayer.publish("h5ds.update.fixeds",e)},t.setWeiXinShare=function(e){var t=e.title,n=e.imgUrl,r=e.desc;window.H5DS_GLOBAL&&window.H5DS_GLOBAL.setWeiXinShare&&window.H5DS_GLOBAL.setWeiXinShare({title:t,imgUrl:n,desc:r})},t.updatePage=function(e){t.hasLoadEnd?(t.forceUpdate(),e&&e()):console.warn("页面还未加载完成")},t.getFixedHeight=function(){var e=t.props,n=e.appData,r=e.windowStyle.height;return n&&(r=n.style.height),r},t.getAdsorbPosition=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a="fixed"===t.pageType?t.getFixedHeight():e.height,o=0,i=e.width*r,s=a*r;n.height>=s&&(o=(n.height-s)/2);var c=o,l=(n.width-i)/2;return{adsorbTopBottom:c,adsorbLeftRight:l}},t.autoplay=function(){if(!t.props.data)return!1;var e=t.props.data.slider;e&&e.autoplay&&(window.swiperInstance,t.timer=setTimeout((function(){window.swiperInstance&&window.swiperInstance.slideTo(t.props.index+1)}),1e3*e.time))},t.forceUpdateAppData=function(e,n,r){e?(t.props.appData=e,t.props.data=e.pages[n],t.updatePage(r)):console.warn("参数错误")},t.forceUpdatePageData=function(e,n){e?(t.props.data=e,t.props.appData&&t.props.appData.pages.map((function(t){return t.keyid===e.keyid?e:t})),t.updatePage(n)):console.warn("参数错误")},t.updateLangPageSwiper=function(){t.swiperLangPageInstance&&t.swiperLangPageInstance.refresh()},t.getBoxStyle=function(){var e=t.props.data.style,n=e.backgroundColor,r=e.backgroundImage,a=e.backgroundSize,o=e.backgroundRepeat,i=e.backgroundGlobal,s=w()(e,["backgroundColor","backgroundImage","backgroundSize","backgroundRepeat","backgroundGlobal"]),c={backgroundColor:n},l={};return i?(Object.assign(c,{backgroundImage:r,backgroundSize:a,backgroundRepeat:o}),Object.assign(l,s)):Object.assign(l,{backgroundImage:r,backgroundSize:a,backgroundRepeat:o},s),"fixed"!==t.pageType||s.height||(t.props.appData?l.height=t.props.appData.style.height:l.height=t.props.windowStyle.height),{boxStyle:c,innerStyle:l}},t.setRuningStatus=function(){t.runingTimer=setTimeout((function(){t.isRuning=!1}),500)},t.initFrameAnimate=function(){return t.$element=$(t.pageRef).find(".element-animate"),t.$element.each((function(){this.style.animationPlayState="paused"})),$(window).trigger("h5ds.pauseAnimate"),$(window).trigger("h5ds.fps.frame",0),t.maxFrame=Object(De.a)(t.props.data),t.maxFrame,t.maxFrame},t.setFrameAnimate=function(e,n){n||(n=t.$element),e!==t.selectFrameIndex&&(t.selectFrameIndex=e,n.each((function(){var t=$(this).parent().attr("data-keyid");t&&$(window).trigger("h5ds.fps.frame."+t,{frame:e});var n=$(this).attr("data-delay").split(",").map((function(t){return parseFloat(t)-.1*(e-1)}));this.style.animationDelay=n.map((function(e){return e+"s"})).join(",")})))},t.swiperLangPageInit=function(){t.props.scrollPosition<0?t.initialSlide=0:t.initialSlide=t.props.scrollPosition||0;var e=t.props.data.slider.direction;t.swiperLangPageInstance=new ve(t.target,{preventDefaultException:{tagName:/^(IMG|INPUT|TEXTAREA)$/},stopPropagation:"vertical"===e,click:!0,tap:!0,dblclick:{delay:300},mouseWheel:!0,probeType:3});var n=t.swiperLangPageInstance.scrollerHeight-t.swiperLangPageInstance.wrapperHeight;t.swiperLangPageInstance.on("scroll",(function(e){e.y,t.setState({langPageTop:-e.y}),t.isRuning||t.props.data.slider.lock||(e.y>60?(t.isRuning=!0,window.swiperInstance.slidePrev(),t.setRuningStatus()):e.y+n<-60&&(t.isRuning=!0,window.swiperInstance.slideNext(),t.setRuningStatus()))}))},t.forceUpdateLayers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=[];e.forEach((function(e){var a=t.props.data.layers[e];a?(a.keyid=t.randomID(),r.push(a)):(console.warn("未找到图层",e),n&&n({success:!1,err:"未找到图层"}))})),t.forceUpdate(),n&&n({success:!0,datas:r})},t.getLayerByIndex=function(e){return void 0===e?(console.warn("未找到图层",e),null):t.props.data.layers[e]},t.fpsAnimateRun=function(){t.initFrameAnimate(),t.setState({maxFrame:t.maxFrame});new Ce({el:"#"+t.id,f:8,scrollHeight:15*t.maxFrame,onSeek:function(e,n){n=-n/15,$(window).trigger("h5ds.fps.frame",{progress:n/t.maxFrame,frame:n,maxFrame:t.maxFrame}),t.setFrameAnimate(n)}})},t.pluginLoadEnd=v()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.props.isRenderThis&&t.autoplay(),t.target=document.getElementById(t.id),t.props.data.fpsAnimate&&"render_in_canvas"!==t.props.renderIn?t.fpsAnimateRun():t.isLangPage&&t.props.useSwiperScroll?t.swiperLangPageInit():t.isLangPage&&(t.target.scrollTop=t.props.scrollPosition),!t.renderAfterFunc){e.next=6;break}return e.next=6,t.renderAfterFunc(t.props.data,t.pageRef);case 6:void 0!==t.props.stopAnimateInStep&&(t.initFrameAnimate(),t.setFrameAnimate(t.props.stopAnimateInStep)),t.props.renderSuccess&&t.props.renderSuccess();case 8:case"end":return e.stop()}}),e)}))),t.customJscript(),t.pageType="page",t.scale=1,t.id="h5ds_swiper_".concat(t.randomID()),t.state={langPageTop:0,maxFrame:0,loadEnd:!1},t}return k()(r,[{key:"randomID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}},{key:"componentDidUpdate",value:function(){this.props.isRenderThis&&this.autoplay()}},{key:"componentDidMount",value:(t=v()(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.pluginsLoader){e.next=8;break}return t=[],_e.a.getPid(this.props.data.layers,t),e.next=5,Object(Ee.a)(t,this.props.pluginsHost);case 5:this.setState({loadEnd:!0},this.pluginLoadEnd),e.next=9;break;case 8:this.pluginLoadEnd();case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.target=null,this.timer&&(clearTimeout(this.timer),this.timer=null),this.runingTimer&&(clearTimeout(this.runingTimer),this.runingTimer=null),this.swiperLangPageInstance&&(this.swiperLangPageInstance.destroy(),this.swiperLangPageInstance=null),this.drag&&$(this.target).off(this.drag.start+".fpsAnimate"),this.renderUnmountFunc&&this.renderUnmountFunc(this.props.data,this.pageRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.windowStyle,a=void 0===r?{width:320,height:514}:r,o=t.useSwiperScroll,i=void 0!==o&&o,s=t.scale,c=t.initControl,l=t.center,u=void 0!==l&&l,d=t.appData,f=void 0===d?null:d,m=t.className,g=t.willRender,y=t.style,v=void 0===y?{}:y,b=(t.frame,this.props.isRenderThis);void 0===b&&(b=!0),this.renderBeforeFunc&&this.renderBeforeFunc(n),this.scale=s||a.width/(n.style.width||320),this.isLangPage=a.height<(n.style.height||514)*this.scale;var w=this.getAdsorbPosition(n.style,a,this.scale),x=w.adsorbTopBottom,E=w.adsorbLeftRight,_={scale:this.scale,adsorbTopBottom:x,adsorbLeftRight:E};if(!n||"object"!==h()(n))return console.error("pages/Page.js error, data is not null or data is not a object"),null;var k=n.layers,S=void 0===k?[]:k,C={};this.isLangPage&&f&&"pc"===f.type&&(C.right=-(window.innerWidth-n.style.width)/2+2);var D=this.getBoxStyle(),P=D.boxStyle,I=D.innerStyle;return u&&(I.top=(a.height-I.height*this.scale)/2,I.top<0&&(I.top=0)),I.left=(a.width-I.width*this.scale)/2||"auto",this.hasLoadEnd=!0,O.a.createElement("div",{id:this.id,ref:function(t){return e.pageRef=t},"data-keyid":n.keyid,className:xe()("h5ds-page",p()({},m,m),{"h5swiper-swiper-stop-swiping":n.fpsAnimate||!i},{"h5ds-page-lang-page":this.isLangPage},{"swiper-container":i}),style:Object.assign(P,v)},O.a.createElement("div",{className:xe()("h5ds-page-box",{"swiper-wrapper":i}),style:{top:I.top,height:I.height*this.scale||"100%"}},b||g?O.a.createElement(Te,{willRender:g,isRenderThis:b,useSwiperScroll:i,innerStyle:I,layers:S,appData:f,data:n,windowStyle:a,initControl:c,adsorbSet:_,zIndex:9999,isLangPage:this.isLangPage,updatePage:this.updatePage,langPageTop:this.state.langPageTop,forceUpdateLayers:this.forceUpdateLayers,getLayerByIndex:this.getLayerByIndex,maxFrame:this.state.maxFrame,scale:this.scale,pageType:this.pageType,renderIn:this.props.renderIn,orientation:this.props.orientation,pageRef:this.pageRef,renderBeforeFunc:this.renderBeforeFunc,renderStartFunc:this.renderStartFunc,renderUnmountFunc:this.renderUnmountFunc,renderAfterFunc:this.renderAfterFunc}):null,this.isLangPage&&i?O.a.createElement("div",{style:C,className:xe()("swiper-scrollbar","".concat(this.id,"_swiper-scrollbar"),{"swiper-scrollbar-hideScroll":!n.slider.showScroll})}):null))}}]),r}(S.Component);Le.defaultProps={pluginsLoader:!1,pluginsHost:"",scrollPosition:0};var Re=Le;function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u()(e);if(t){var a=u()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c()(this,n)}}var ze=function(e){i()(n,e);var t=Me(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).pageType="fixed",r}return n}(Re);function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u()(e);if(t){var a=u()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c()(this,n)}}var He=function(e){i()(n,e);var t=Be(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).pageType="popup",r}return n}(Re),Fe=n(56),We=n(57)},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"getUrlData",(function(){return i})),n.d(t,"checkPluginWillGetWXInfo",(function(){return s})),n.d(t,"randomID",(function(){return l})),n.d(t,"isWeiXin",(function(){return u}));var r=n(11),a=n.n(r),o=n(46);function i(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t),r=null;return null!=n&&(r=unescape(n[2])),r}function s(e){for(var t=e.pages,n=e.fixeds,r=e.popups,o=[].concat(a()(t),a()(n),a()(r)),i=0;i<o.length;i++){if(c(o[i].layers))return!0}return!1}function c(e){for(var t=0;t<e.length;t++){var n=e[t];if("h5ds_combin"===n.pid){if(c(n.data))return!0}else if(n.wxinfo)return!0}return!1}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}function u(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}n.d(t,"browserType",(function(){return o.a}))},function(e,t,n){var r=n(126);e.exports=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t,n){window,e.exports=function(){return r={},e.m=t=[function(e,t){e.exports=n(12)},function(e,t,n){"use strict";n.r(t),n.d(t,"mountPlugin",(function(){return i})),n.d(t,"unmountPlugin",(function(){return s})),n.d(t,"mountValue",(function(){return c})),n.d(t,"unmountValue",(function(){return l})),n.d(t,"unmountAll",(function(){return u}));var r=n(0),a=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){window.H5DS_GLOBAL||(window.H5DS_GLOBAL={plugins:{}});try{window.H5DS_GLOBAL.plugins[e.config.pid]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}catch(t){console.error("插件资源格式错误！",e,t)}}function s(e){if(window.H5DS_GLOBAL)try{document.getElementById("css_".concat(e)).remove(),document.getElementById("js_".concat(e)).remove(),delete window.H5DS_GLOBAL.plugins[e]}catch(e){console.error("卸载失败",e)}else console.warn("未挂载任何插件")}function c(e,t){window.H5DS_GLOBAL||(window.H5DS_GLOBAL={plugins:{}}),window.H5DS_GLOBAL[e]=t}function l(e){window.H5DS_GLOBAL?window.H5DS_GLOBAL[e]?delete window.H5DS_GLOBAL[e]:console.error("未找到对应的挂载参数",e):console.warn("未挂载任何插件")}function u(){window.H5DS_GLOBAL={}}}],e.c=r,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(r,a,function(e){return t[e]}.bind(null,a));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="/",e(e.s=1);function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var t,r}()},function(e,t,n){var r=n(88),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return I}));var r={};n.r(r),n.d(r,"img",(function(){return f})),n.d(r,"text",(function(){return m})),n.d(r,"combin",(function(){return p})),n.d(r,"shape",(function(){return h})),n.d(r,"cssEffect",(function(){return g})),n.d(r,"sound",(function(){return y})),n.d(r,"zimu",(function(){return v})),n.d(r,"video",(function(){return b}));var a=n(6),o=n.n(a),i=n(11),s=n.n(i),c=n(10),l=n.n(c),u=n(14),d=n.n(u),p=n(61),f=n(53),h=n(62),m=n(54),g=n(38),y=n(63),v=n(40),b=n(39),w=n(43),x=n(24),E=n(28);function _(){return k.apply(this,arguments)}function k(){return(k=d()(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:r,s()(Object.values(t)).forEach((function(e){if(e.config)for(var t in e.config)e[t]=e.config[t];else console.error("插件必须包括config文件，具体配置查看官方文档doc.h5ds.com",e);Object(x.mountPlugin)(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){var t=e.split("@"),n=l()(t,2),r=n[0],a=n[1];return{pid:r,version:void 0===a?"1.0.0":a}}function O(){return C.apply(this,arguments)}function C(){return(C=d()(o.a.mark((function e(){var t,n,r,a,i,s,c,l,u,d,p,f,h,m,g,y,v=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=v.length>0&&void 0!==v[0]?v[0]:[],n=v.length>1&&void 0!==v[1]?v[1]:"",r=v.length>2&&void 0!==v[2]?v[2]:"layer",a=new w.a,i=window.H5DS_GLOBAL.plugins,s=void 0===i?{}:i,c=0;c<t.length;c++)l=S(t[c]),u=l.pid,d=l.version,u&&!s[u]&&a.cssLazy("".concat(n,"/plugins/").concat(u,"/").concat(r,"/style.css?ver=").concat(d),"css_".concat(u));p=0;case 7:if(!(p<t.length)){e.next=21;break}if(f=S(t[p]),h=f.pid,m=f.version,"undefined"!==h){e.next=11;break}return e.abrupt("return");case 11:if(!h||s[h]){e.next=18;break}return g="".concat(n,"/plugins/").concat(h,"/").concat(r,"/index.js?ver=").concat(m),e.next=15,a.jsLazy(g,"js_".concat(h));case 15:y={count:t.length,index:p+1,progress:(p+1)/t.length,name:g,type:"plugin"},window.pubSubLayer&&window.pubSubLayer.publish("h5ds.load.plugins",y),window.pubSubEditor&&window.pubSubEditor.publish("h5ds.load.plugins",y);case 18:p++,e.next=7;break;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return P.apply(this,arguments)}function P(){return(P=d()(o.a.mark((function e(){var t,n,r,a,i,c,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.H5DS_GLOBAL.plugins,n=void 0===t?{}:t,r=new w.a,a=[],i=[],s()(Object.values(n)).forEach((function(e){if(e.config){for(var t in e.config)e[t]=e.config[t];a=[].concat(s()(a),s()(e.scripts||[])),i=[].concat(s()(i),s()(e.styles||[]))}else console.error("插件必须包括config文件，具体配置查看官方文档doc.h5ds.com",e)})),a=Array.from(new Set(a)).filter((function(e){return e})),(i=Array.from(new Set(i)).filter((function(e){return e}))).map((function(e){r.cssLazy(e,e.split("/").pop())})),c=0;case 9:if(!(c<a.length)){e.next=19;break}return l=a[c],e.next=13,r.jsLazy(l,l);case 13:u={count:a.length,index:c+1,progress:(c+1)/a.length,name:l,type:"script"},window.pubSubLayer&&window.pubSubLayer.publish("h5ds.load.scripts",u),window.pubSubEditor&&window.pubSubEditor.publish("h5ds.load.scripts",u);case 16:c++,e.next=9;break;case 19:window.H5DS_GLOBAL.plugins=n,window.H5DS_GLOBAL.scripts=a,d={count:a.length,index:a.length,progress:1,name:"",type:"plugins"},window.pubSubLayer&&window.pubSubLayer.publish("h5ds.load.plugins",d),window.pubSubEditor&&window.pubSubEditor.publish("h5ds.load.plugins",d);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return A.apply(this,arguments)}function A(){return(A=d()(o.a.mark((function e(){var t,n,r,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:[],n=a.length>1&&void 0!==a[1]?a[1]:"",r=a.length>2&&void 0!==a[2]?a[2]:"layer",e.next=5,_();case 5:return t=E.a.filterPids(t),e.next=8,O(t,n,r);case 8:return e.next=10,D();case 10:return e.abrupt("return",{pluginsKey:window.H5DS_GLOBAL.plugins,scripts:window.H5DS_GLOBAL.scripts});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(11),a=n.n(r),o=n(4),i=n.n(o),s=n(5),c=n.n(s),l=n(32),u=new(function(){function e(){i()(this,e),this.getImageSource=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];e.replace(/((http(s)?:\/\/)?[a-zA-Z0-9_\-\.\/]+\.(png|jpg|jpeg|gif|svg))/g,(function(e){return t.push(e),e}));var n=[];return t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n},this.filterPids=function(e){return(e=(e=Array.from(new Set(e))).filter((function(e){return!l.a.includes(e)}))).filter((function(e){return e}))}}return c()(e,[{key:"getPid",value:function(e,t){var n=this;e&&e.forEach((function(e){e.pid&&t.push(e.pid+"@"+e.version),"h5ds_combin"===e.pid&&n.getPid(e.data,t)}))}},{key:"getPidByPageData",value:function(e){var t=[];return this.getPid(e.layers,t),this.filterPids(t)}},{key:"getPidByData",value:function(e){var t=this,n=[],r=e.pages,o=void 0===r?[]:r,i=e.fixeds,s=void 0===i?[]:i,c=e.popups,u=void 0===c?[]:c;return[].concat(a()(o),a()(s),a()(u)).forEach((function(e){t.getPid(e.layers,n)})),(n=(n=Array.from(new Set(n))).filter((function(e){return!l.a.includes(e)}))).filter((function(e){return e}))}}]),e}())},function(e,t,n){var r=n(158),a=n(161);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";function r(e){var t=0;return e&&e.layers.forEach((function(e){if(e.animate&&e.animate.length>0){var n=e.animate[e.animate.length-1],r=n.duration*(n.count===1/0?1e3:n.count)+n.delay;r>t&&(t=r)}if("h5ds_sound"===e.pid||"h5ds_video"===e.pid){var a=e.data.duration*(e.data.loop?1e3:1)+e.data.delay;a>t&&(t=a)}if("h5ds_zimu"===e.pid){var o=e.data.texts[e.data.texts.length-1];if(o){var i=o.duration+o.delay;i>t&&(t=i)}}if(e.data.animate){var s=e.data.animate.duration*e.data.animate.count+e.data.animate.delay;s>t&&(t=s)}var c=window.H5DS_GLOBAL.plugins[e.pid];if(null==c?void 0:c.getMaxFrame){var l=c.getMaxFrame(e);l>t&&(t=l)}})),t||(t=0),Math.ceil(10*t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["h5ds_combin","h5ds_img","h5ds_shape","h5ds_sound","h5ds_text","h5ds_video","h5ds-css-effect","h5ds_zimu"]},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=n(23),a=n.n(r),o=n(10),i=n.n(o),s=n(12),c=n.n(s),l=n(4),u=n.n(l),d=n(5),p=n.n(d),f=n(8),h=n.n(f),m=n(7),g=n.n(m),y=n(3),v=n.n(y),b=(n(129),n(0)),w=n.n(b),x=n(19),E=n(11),_=n.n(E),k=new(function(){function e(){u()(this,e)}return p()(e,[{key:"getBezierPoints",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=null,i=[];r||a?r&&!a?o=this.twoBezier:r&&a&&(o=this.threeBezier):o=this.oneBezier;for(var s=0;s<e;s++)i.push(o(s/e,t,n,r,a));return a?i.push(_()(a)):r&&i.push(_()(r)),i}},{key:"oneBezier",value:function(e,t,n){var r=i()(t,2),a=r[0],o=r[1],s=i()(n,2);return[a+(s[0]-a)*e,o+(s[1]-o)*e]}},{key:"twoBezier",value:function(e,t,n,r){var a=i()(t,2),o=a[0],s=a[1],c=i()(n,2),l=c[0],u=c[1],d=i()(r,2);return[(1-e)*(1-e)*o+2*e*(1-e)*l+e*e*d[0],(1-e)*(1-e)*s+2*e*(1-e)*u+e*e*d[1]]}},{key:"threeBezier",value:function(e,t,n,r,a){var o=i()(t,2),s=o[0],c=o[1],l=i()(a,2),u=l[0],d=l[1],p=i()(n,2),f=p[0],h=p[1],m=i()(r,2);return[s*(1-e)*(1-e)*(1-e)+3*f*e*(1-e)*(1-e)+3*m[0]*e*e*(1-e)+u*e*e*e,c*(1-e)*(1-e)*(1-e)+3*h*e*(1-e)*(1-e)+3*m[1]*e*e*(1-e)+d*e*e*e]}}]),e}());function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var D=function(e){h()(n,e);var t=C(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).outAnimateDo=function(){r.layerBoxRef&&(r.settime=setTimeout((function(){r.layerBoxRef&&(r.layerBoxRef.style.display="none"),setTimeout((function(){r.layerBoxRef&&(r.layerBoxRef.style.display="block")}))}),200))},r.showHide=function(e,t,n){var r=t.status,a=void 0===r?"toggle":r;if(n.includes(e.eventId))if("hide"===a)e.style.display="none";else if("show"===a)e.style.display="block";else{var o=e.style.display,i=void 0===o?"block":o;e.style.display="block"===i?"none":"block"}},r.onClick=function(){if(r.canRun()){var e=r.props.layer.events,t=void 0===e?[]:e;0!==t.length&&t.forEach((function(e){var t=e.eventId,n=e.eventParam;switch(t){case"h5ds_event_topage":if(r.props.appData)for(var a=r.props.appData.pages,o=0;o<a.length;o++){var i=a[o];if(n.value){/[0-9]+/.test(n.value)?window.pubSubLayer.publish("h5ds.layerEvent.topage",{value:n.value}):i.eventId===n.value&&window.pubSubLayer.publish("h5ds.layerEvent.topage",{value:o});break}}else console.error("单独使用Layer或者Page无需传入appData，事件无效！");break;case"h5ds_event_toggle_layer":if(r.props.appData){var s=n.value.split(",").filter((function(e){return e}));!function e(t){t.forEach((function(t){r.showHide(t,n,s),"h5ds_combin"===t.pid&&e(t.data)}))}(r.props.pageData.layers),r.props.updatePage&&r.props.updatePage()}else console.error("单独使用Layer无需传入pageData，隐藏页面中的其他元素事件无效！");break;case"h5ds_event_trigger_animate":if(r.props.appData){var c=n.value.split(",").filter((function(e){return e}));!function e(t){t.forEach((function(t){c.includes(t.eventId)&&(t.disableInitAnimate=!1,t.keyid=r.randomID()),"h5ds_combin"===t.pid&&e(t.data)}))}(r.props.pageData.layers),r.props.updatePage&&r.props.updatePage()}else console.error("单独使用Layer无需传入pageData，隐藏页面中的其他元素事件无效！");break;case"h5ds_event_toggle_popup":if(r.props.appData){var l=n.value.split(",").filter((function(e){return e}));r.props.appData.popups.forEach((function(e){r.showHide(e,n,l)})),window.pubSubLayer.publish("h5ds.update.popups")}else console.error("单独使用Layer或者Page无需传入appData，弹窗事件无效！");break;case"h5ds_event_sound":window.H5DS_GLOBAL.sounds?n.value.split(",").forEach((function(e){var t=window.H5DS_GLOBAL.sounds[e];t&&setTimeout((function(){if(r.selfEvents)switch(n.status){case"play":t.play(),r.layerBoxRef.setAttribute("data-sound-status","play");break;case"pause":t.pause(),r.layerBoxRef.setAttribute("data-sound-status","pause");break;case"stop":t.stop(),r.layerBoxRef.setAttribute("data-sound-status","stop");break;case"toggle":t.playing()?(t.pause(),r.layerBoxRef.setAttribute("data-sound-status","pause")):(t.play(),r.layerBoxRef.setAttribute("data-sound-status","play"))}}),1e3*t.delay||0)})):console.warn("未挂载音频资源，且只能播放当前音频");break;case"h5ds_event_click":window.pubSubLayer.publish(n.value,n),r.selfEvents.push(n.value);break;case"h5ds_event_link":location.href=n.value;break;case"h5ds_event_msg":location.href="sms:"+n.value;break;case"h5ds_event_tel":location.href="tel:"+n.value}}))}else console.warn("点击事件只在预览和发布后的页面有效，renderIn参数RENDER_IN_PREVIEW, RENDER_IN_PUBLISH")},r.setLayerClassName=function(e,t){var n=r.props.layer,a=["layer",t];return a.push("layer-".concat(n.pid)),e&&a.push("h5ds-swiper-stop-swiping"),n.events&&n.events.forEach((function(e){"h5ds_event_drag"===e.eventId&&a.push("h5ds-drag-layer")})),n.set&&n.set.hide&&a.push("layer-temporary-hide"),n.set&&n.set.lock&&a.push("layer-temporary-lock"),n.set&&n.set.pointerEvent&&a.push("layer-temporary-noevent"),a.join(" ")},r.setLayerAnimate=function(e,t,n){var a=r.props.layer,o=[],i=null,s=null;switch(a.animate&&a.animate.length>0&&a.animate.forEach((function(e,t){0===t&&(i=e.type,s=e.name),o.push("".concat(e.name," ").concat(e.duration,"s ").concat(e.timing," ").concat(e.delay,"s ").concat(e.count," ").concat(e.direction," ").concat(n?"paused":"running"," ").concat(e.fillMode))})),"h5ds_text"===a.pid&&a.data.animate&&Object.assign(e,O({},r.props.style)),i){case"in":Object.assign(e,O({},r.props.style)),"null-in"!==s&&Object.assign(t,{opacity:0});break;case"out":r.outAnimateDo()}return o},r.canRun=function(){return!![x.b.RENDER_IN_PREVIEW,x.b.RENDER_IN_PUBLISH,x.b.RENDER_IN_INDEPENDENT].includes(r.props.renderIn)},r.getPointOffset=function(){var e=r.props.layer.style;return[e.left+e.width/2,e.top+e.height/2]},r.getPathStyle=function(e){var t="",n=r.getPointOffset(),a=i()(n,2),o=a[0],s=a[1];return e.forEach((function(e){if("path"===e.type){t+="".concat(e.name,"{\n ");var n=10*(e.paths.length-1)-e.paths.length+2,r=0;e.paths.forEach((function(a,i){if(0!==i){var c=e.paths[i-1],l=k.getBezierPoints(9,[c.x+o,c.y+s],[c.cp1.x+o,c.cp1.y+s],[a.cp2.x+o,a.cp2.y+s],[a.x+o,a.y+s]);if(i>1&&l.shift(),l.forEach((function(e,i){var u=r/n,d=i/(l.length-1),p=c.opacity+(a.opacity-c.opacity)*d,f=c.scale+(a.scale-c.scale)*d,h=c.rotate+(a.rotate-c.rotate)*d,m=e[0]-o,g=e[1]-s;t+="".concat(100*u,"%{ opacity:").concat(p,"; transform: translate(").concat(m,"px, ").concat(g,"px) scale(").concat(f,") rotate(").concat(h,"deg);}\n  "),r++})),i===e.paths.length-1){var u=l[l.length-1],d=u[0]-o,p=u[1]-s;t+="100%{opacity:".concat(a.opacity,";  transform: translate(").concat(d,"px, ").concat(p,"px) scale(").concat(a.scale,") rotate(").concat(a.rotate,"deg);}\n")}}})),t+="}\n"}})),t},r.selfEvents=[],r}return p()(n,[{key:"randomID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}},{key:"setAdsorb",value:function(e,t,n,r){if(![x.b.RENDER_IN_PREVIEW,x.b.RENDER_IN_PUBLISH].includes(this.props.renderIn))return{top:t,left:n};if(!r)return{top:t,left:n};var a=r.adsorbTopBottom,o=void 0===a?0:a,i=r.adsorbLeftRight,s=void 0===i?0:i,c=r.scale,l=void 0===c?1:c;switch(o/=l,s/=l,e){case"top-left":t-=o,n-=s;break;case"top-center":t-=o;break;case"top-right":t-=o,n+=s;break;case"left-center":n+=s;break;case"right-center":n-=s;break;case"bottom-left":t+=o,n-=s;break;case"bottom-center":t+=o;break;case"bottom-right":t+=o,n+=s}return{top:t,left:n}}},{key:"componentWillUnmount",value:function(){this.settime&&clearTimeout(this.settime),this.selfEvents.forEach((function(e){window.pubSubLayer&&window.pubSubLayer.unsubscribe(e)})),this.selfEvents=null}},{key:"render",value:function(){var e=this,t=this.props,n=t.zIndex,r=t.children,o=t.renderIn,i=t.adsorbSet,s=t.initControl,c=(t.orientation,t.langPageTop),l=t.isLangPage,u=t.windowStyle,d=t.scale,p=t.layer;if(l&&u.height/d<p.style.top-c/d)return null;var f=this.props.isRenderThis;if(void 0===f&&(f=!0),!f&&!p.keepRender)return null;var h=p.style,m=h.top,g=h.left,y=a()(h,["top","left"]),v=this.setAdsorb(p.adsorb,m,g,i),b=O({zIndex:n,top:v.top,left:v.left},y),x=O({},p.estyle)||{},E=this.setLayerAnimate(b,x,p.disableInitAnimate),_=p.id,k=p.className;if(!this.canRun()){var S=(this.props.renderIn.split("_")||[]).pop();k=k?"".concat(S,"_").concat(k):null,_=_?"".concat(S,"_").concat(_):null}var C=null;if(p.events)for(var D=0;D<p.events.length;D++){var P=p.events[D];if("h5ds_event_drag"===P.eventId){C=JSON.stringify(P.eventParam);break}}var I=this.getPathStyle(p.animate,p.style);return p.offset&&!p.offset.disable&&(this.oldTop||(this.oldTop=b.top),c/d+p.offset.top>=this.oldTop&&(b.top=c/d+p.offset.top)),w.a.createElement("div",{id:_,ref:function(t){return e.layerBoxRef=t},key:p.keyid,"data-keyid":p.keyid,"data-renderin":o,onMouseDown:function(e){s&&s(9999-n,e,p.keyid)},onClick:function(t){s||e.onClick(t)},className:this.setLayerClassName(C,k),"data-drag":C,style:O({},b)},w.a.createElement("div",{ref:function(t){return e.layerRef=t},"data-delay":p.animate.map((function(e){return e.delay})).join(","),className:"element element-animate",style:O({animation:E.join(","),WebkitAnimation:E.join(",")},x)},w.a.createElement("div",{style:{transform:b.flip?"scale(".concat(b.flip.join(","),")"):"scale(1,1)"},className:"element-flip"},r,I&&w.a.createElement("style",{dangerouslySetInnerHTML:{__html:"@keyframes "+I}}))))}}]),n}(b.Component);D.defaultProps={renderIn:x.b.RENDER_IN_INDEPENDENT};t.a=D},function(e,t,n){"use strict";var r=n(4),a=n.n(r),o=n(5),i=n.n(o),s=n(8),c=n.n(s),l=n(7),u=n.n(l),d=n(3),p=n.n(d),f=(n(133),n(0)),h=n.n(f);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var g=function(e){c()(n,e);var t=m(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).getSpanStyle=function(e){var t=[],n={background:"background",backgroundClip:"-webkit-background-clip",color:"color",textFillColor:"-webkit-text-fill-color",textStroke:"text-stroke",opacity:"opacity",textShadow:"text-shadow",backgroundImage:"background-image",top:"top",left:"left",zIndex:"z-index"};for(var r in e)n[r]&&t.push("".concat(n[r],": ").concat(e[r]));return t.join(";")},e.getStyle=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a={},o={},i=null;switch(e){case"border":a.color=t[0],a.textFillColor=t[0],a.WebkitTextFillColor=t[0],o.textStroke="".concat(n,"px ").concat(t[1]),o.WebkitTextStroke="".concat(n,"px ").concat(t[1]);break;case"3d":a.color=t[0],a.textFillColor=t[0],a.WebkitTextFillColor=t[0],o.color=t[0],o.textShadow=new Array(n).fill(1).map((function(e,a){var o=Math.cos(r),i=Math.sin(r);return a+1<n?"".concat(o*(a+1),"px ").concat(i*(a+1),"px 0px ").concat(t[1]):"0px ".concat(n,"px ").concat(n,"px ").concat(t[1])})).join(",");break;case"kaTong":a.color=t[0],a.background="url(data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAHklEQVQImWNkYGBgYGD4//8/A5wF5SBYyAr+//8PAPOCFO0Q2zq7AAAAAElFTkSuQmCC) repeat",a.textShadow="".concat(n/2,"px -").concat(n/2,"px ").concat(t[0],", ").concat(n/2,"px -").concat(n/2,"px white"),a.textFillColor="transparent",a.WebkitTextFillColor="transparent",a.backgroundClip="text",a.WebkitBackgroundClip="text",o.opacity=0;break;case"jiaXin":a.color=t[0],a.textFillColor=t[0],a.WebkitTextFillColor=t[0],o.textStroke="".concat(n,"px ").concat(t[1]),o.WebkitTextStroke="".concat(n,"px ").concat(t[1]),i={zIndex:99,textStroke:"".concat(n+n/2,"px ").concat(t[0]),WebkitTextStroke:"".concat(n+n/2,"px ").concat(t[0])};break;case"yinYing":var s=Math.cos(r),c=Math.sin(r);a.color=t[0],a.textShadow="".concat(s*n/2,"px ").concat(c*n/2,"px ").concat(n/2,"px ").concat(t[1]),o.opacity=0;break;case"niHong":a.textStroke="1px ".concat(t[0]),a.WebkitTextStroke="1px ".concat(t[0]),a.color="transparent",o.color="transparent",o.textShadow="0px 0px ".concat(n,"px ").concat(t[0]);break;case"cuoJue":a.left=0,a.backgroundClip="text",a.WebkitBackgroundClip="text",a.textFillColor="transparent",a.WebkitTextFillColor="transparent",a.backgroundImage="linear-gradient(0deg, ".concat(t[1]," 50%, rgba(255, 255, 255, 0) 50%)"),o.left=-2,o.backgroundClip="text",o.WebkitBackgroundClip="text",o.textFillColor="transparent",o.WebkitTextFillColor="transparent",o.backgroundImage="linear-gradient(0deg, ".concat(t[2]," 100%, rgba(255, 255, 255, 0) 50%)"),i={zIndex:201,left:2,color:t[0]};break;case"jianBian":a.left=0,a.backgroundClip="text",a.WebkitBackgroundClip="text",a.textFillColor="transparent",a.WebkitTextFillColor="transparent",a.backgroundImage="linear-gradient(0deg, ".concat(t[0],", ").concat(t[1],", ").concat(t[2],")"),o.opacity=0;break;case"qieGe":a.backgroundClip="text",a.WebkitBackgroundClip="text",a.textFillColor="transparent",a.WebkitTextFillColor="transparent",a.backgroundImage="linear-gradient(0deg, ".concat(t[0]," 50%, rgba(255, 255, 255, 0) 50%)"),o.backgroundClip="text",o.WebkitBackgroundClip="text",o.textFillColor="transparent",o.WebkitTextFillColor="transparent",o.backgroundImage="linear-gradient(0deg, ".concat(t[1]," 100%, rgba(255, 255, 255, 0) 50%)");break;case"fire":a.color=t[0],o.opacity=0;break;case"snow":a.textFillColor=t[0],a.textFillColor=t[0],a.WebkitTextFillColor=t[0],o.color="#fff",o.textShadow="".concat(t[1]," 0px ").concat(n/2,"px ").concat(n/2,"px"),o.textStroke="".concat(n/2,"px ").concat(t[1]),o.WebkitTextStroke="".concat(n/2,"px ").concat(t[1]),i={zIndex:201,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAeCAYAAAARgF8NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDOEJGMEM5MDMwRUYxMUU5OUU1QkJFMjJGQjU2M0JBMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDOEJGMEM5MTMwRUYxMUU5OUU1QkJFMjJGQjU2M0JBMyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkM4QkYwQzhFMzBFRjExRTk5RTVCQkUyMkZCNTYzQkEzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkM4QkYwQzhGMzBFRjExRTk5RTVCQkUyMkZCNTYzQkEzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+PM6S9AAAAFlJREFUeNpi/P///1cGBgYuIP4FxGwMEABjf2MEKvjPgAcwMRAAowqGm4JveOTBCQbEwJVoGCl3AwtSImVAS7QQO9DSLIzDSLIVDOg6aRfU/9EDjXJHAgQYAOqPGQ3i3HYXAAAAAElFTkSuQmCC) repeat-x",textFillColor:"transparent",WebkitTextFillColor:"transparent",backgroundClip:"text",WebkitBackgroundClip:"text"};break;case"louKong":var l=Math.cos(r),u=Math.sin(r);a.top=u*n/2,a.left=l*n/2,a.textStroke="1px ".concat(t[1]),a.WebkitTextStroke="1px ".concat(t[1]),a.textFillColor="transparent",a.WebkitTextFillColor="transparent",o.color=t[0]}return{upStyle:a,downStyle:o,otherStyle:i}},e}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=void 0===n?10:n,a=e.rotate,o=e.colors,i=void 0===o?["#000"]:o,s=e.style,c=void 0===s?{}:s,l=e.shtml,u=["h5ds-artword","h5ds-artword-"+t],d=this.getStyle(t,i,r,a),p=d.upStyle,f=d.downStyle,m=d.otherStyle;return t?l?h.a.createElement("div",{style:c,className:u.join(" ")},h.a.createElement("div",{style:p,className:"h5ds-artword-up",dangerouslySetInnerHTML:{__html:l}}),h.a.createElement("div",{style:f,className:"h5ds-artword-down",dangerouslySetInnerHTML:{__html:l}}),m?h.a.createElement("div",{style:m,className:"h5ds-artword-up",dangerouslySetInnerHTML:{__html:l}}):null):h.a.createElement("div",{style:c,className:u.join(" ")},h.a.createElement("div",{style:p,className:"h5ds-artword-up"},this.props.children),h.a.createElement("div",{style:f,className:"h5ds-artword-down"},this.props.children),m?h.a.createElement("div",{style:m,className:"h5ds-artword-up"},this.props.children):null):h.a.createElement("div",{style:c,className:u.join(" "),dangerouslySetInnerHTML:{__html:l}})}}]),n}(f.PureComponent);t.a=g},function(e,t){e.exports=a},function(e,t,n){"use strict";n.r(t),n.d(t,"browserType",(function(){return o.c})),n.d(t,"installPlugins",(function(){return o.j})),n.d(t,"mountBasicLayerPlugins",(function(){return o.l})),n.d(t,"loadExtensionScripts",(function(){return o.k})),n.d(t,"mountExtensionPlugins",(function(){return o.m})),n.d(t,"appUtil",(function(){return o.b})),n.d(t,"cleanLayers",(function(){return o.g})),n.d(t,"cleanData",(function(){return o.f})),n.d(t,"cleanPage",(function(){return o.h})),n.d(t,"cleanAnimate",(function(){return o.e})),n.d(t,"trackingHelper",(function(){return o.n})),n.d(t,"LoadSource",(function(){return o.a})),n.d(t,"util",(function(){return o.o})),n.d(t,"getMaxFrameKey",(function(){return o.i})),n.d(t,"ignorePids",(function(){return i.a})),n.d(t,"Fixed",(function(){return s.a})),n.d(t,"Layer",(function(){return s.b})),n.d(t,"Page",(function(){return s.d})),n.d(t,"Popup",(function(){return s.e})),n.d(t,"version",(function(){return c.g})),n.d(t,"getInitData",(function(){return c.d})),n.d(t,"previewTemplate",(function(){return c.e})),n.d(t,"enums",(function(){return K})),n.d(t,"H5Swiper",(function(){return G})),n.d(t,"SoundLayer",(function(){return s.f}));var r=n(12),a=n.n(r),o=(n(236),n(18)),i=n(32),s=n(20),c=n(15),l=n(24),u=n(21),d=n.n(u),p=n(6),f=n.n(p),h=n(14),m=n.n(h),g=n(11),y=n.n(g),v=n(4),b=n.n(v),w=n(5),x=n.n(w),E=n(8),_=n.n(E),k=n(7),S=n.n(k),O=n(3),C=n.n(O),D=n(0),P=n.n(D),I=(n(239),n(13)),A=n.n(I);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var a=C()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S()(this,n)}}var T=function(e){_()(n,e);var t=j(n);function n(e){var r;return b()(this,n),(r=t.call(this,e)).state={keys:r.randomID()},r}return x()(n,[{key:"randomID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}},{key:"componentDidMount",value:function(){var e=this;window.pubSubLayer&&window.pubSubLayer.subscribe("h5ds.update.fixeds",(function(t){e.setState({keys:e.randomID()},(function(){t&&t()}))}))}},{key:"componentWillUnmount",value:function(){window.pubSubLayer&&window.pubSubLayer.unsubscribe("h5ds.update.fixeds")}},{key:"render",value:function(){this.state.keys;var e=this.props,t=e.data,n=e.windowStyle,r=e.renderIn,a=e.utils;return P.a.createElement("div",{className:"h5ds-fixeds"},t.fixeds.map((function(e,o){return P.a.createElement(s.a,{key:e.keyid,orientation:t.orientation,className:A()({"h5ds-fixed-0":0===o,"h5ds-fixed-1":1===o}),style:{height:0===o?0:n.height},center:!0,utils:a,renderIn:r,keyid:e.keyid,windowStyle:n,scrollPosition:0,isRenderThis:!0,appData:t,data:e})})))}}]),n}(D.Component);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var a=C()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S()(this,n)}}var M=function(e){_()(n,e);var t=R(n);function n(e){var r;return b()(this,n),(r=t.call(this,e)).slideNext=function(){r.swiperInstance&&r.swiperInstance.slideNext()},r.slidePrev=function(){r.swiperInstance&&r.swiperInstance.slidePrev()},r.slideTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r.swiperInstance.slideTo(e,t)},r.updateSwiper=function(){r.swiperInstance.updateSize(),r.swiperInstance.updateSlides(),r.slideTo(0)},r.slideChangeTransitionEnd=function(){var e=r.swiperInstance.snapIndex;r.swiperInstance.h5dsRealIndex=e,r.setState({renderIndex:e})},r.newSwiper=function(){var e=r.props.data.slider,t=e.time,n=e.effect,a=e.autoplay,o=e.speed,i=void 0===o?.5:o,s=e.direction,c=void 0===s?"vertical":s,l=!1;a&&(l={delay:1e3*t,disableOnInteraction:!1}),r.swiperInstance=new window.Swiper("#".concat(r.id),{loop:!1,speed:1e3*i,autoplay:l,roundLengths:!0,direction:c,effect:n,mousewheel:!1,noSwipingClass:"h5swiper-swiper-stop-swiping",watchOverflow:!0}),r.swiperInstance.h5dsRealIndex=0,r.swiperInstance.on("transitionEnd",r.slideChangeTransitionEnd),window.swiperInstance=r.swiperInstance},r.state={renderIndex:0},r.id="h5ds_h5swiper_".concat(r.randomID()),r}return x()(n,[{key:"randomID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}},{key:"componentDidUpdate",value:function(e){var t=this;this.timer||this.props.windowStyle.height!==e.windowStyle.height&&($(this.pageRef.target).find(".h5ds-page-box")[0].scrollIntoView({behavior:"auto",block:"start",inline:"start"}),this.timer=setTimeout((function(){t.swiperInstance&&t.swiperInstance.update(),t.pageRef&&t.pageRef.swiperLangPageInstance&&(window.scroll(0,0),t.pageRef.swiperLangPageInstance.refresh()),t.timer=null}),100))}},{key:"componentDidMount",value:function(){this.newSwiper()}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.windowStyle,r=t.renderIn,a=t.data,o=t.utils,i=this.state.renderIndex;return P.a.createElement("div",{id:this.id,className:"h5ds-pages h5ds-h5swiper-container swiper-container",style:L({},n)},P.a.createElement("div",{className:"swiper-wrapper h5ds-h5swiper-pages"},a.pages.map((function(t,c){var l="keyid_"+t.keyid+"_".concat(c);return P.a.createElement(s.d,{key:l,className:A()("swiper-slide","h5ds-h5swiper-page",{"swiper-slide-active":i-c==0,"swiper-slide-prev h5ds-ban-animate":i-c>0,"swiper-slide-next h5ds-ban-animate":i-c<0,"h5swiper-swiper-stop-swiping":t.slider.lock}),utils:o,orientation:a.orientation,useSwiperScroll:!0,center:!0,index:c,renderIndex:i,ref:function(t){return i===c?e.pageRef=t:null},renderIn:r,keyid:t.keyid,windowStyle:n,scrollPosition:0,willRender:i-1===c||i+1===c,isRenderThis:i===c,appData:a,data:t})}))))}}]),n}(D.Component);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var a=C()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S()(this,n)}}var B=function(e){_()(n,e);var t=z(n);function n(){return b()(this,n),t.apply(this,arguments)}return x()(n,[{key:"randomID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}},{key:"componentDidMount",value:function(){var e=this;window.pubSubLayer&&window.pubSubLayer.subscribe("h5ds.update.popups",(function(t){e.forceUpdate(),t&&t()}))}},{key:"componentWillUnmount",value:function(){window.pubSubLayer&&window.pubSubLayer.unsubscribe("h5ds.update.popups")}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.windowStyle,a=t.renderIn,o=t.utils;return P.a.createElement("div",{className:"h5ds-popups",id:"h5dsPopups"},n.popups.map((function(t,i){var c=t.style,l=void 0===c?{}:c;return l.display||(l.display="none"),"none"===l.display?null:P.a.createElement(s.e,{className:"h5ds-popup",key:t.keyid,center:!0,utils:o,orientation:n.orientation,style:Object.assign({},l,r),useSwiperScroll:!0,renderIn:a,keyid:t.keyid,windowStyle:r,scrollPosition:0,isRenderThis:!0,updatePopups:e.updatePopups,appData:n,data:t})})))}}]),n}(D.Component),H=n(56),F=n(57),W=n(27),Y=n(28);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var a=C()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S()(this,n)}}var G=function(e){_()(n,e);var t=U(n);function n(e){var r;return b()(this,n),(r=t.call(this,e)).initLandscapeData=function(e){[].concat(y()(e.pages),y()(e.popups),y()(e.fixeds)).forEach((function(e){var t=e.style,n=t.width,r=t.height;e.style.width=r,e.style.height=n,e.layers.forEach((function(e){var t=e.style,n=t.top,r=t.left;e.style.top=r,e.style.left=n,e.style.transform="rotate(-90deg) scale(-1, 1)",e.style.transformOrigin="0 0"}))}))},r.slideNext=function(){r.swiperRef&&r.swiperRef.slideNext()},r.slidePrev=function(){r.swiperRef&&r.swiperRef.slidePrev()},r.slideTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r.swiperRef&&r.swiperRef.slideTo(e,t)},r.utils=function(){return{toPage:r.slideTo,prevPage:r.slidePrev,nextPage:r.slideNext}},r.updateSwiper=function(){r.swiperRef&&r.swiperRef.updateSwiper()},r.pluginLoadEnd=function(){var e;(null==(e=r.swiperRef)?void 0:e.swiperInstance)&&(r.swiperInstance=r.swiperRef.swiperInstance,window.pubSubLayer.subscribe("h5ds.layerEvent.topage",(function(e){r.slideTo(e.value,500)})),r.props.appId&&(window.H5DS_APP_ID=r.props.appId||""),r.props.renderEnd&&r.props.renderEnd())},r._sleep=function(e){return new Promise((function(t){r.timeout=setTimeout((function(){t(!0)}),e||1e3)}))},r.init=m()(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.props.pluginsLoader){e.next=4;break}return t=Y.a.getPidByData(r.props.data),e.next=4,Object(W.a)(t,r.props.pluginsHost);case 4:return e.next=6,r._sleep();case 6:r.setState({loadEnd:!0},r.pluginLoadEnd);case 7:case"end":return e.stop()}}),e)}))),r.state={loadEnd:!1},"landscape"===e.data.orientation&&r.initLandscapeData(e.data,e.scale),r}return x()(n,[{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout),window.H5DS_APP_ID=void 0,window.pubSubLayer&&window.pubSubLayer.unsubscribe("h5ds.layerEvent.topage")}},{key:"render",value:function(){var e=this,t=this.props,n=t.windowStyle,r=t.data,a=t.scale,o=this.state.loadEnd;if("landscape"===r.orientation&&n.height<n.width)return P.a.createElement("div",{style:V({},n),className:"h5ds-landscape-tips"},P.a.createElement("img",{src:"https://cdn.h5ds.com/static/images/landscape-tips.png",alt:""}));if(!o)return P.a.createElement(F.a,d()({scale:(n.width||320)/320},r.loader));var i=this.utils(),s=Object.assign({},V({},r.style),n),c={};a&&(s.width*=a,s.height*=a,s.transform="scale(".concat(1/a,")"),c.width=s.width/a,c.height=s.height/a,c.transform="scale(".concat(a,")"));var l=n.width/(r.style.width||320);return P.a.createElement("div",{className:"h5ds-preview-h5swiper",style:s},P.a.createElement("div",{className:"h5ds-preview-h5swiper-mirror",style:{transform:"landscape"===r.orientation?"scale(-1, 1)":"none"}},P.a.createElement("div",{className:"h5ds-preview-h5swiper-scalebox",style:c},!r.music.disabled&&P.a.createElement(H.a,d()({},r.music,{layerScale:l})),P.a.createElement(T,d()({},this.props,{utils:i})),P.a.createElement(B,d()({},this.props,{utils:i})),P.a.createElement(M,d()({},this.props,{utils:i,ref:function(t){return e.swiperRef=t}})))))}}]),n}(D.Component);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var K=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c.f);Object(l.mountValue)("swiper",{browserType:o.c,installPlugins:o.j,mountBasicLayerPlugins:o.l,loadExtensionScripts:o.k,mountExtensionPlugins:o.m,appUtil:o.b,cleanLayers:o.g,cleanData:o.f,cleanPage:o.h,cleanAnimate:o.e,trackingHelper:o.n,LoadSource:o.a,util:o.o,getMaxFrameKey:o.i,ignorePids:i.a,Fixed:s.a,Layer:s.b,Page:s.d,Popup:s.e,version:c.g,getInitData:c.d,previewTemplate:c.e,enums:K,H5Swiper:G,SoundLayer:s.f})},function(e,t,n){"use strict";n.r(t),n.d(t,"LayerComp",(function(){return I})),n.d(t,"scripts",(function(){return A})),n.d(t,"config",(function(){return E})),n.d(t,"LayerJSON",(function(){return O.a}));var r=n(12),a=n.n(r),o=n(4),i=n.n(o),s=n(5),c=n.n(s),l=n(8),u=n.n(l),d=n(7),p=n.n(d),f=n(3),h=n.n(f),m=(n(134),n(0)),g=n.n(m);function y(){return g.a.createElement("div",{className:"cloud"},g.a.createElement("i",null),g.a.createElement("i",null),g.a.createElement("i",null),g.a.createElement("i",null),g.a.createElement("i",null),g.a.createElement("i",null),g.a.createElement("i",null),g.a.createElement("i",null),g.a.createElement("i",null),g.a.createElement("i",null),g.a.createElement("i",null),g.a.createElement("i",null))}var v=new(function(){function e(){i()(this,e)}return c()(e,[{key:"randomNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.min(Math.floor(e+Math.random()*(t-e)),t)}}]),e}());function b(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.width,r=e.height,a=[],o=0;o<(t.count||50);o++){var i=v.randomNumber(t.min||1,t.max||6);a.push({width:i,height:i,top:v.randomNumber(0,parseInt(r,10)),left:v.randomNumber(0,parseInt(n,10)),delay:Math.random(),time:v.randomNumber(t.speed,2*t.speed)})}return g.a.createElement("div",null,a.map((function(e,n){var r={backgroundColor:t.backgroundColor||"rgba(255,255,255,1)",boxShadow:"0 0 5px ".concat(t.backgroundColor||"rgba(255,255,255,1)"),width:e.width,height:e.height,left:e.left,top:e.top,WebkitAnimationDelay:"".concat(e.delay,"s"),WebkitAnimation:"star ".concat(e.time,"s linear infinite")};return g.a.createElement("i",{key:n,className:"star",style:r})})))}function w(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.width,r=e.height,a=[],o=0;o<(t.count||50);o++)a.push({width:v.randomNumber(t.min||20,t.max||200),height:1,top:v.randomNumber(-r,r),left:v.randomNumber(-n,n),delay:v.randomNumber(0,3),time:v.randomNumber(t.speed,2*t.speed)});return g.a.createElement("div",null,a.map((function(e,t){var n={width:e.width,height:e.height,left:e.left,top:e.top,WebkitAnimationDelay:"".concat(e.delay,"s"),WebkitAnimation:"movestar ".concat(e.time,"s linear infinite")};return g.a.createElement("i",{key:t,className:"movestar style3",style:n})})))}function x(e,t){for(var n=t.img,r=e.width,a=e.height,o=[],i=0;i<(t.count||100);i++){var s=v.randomNumber(t.min||2,t.max||12);o.push({width:s,height:s,top:v.randomNumber(-a,0),left:v.randomNumber(0,parseInt(r,10)),delay:v.randomNumber(1,20),time:v.randomNumber(t.speed,2*t.speed)})}return g.a.createElement("div",null,o.map((function(e,t){var r={width:e.width,height:e.height,left:e.left,top:e.top,backgroundImage:"url(".concat(n,")"),WebkitAnimationDelay:"".concat(e.delay,"s"),WebkitAnimation:"snow ".concat(e.time,"s linear infinite")};return g.a.createElement("i",{key:t,className:"snow",style:r})})))}var E={pid:"h5ds-css-effect",name:"CSS特效",locale:{"zh-CN":"CSS特效","zh-TW":"CSS特效",en:"CSS style"},version:"1.0.0"},_=n(19),k=n(59),S=n.n(k),O=n(64);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var I=function(e){u()(n,e);var t=P(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={ReactDom:null},e.setRender=function(t){var n=e.props.layer,r=n.data,a=n.style,o=a.width,i=a.height,s="https://cdn.h5ds.com",c=null;switch(r.type){case"snow":c=x({width:o,height:i},t=Object.assign({min:2,max:12,count:100,speed:15,img:s+"/static/images/snow.png"},t));break;case"packet":c=x({width:o,height:i},t=Object.assign({min:20,max:40,count:30,speed:10,img:s+"/static/images/packet.png"},t));break;case"petal":c=x({width:o,height:i},t=Object.assign({min:10,max:30,count:30,speed:10,rotate:10,img:s+"/static/images/petal.png"},t));break;case"money":c=x({width:o,height:i},t=Object.assign({min:10,max:30,count:30,speed:10,img:s+"/static/images/money.png"},t));break;case"cloud":c=y();break;case"star":c=b({width:o,height:i},t=Object.assign({min:1,max:6,count:50,speed:2},t));break;case"movestar":c=w({width:o,height:i},t=Object.assign({min:20,max:200,count:50,speed:2},t));break;case"other":c=x({width:o,height:i},t=Object.assign({min:10,max:30,count:100,speed:15},t))}return c},e}return c()(n,[{key:"componentDidMount",value:function(){var e=this.setRender(D({},this.props.layer.set));this.setState({ReactDom:e})}},{key:"componentDidUpdate",value:function(){if(!S()(this.oldSet,this.props.layer.data.set)){this.oldSet=D({},this.props.layer.data.set);var e=this.setRender(D({},this.oldSet));this.setState({ReactDom:e})}}},{key:"render",value:function(){return[_.b.RENDER_IN_CANVAS,_.b.RENDER_IN_PREVIEW,_.b.RENDER_IN_PUBLISH].includes(this.props.renderIn)?g.a.createElement("div",{className:"h5ds-layerinner-csseffect"},this.state.ReactDom):null}}]),n}(m.Component),A=[]},function(e,t,n){"use strict";n.r(t),n.d(t,"LayerComp",(function(){return f})),n.d(t,"scripts",(function(){return h})),n.d(t,"config",(function(){return l}));var r=n(12),a=n.n(r),o=n(10),i=n.n(o),s=(n(137),n(0)),c=n.n(s),l={pid:"h5ds_video",name:"视频",version:"1.0.0"},u=n(24);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=e.layer,n=e.renderIn,r=e.stopAnimateInStep,a=Object(s.useRef)(),o=Object(s.useRef)({}),l=Object(s.useState)(!1),u=i()(l,2),d=u[0],f=u[1],h=Object(s.useState)(!0),m=i()(h,2),g=m[0],y=m[1],v=t.data,b=t.keyid;v.duration=parseFloat(v.duration);var w="id_video_".concat(t.keyid,"_").concat(n),x=function(e){if(a.current){a.current.paused||_();var t=0;return void 0!==e&&(t=(e/=10)<v.delay||e>v.duration+v.delay?null:(e-v.delay)/v.duration),t}},E=function(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},_=function(){var e,t,n;a.current&&(E()&&(null==(e=window)||null==(t=e.wx)?void 0:t.getNetworkType)?window.wx.getNetworkType({success:function(){var e;null==(e=a.current)||e.pause()}}):null==(n=a.current)||n.pause())},k=function(e){a.current&&(!function(){var e=$("#"+w+"_play");if(e){var t=e[0].currentTime;$("#"+w+"_show")[0].currentTime=t}}(),o.current.time1&&(clearTimeout(o.current.time1),o.current.time1=null),o.current.time2&&(clearTimeout(o.current.time2),o.current.time2=null),_(),e||f(!1))},S=function(){k(!0),f(!0),o.current.time1=setTimeout((function(){var e,t,n;a.current&&(a.current&&(a.current.volume=v.volume||1),E()&&(null==(e=window)||null==(t=e.wx)?void 0:t.getNetworkType)?window.wx.getNetworkType({success:function(){var e;null==(e=a.current)||e.play()}}):null==(n=a.current)||n.play()),y(!0),o.current.time2=setTimeout((function(){y(!1),_()}),1e3*v.duration)}),1e3*v.delay)};Object(s.useEffect)((function(){switch(a.current=$("#"+w+"_play")[0],n){case"render_in_pagelist":break;case"render_in_canvas":$(window).off("h5ds.playAnimate."+b).on("h5ds.playAnimate."+b,(function(){S()})),$(window).off("h5ds.pauseAnimate."+b).on("h5ds.pauseAnimate."+b,(function(){k()}));break;default:var e=x(r||0);null!==e&&a.current&&(a.current.currentTime=v.duration*e),v.autoplay&&S(),$(window).off("h5ds.fps.frame."+b).on("h5ds.fps.frame."+b,(function(e,t){if(k(),t.frame){var n=!0,r=t.frame-10*v.delay;r<0&&(r=0,n=!1),t.frame>10*(v.delay+v.duration)&&(r=10*(v.delay+v.duration),n=!1),y(n);var o=x(t.frame);null!==o&&a.current&&(a.current.currentTime=v.duration*o)}}))}return function(){k(),$(window).off("h5ds.playAnimate."+b),$(window).off("h5ds.pauseAnimate."+b),a.current=null,a.current=null,$(window).off("h5ds.fps.frame."+b)}}),[]);var O=function(e){var t,n={},r={},a={};if(e.data.crop){var o=e.data.crop,i=o.x,s=void 0===i?0:i,c=o.y,l=void 0===c?0:c,u=o.width,d=void 0===u?1:u,p=o.height,f=void 0===p?1:p;n={top:-l,left:-s,width:o.naturalWidth,height:o.naturalHeight},r={width:d,height:f,transform:"scale(".concat(e.style.width/d,", ").concat(e.style.height/f,")")}}else r={width:e.style.width,height:e.style.height,transform:"scale(1)"};return e.data.clip||(e.data.clip={disabled:!0,path:"circle(50% at 50% 50%)"}),(null==(t=e.data.clip)?void 0:t.disabled)||(a={clipPath:e.data.clip.path}),{boxStyle:n,innerStyle:r,clipStyle:a}}(t),C=O.innerStyle,D=O.clipStyle,P=O.boxStyle,I=function(e,t){return"render_in_pagelist"===n?c.a.createElement("img",{src:v.src+"?x-oss-process=video/snapshot,t_1000,f_jpg,w_0,h_0,m_fast"}):c.a.createElement("video",{className:!0,style:{pointerEvents:"none",objectFit:"fill"},src:v.src,muted:v.muted,id:t,controls:v.control,poster:v.src+"?x-oss-process=video/snapshot,t_1000,f_jpg,w_0,h_0,m_fast",preload:"auto",playsInline:!0,"x5-video-player-type":"h5","x5-video-player-fullscreen":"true","x5-video-orientation":"portraint"})},A=t.data.videoSourceType||"local";return c.a.createElement("div",{className:"layer-h5ds_video-inner",style:p(p(p({},C),D),{},{display:g?"block":"none"})},c.a.createElement("div",{className:"layer-h5ds_video-box",style:p({},P)},("local"===A||"outlink"===A)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"layer-h5ds_video-box-show",style:{display:d?"none":"block"},onClick:S},I(0,w+"_show")),c.a.createElement("div",{className:"layer-h5ds_video-box-play",style:{display:d?"block":"none"},onClick:function(){return k()}},I(0,w+"_play"))),"third"===A&&c.a.createElement("div",{style:{width:"100%",height:"100%"},dangerouslySetInnerHTML:{__html:t.data.src}})))}var h=[];Object(u.mountPlugin)({LayerComp:f,scripts:h,config:l})},function(e,t,n){"use strict";n.r(t),n.d(t,"LayerComp",(function(){return v})),n.d(t,"scripts",(function(){return b})),n.d(t,"config",(function(){return f}));var r=n(21),a=n.n(r),o=n(12),i=n.n(o),s=n(10),c=n.n(s),l=n(23),u=n.n(l),d=(n(136),n(0)),p=n.n(d),f={pid:"h5ds_zimu",name:"字幕",version:"1.0.0"},h=n(24),m=n(35);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=this,n=e.layer,r=u()(e,["layer"]),o=n.data,i=n.keyid,s=o.texts,l=i+"."+r.renderIn,f=Object(d.useRef)(),h=Object(d.useState)({value:"",duration:0,delay:0,fontFamilySet:{name:"默认字体",url:""},style:{letterSpacing:"normal",lineHeight:"normal",color:"rgba(0,0,0,1)",textDecoration:"normal",textAlign:"center",fontFamily:"默认字体",fontWeight:"normal",fontStyle:"normal",fontSize:"18px"},artword:{type:"",name:"",colors:[],size:10}}),g=c()(h,2),v=g[0],b=g[1],w=function(e){var t=0,n=0,r=!1;s.forEach((function(a){t=a.delay,n=a.delay+a.duration,e/10>=t&&e/10<=n&&(r=!0,b(y({},a)))})),r||b({value:"",duration:0,delay:0,fontFamilySet:{},style:{},artword:{}})},x=function(){f.current&&(clearInterval(f.current),f.current=null)};Object(d.useEffect)((function(){if($(window).off("h5ds.fps.frame."+l).on("h5ds.fps.frame."+l,(function(e,t){x(),w(t.frame)})),$(window).off("h5ds.pauseAnimate."+l).on("h5ds.pauseAnimate."+l,(function(){x()})),"render_in_canvas"===r.renderIn)w(0),$(window).off("h5ds.playAnimate."+l).on("h5ds.playAnimate."+l,(function(){var e=0;x(),f.current=setInterval((function(){e++,w(e)}),100)}));else{var e=0;x(),f.current=setInterval((function(){e++,w(e)}),100)}return function(){$(window).off("h5ds.playAnimate."+l),$(window).off("h5ds.pauseAnimate."+l),$(window).off("h5ds.fps.frame."+l),f.current&&clearInterval(f.current)}}),[]);var E=v.fontFamilySet.url?"@font-face {\n    font-family: ".concat(v.fontFamilySet.name,";\n    src: url(").concat(v.fontFamilySet.url,");\n  }"):"",_=y({},v.style),k=v.artword,S="";return v.value&&(S=function(e,n){e=e.replace(/\/n/g,"\n");var r="";if(!n){var a=[];return e.split("\n").forEach((function(e){e=e.replace(/\s/g,"&nbsp;"),a.push("<p>".concat(e,"</p>"))})),a.join("")}var o=0;return e.split("").forEach((function(e){if("\n"===e)e="<br/>";else if(" "===e||"s"===e)e="&nbsp;";else if("render_in_pagelist"!==t.props.renderIn){var a=parseFloat(n.delay)+parseFloat(n.interval)*o;o++,e='<span data-delay="'.concat(a,'" class="animated element-animate" style="animation: ').concat(n.name," ").concat(n.duration,"s ").concat(n.timing," ").concat(a,"s ").concat(n.count," ").concat(n.direction," ").concat(n.disableInitAnimate?"paused":"running"," ").concat(n.fillMode,';\n          opacity: 0">').concat(e,"</span>")}r+=e})),r}(v.value)),p.a.createElement("div",{className:"pl-h5ds_zimu",style:_},k.type?p.a.createElement("div",{className:"layer-h5ds_text-auto"},p.a.createElement(m.a,a()({shtml:S},k))):p.a.createElement("div",{className:"layer-h5ds_text-auto",dangerouslySetInnerHTML:{__html:S}}),v.fontFamilySet.url?p.a.createElement("style",null,E):null)}var b=[];Object(h.mountPlugin)({LayerComp:v,scripts:b,config:f})},function(e,t,n){var r=n(25).Symbol;e.exports=r},function(e,t,n){var r=n(41),a=n(143),o=n(144),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(6),a=n.n(r),o=n(14),i=n.n(o),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=function(){function e(t){c()(this,e),this.progress=null,t&&(this.manifest=this.setSource(t)),this.sources=t}var t;return u()(e,[{key:"imgLazy",value:function(e){return new Promise((function(t,n){var r=new Image;r.src=e,r.onload=function(){t(r)},r.onerror=function(){console.error("图片加载失败",r),n(r)}}))}},{key:"soundLazy",value:function(e){return new Promise((function(t,n){var r=new Audio(e);r.onloadedmetadata=function(){t(r)},r.onerror=function(){console.error("sound加载失败",e),n(e)},r.src=e}))}},{key:"jsLazy",value:function(e,t){return new Promise((function(n,r){if(t&&document.getElementById(t))n(!0);else{var a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async="async",a.id=t,a.src=e,document.head.appendChild(a),a.onload=function(){n(a)},a.onerror=function(){console.error("js加载失败",e),r(e)}}}))}},{key:"cssLazy",value:(t=i()(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:if(!n||!document.getElementById(n)){e.next=5;break}return e.abrupt("return");case 5:r=document.getElementsByTagName("head")[0],(o=document.createElement("link")).type="text/css",o.rel="stylesheet",o.id=n,o.href=t,r.appendChild(o);case 12:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})},{key:"load",value:function(){var e=this,t=this.manifest;return new Promise(function(){var n=i()(a.a.mark((function n(r,o){var i,s,c,l;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=[],s=[],c=a.a.mark((function n(r){var o,c,l,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=t[r],c=o.src,l=o.id,u=o.type,n.t0=u,n.next="image"===n.t0?4:"js"===n.t0?7:"sound"===n.t0?10:"css"===n.t0?13:15;break;case 4:return n.next=6,e.imgLazy(c).then((function(){s.push({src:c,id:l,type:u}),e.progress&&e.progress({src:c,id:l,type:u,success:!0,loaded:(r+1)/t.length})})).catch((function(){i.push({src:c,id:l,type:u}),e.progress&&e.progress({src:c,id:l,type:u,success:!1,loaded:(r+1)/t.length})}));case 6:return n.abrupt("break",15);case 7:return n.next=9,e.jsLazy(c,l).then((function(){s.push({src:c,id:l,type:u}),e.progress&&e.progress({src:c,id:l,type:u,success:!0,loaded:(r+1)/t.length})})).catch((function(){i.push({src:c,id:l,type:u}),e.progress&&e.progress({src:c,id:l,type:u,success:!1,loaded:(r+1)/t.length})}));case 9:return n.abrupt("break",15);case 10:return n.next=12,e.soundLazy(c).then((function(){s.push({src:c,id:l,type:u}),e.progress&&e.progress({src:c,id:l,type:u,success:!0,loaded:(r+1)/t.length})})).catch((function(){i.push({src:c,id:l,type:u}),e.progress&&e.progress({src:c,id:l,type:u,success:!1,loaded:(r+1)/t.length})}));case 12:return n.abrupt("break",15);case 13:return e.cssLazy(c,l),n.abrupt("break",15);case 15:case"end":return n.stop()}}),n)})),l=0;case 4:if(!(l<t.length)){n.next=9;break}return n.delegateYield(c(l),"t0",6);case 6:l++,n.next=4;break;case 9:e.complete&&e.complete({error:i,success:s}),s.length===t.length?(e.success&&e.success(),r({error:i,success:s})):(e.error&&e.error(),o({error:i,success:s}));case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"on",value:function(e,t){switch(e){case"progress":this.progress=t;break;case"error":this.error=t;break;case"complete":this.complete=t;break;case"success":this.success=t}}},{key:"setSource",value:function(e){if(e){var t=e.map((function(e,t){var n="*",r=e.replace(/.+\.(.+)/,"$1");return-1!==["jpg","gif","png","jpeg"].indexOf(r)?n="image":-1!==["mp3","wav","ogg","acc","webm"].indexOf(r)?n="sound":-1!==["js","es"].indexOf(r)?n="js":-1!==["css"].indexOf(r)&&(n="css"),{src:e,id:"source_"+t,type:n}}));return this.manifest=t,t}}}]),e}()},function(e,t,n){(function(n){var r;!function(){"use strict";var a=function(){this.init()};a.prototype={init:function(){var e=this||o;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||o;if(e=parseFloat(e),t.ctx||f(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),a=0;a<r.length;a++){var i=t._howls[n]._soundById(r[a]);i&&i._node&&(i._node.volume=i._volume*e)}return t}return t._volume},mute:function(e){var t=this||o;t.ctx||f(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),a=0;a<r.length;a++){var i=t._howls[n]._soundById(r[a]);i&&i._node&&(i._node.muted=!!e||i._muted)}return t},stop:function(){for(var e=this||o,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||o,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,f()),e},codecs:function(e){return(this||o)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||o;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||o,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),a=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||o;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var a=0;a<e._howls.length;a++)if(!e._howls[a]._webAudio)for(var o=e._howls[a]._getSoundIds(),i=0;i<o.length;i++){var s=e._howls[a]._soundById(o[i]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||o;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||o;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&o.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&o.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var o=new a,i=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};i.prototype={init:function(e){var t=this;return o.ctx||f(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=o.usingWebAudio&&!t._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,r;if(this._format&&this._format[t])n=this._format[t];else{if("string"!=typeof(r=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&o.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&l(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var a=0,i=0;i<n._sounds.length;i++)n._sounds[i]._paused&&!n._sounds[i]._ended&&(a++,r=n._sounds[i]._id);1===a?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var c=s._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&o._autoResume();var l=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),u=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-l),d=1e3*u/Math.abs(s._rate),p=n._sprite[e][0]/1e3,f=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=l,s._start=p,s._stop=f,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(l>=f)){var m=s._node;if(n._webAudio){var g=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;m.gain.setValueAtTime(e,o.ctx.currentTime),s._playStart=o.ctx.currentTime,void 0===m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,l,86400):m.bufferSource.noteGrainOn(0,l,u):s._loop?m.bufferSource.start(0,l,86400):m.bufferSource.start(0,l,u),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===o.state&&"interrupted"!==o.ctx.state?g():(n._playLock=!0,n.once("resume",g),n._clearTimer(s._id))}else{var y=function(){m.currentTime=l,m.muted=s._muted||n._muted||o._muted||m.muted,m.volume=s._volume*o.volume(),m.playbackRate=s._rate;try{var r=m.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,m._unlocked=!0,t||(n._emit("play",s._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id),n._loadQueue()),m.playbackRate=s._rate,m.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),m.removeEventListener("ended",n._endTimers[s._id],!1)},m.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=n._src,m.load());var v=window&&window.ejecta||!m.readyState&&o._navigator.isCocoonJS;if(m.readyState>=3||v)y();else{n._playLock=!0;var b=function(){y(),m.removeEventListener(o._canPlayEvent,b,!1)};m.addEventListener(o._canPlayEvent,b,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var a=t._soundById(n[r]);if(a&&!a._paused&&(a._seek=t.seek(n[r]),a._rateSeek=0,a._paused=!0,t._stopFade(n[r]),a._node))if(t._webAudio){if(!a._node.bufferSource)continue;void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),t._cleanBuffer(a._node)}else isNaN(a._node.duration)&&a._node.duration!==1/0||a._node.pause();arguments[1]||t._emit("pause",a?a._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),a=0;a<r.length;a++){n._clearTimer(r[a]);var o=n._soundById(r[a]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[a]),o._node&&(n._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&n._clearSound(o._node))),t||n._emit("stop",o._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),a=0;a<r.length;a++){var i=n._soundById(r[a]);i&&(i._muted=e,i._interval&&n._stopFade(i._id),n._webAudio&&i._node?i._node.gain.setValueAtTime(e?0:i._volume,o.ctx.currentTime):i._node&&(i._node.muted=!!o._muted||e),n._emit("mute",i._id))}return n},volume:function(){var e,t,n,r=this,a=arguments;if(0===a.length)return r._volume;if(1===a.length||2===a.length&&void 0===a[1]){var i=r._getSoundIds(),s=i.indexOf(a[0]);s>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else a.length>=2&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,a)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var c=0;c<t.length;c++)(n=r._soundById(t[c]))&&(n._volume=e,a[2]||r._stopFade(t[c]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,o.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*o.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(e,t,n,r)}}),a;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),a.volume(e,r);for(var i=a._getSoundIds(r),s=0;s<i.length;s++){var c=a._soundById(i[s]);if(c){if(r||a._stopFade(i[s]),a._webAudio&&!c._muted){var l=o.ctx.currentTime,u=l+n/1e3;c._volume=e,c._node.gain.setValueAtTime(e,l),c._node.gain.linearRampToValueAtTime(t,u)}a._startFadeInterval(c,e,t,n,i[s],void 0===r)}}return a},_startFadeInterval:function(e,t,n,r,a,o){var i=this,s=t,c=n-t,l=Math.abs(c/.01),u=Math.max(4,l>0?r/l:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var a=(Date.now()-d)/r;d=Date.now(),s+=c*a,s=c<0?Math.max(n,s):Math.min(n,s),s=Math.round(100*s)/100,i._webAudio?e._volume=s:i.volume(s,e._id,!0),o&&(i._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,i.volume(n,e._id),i._emit("fade",e._id))}),u)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,r=this,a=arguments;if(0===a.length)return r._loop;if(1===a.length){if("boolean"!=typeof a[0])return!!(n=r._soundById(parseInt(a[0],10)))&&n._loop;e=a[0],r._loop=e}else 2===a.length&&(e=a[0],t=parseInt(a[1],10));for(var o=r._getSoundIds(t),i=0;i<o.length;i++)(n=r._soundById(o[i]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return r},rate:function(){var e,t,n,r=this,a=arguments;if(0===a.length)t=r._sounds[0]._id;else if(1===a.length){var i=r._getSoundIds(),s=i.indexOf(a[0]);s>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else 2===a.length&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,a)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var c=0;c<t.length;c++)if(n=r._soundById(t[c])){r.playing(t[c])&&(n._rateSeek=r.seek(t[c]),n._playStart=r._webAudio?o.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,o.ctx.currentTime):n._node&&(n._node.playbackRate=e);var l=r.seek(t[c]),u=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-l,d=1e3*u/Math.abs(n._rate);!r._endTimers[t[c]]&&n._paused||(r._clearTimer(t[c]),r._endTimers[t[c]]=setTimeout(r._ended.bind(r,n),d)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){var a=n._getSoundIds(),i=a.indexOf(r[0]);i>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var c=n.playing(t)?o.ctx.currentTime-s._playStart:0,l=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(l+c*Math.abs(s._rate))}return s._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){n._emit("seek",t),u&&n.play(t,!0)};if(u&&!n._webAudio){var p=function(){n._playLock?setTimeout(p,0):d()};setTimeout(p,0)}else d()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(o._canPlayEvent,t[n]._loadFn,!1),o._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=o._howls.indexOf(e);r>=0&&o._howls.splice(r,1);var a=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===e._src||e._src.indexOf(o._howls[n]._src)>=0){a=!1;break}return c&&a&&delete c[e._src],o.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var a=this["_on"+e];return"function"==typeof t&&a.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this["_on"+e],a=0;if("number"==typeof t&&(n=t,t=null),t||n)for(a=0;a<r.length;a++){var o=n===r[a].id;if(t===r[a].fn&&o||!t&&o){r.splice(a,1);break}}else if(e)this["_on"+e]=[];else{var i=Object.keys(this);for(a=0;a<i.length;a++)0===i[a].indexOf("_on")&&Array.isArray(this[i[a]])&&(this[i[a]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this["_on"+e],a=r.length-1;a>=0;a--)r[a].id&&r[a].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,r[a].fn),0),r[a].once&&this.off(e,r[a].fn,r[a].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=o.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),o._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new s(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=o.ctx.createBufferSource(),e._node.bufferSource.buffer=c[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,o.ctx.currentTime),this},_cleanBuffer:function(e){var t=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=o._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=o._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(t,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):o.noAudio||(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=t*o.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)}};var c={},l=function(e){var t=e._src;if(c[t])return e._duration=c[t].duration,void p(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);d(r.buffer,e)}else{var o=new XMLHttpRequest;o.open(e._xhr.method,t,!0),o.withCredentials=e._xhr.withCredentials,o.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){o.setRequestHeader(t,e._xhr.headers[t])})),o.onload=function(){var t=(o.status+"")[0];"0"===t||"2"===t||"3"===t?d(o.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},u(o)}},u=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(c[t._src]=e,p(t,e)):n()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(e).then(r).catch(n):o.ctx.decodeAudioData(e,r,n)},p=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},f=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(e){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),t=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(r=function(){return{Howler:o,Howl:i}}.apply(t,[]))||(e.exports=r),t.Howler=o,t.Howl=i,void 0!==n?(n.HowlerGlobal=a,n.Howler=o,n.Howl=i,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=a,window.Howler=o,window.Howl=i,window.Sound=s)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,r,a,o){if(!this.ctx||!this.ctx.listener)return this;var i=this._orientation;return t="number"!=typeof t?i[1]:t,n="number"!=typeof n?i[2]:n,r="number"!=typeof r?i[3]:r,a="number"!=typeof a?i[4]:a,o="number"!=typeof o?i[5]:o,"number"!=typeof e?i:(this._orientation=[e,t,n,r,a,o],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,r,a,o),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var a=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var o=r._getSoundIds(n),i=0;i<o.length;i++){var s=r._soundById(o[i]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,a),"spatial"===a?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,a){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,n,r,a)}}),o;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===a){if("number"!=typeof e)return o._pos;o._pos=[e,n,r]}for(var i=o._getSoundIds(a),s=0;s<i.length;s++){var c=o._soundById(i[s]);if(c){if("number"!=typeof e)return c._pos;c._pos=[e,n,r],c._node&&(c._panner&&!c._panner.pan||t(c,"spatial"),void 0!==c._panner.positionX?(c._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(e,n,r)),o._emit("pos",c._id)}}return o},Howl.prototype.orientation=function(e,n,r,a){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,n,r,a)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,r="number"!=typeof r?o._orientation[2]:r,void 0===a){if("number"!=typeof e)return o._orientation;o._orientation=[e,n,r]}for(var i=o._getSoundIds(a),s=0;s<i.length;s++){var c=o._soundById(i[s]);if(c){if("number"!=typeof e)return c._orientation;c._orientation=[e,n,r],c._node&&(c._panner||(c._pos||(c._pos=o._pos||[0,0,-.5]),t(c,"spatial")),void 0!==c._panner.orientationX?(c._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(e,n,r)),o._emit("orientation",c._id)}}return o},Howl.prototype.pannerAttr=function(){var e,n,r,a=this,o=arguments;if(!a._webAudio)return a;if(0===o.length)return a._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return(r=a._soundById(parseInt(o[0],10)))?r._pannerAttr:a._pannerAttr;e=o[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),a._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:a._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:a._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:a._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:a._panningModel})}else 2===o.length&&(e=o[0],n=parseInt(o[1],10));for(var i=a._getSoundIds(n),s=0;s<i.length;s++)if(r=a._soundById(i[s])){var c=r._pannerAttr;c={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:c.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:c.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:c.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:c.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:c.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:c.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:c.panningModel};var l=r._panner;l?(l.coneInnerAngle=c.coneInnerAngle,l.coneOuterAngle=c.coneOuterAngle,l.coneOuterGain=c.coneOuterGain,l.distanceModel=c.distanceModel,l.maxDistance=c.maxDistance,l.refDistance=c.refDistance,l.rolloffFactor=c.rolloffFactor,l.panningModel=c.panningModel):(r._pos||(r._pos=a._pos||[0,0,-.5]),t(r,"spatial"))}return a},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(47))},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(0),a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i};function o(){var e=a(Object(r.useState)(0),2)[1];return Object(r.useCallback)((function(){e((function(e){return e+1}))}),[])}function i(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}function s(e){return"function"==typeof Symbol?Symbol.for(e):"__$mobx-react "+e+"__"}var c={};function l(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:c}}).call(this,n(47))},function(e,t,n){"use strict";function r(){var e=navigator.userAgent.toLowerCase(),t=function(t){return t.test(e)},n=function(t){return(e.match(t)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")},r="unknown";t(/mini\s?program/gi)?r="mini":t(/windows|win32|win64|wow32|wow64/gi)?r="windows":t(/macintosh|macintel/gi)?r="macos":t(/x11/gi)?r="linux":t(/android|adr/gi)?r="android":t(/ios|iphone|ipad|ipod|iwatch/gi)&&(r="ios");var a="unknown";"windows"===r?t(/windows nt 5.0|windows 2000/gi)?a="2000":t(/windows nt 5.1|windows xp/gi)?a="xp":t(/windows nt 5.2|windows 2003/gi)?a="2003":t(/windows nt 6.0|windows vista/gi)?a="vista":t(/windows nt 6.1|windows 7/gi)?a="7":t(/windows nt 6.2|windows 8/gi)?a="8":t(/windows nt 6.3|windows 8.1/gi)?a="8.1":t(/windows nt 10.0|windows 10/gi)&&(a="10"):"macos"===r?a=n(/os x [\d._]+/gi):"android"===r?a=n(/android [\d._]+/gi):"ios"===r&&(a=n(/os [\d._]+/gi));var o="unknow";"windows"===r||"macos"===r||"linux"===r?o="desktop":("android"===r||"ios"===r||"mini"===r||t(/mobile/gi))&&(o="mobile");var i="unknow",s="unknow";t(/applewebkit/gi)&&t(/safari/gi)?(i="webkit",s=t(/edge/gi)?"edge":t(/opr/gi)?"opera":t(/chrome/gi)?"chrome":"safari"):t(/gecko/gi)&&t(/firefox/gi)?(i="gecko",s="firefox"):t(/presto/gi)?(i="presto",s="opera"):t(/trident|compatible|msie/gi)&&(i="trident",s="iexplore");var c="unknow";"webkit"===i?c=n(/applewebkit\/[\d.]+/gi):"gecko"===i?c=n(/gecko\/[\d.]+/gi):"presto"===i?c=n(/presto\/[\d.]+/gi):"trident"===i&&(c=n(/trident\/[\d.]+/gi));var l="unknow";"chrome"===s?l=n(/chrome\/[\d.]+/gi):"safari"===s?l=n(/version\/[\d.]+/gi):"firefox"===s?l=n(/firefox\/[\d.]+/gi):"opera"===s?l=n(/opr\/[\d.]+/gi):"iexplore"===s?l=n(/(msie [\d.]+)|(rv:[\d.]+)/gi):"edge"===s&&(l=n(/edge\/[\d.]+/gi));var u="none",d="unknow";return t(/micromessenger/gi)?(u="wechat",d=n(/micromessenger\/[\d.]+/gi)):t(/qqbrowser/gi)?(u="qq",d=n(/qqbrowser\/[\d.]+/gi)):t(/ubrowser/gi)?(u="uc",d=n(/ubrowser\/[\d.]+/gi)):t(/2345explorer/gi)?(u="2345",d=n(/2345explorer\/[\d.]+/gi)):t(/metasr/gi)?u="sougou":t(/lbbrowser/gi)?u="liebao":t(/maxthon/gi)?(u="maxthon",d=n(/maxthon\/[\d.]+/gi)):t(/bidubrowser/gi)&&(u="baidu",d=n(/bidubrowser [\d.]+/gi)),Object.assign({engine:i,engineVs:c,platform:o,supporter:s,supporterVs:l,system:r,systemVs:a},"none"===u?{}:{shell:u,shellVs:d})}n.d(t,"a",(function(){return r}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(148),a=n(149),o=n(150),i=n(151),s=n(152);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(90);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(29)(Object,"create");e.exports=r},function(e,t,n){var r=n(170);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(66);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";n.r(t),n.d(t,"LayerComp",(function(){return h})),n.d(t,"config",(function(){return l})),n.d(t,"LayerJSON",(function(){return u.a})),n.d(t,"scripts",(function(){return f}));var r=n(12),a=n.n(r),o=n(30),i=n.n(o),s=(n(130),n(0)),c=n.n(s),l={name:"图片",pid:"h5ds_img",version:"1.0.0",locale:{"zh-CN":"图片","zh-TW":"圖片",en:"image"}},u=n(55);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=[];function h(e){e.renderIn;var t,n,r=e.layer,a={top:0,left:0,width:r.data.naturalWidth,height:r.data.naturalHeight};if(r.data.naturalWidth||(a={}),r.data.crop){var o=r.data.crop,s=o.x,l=void 0===s?0:s,u=o.y,d=void 0===u?0:u,f=o.width,h=void 0===f?1:f,m=o.height,g=void 0===m?1:m,y=o.naturalWidth,v=void 0===y?r.data.naturalWidth:y,b=o.naturalHeight;a={top:-d,left:-l,width:v,height:void 0===b?r.data.naturalHeight:b},n={width:h,height:g,transform:"scale(".concat(r.style.width/h,", ").concat(r.style.height/g,")")}}else n={width:r.style.width,height:r.style.height,transform:"scale(1)"},a.transformOrigin="0 0",a.transform="scale(".concat(r.style.width/r.data.naturalWidth,", ").concat(r.style.height/r.data.naturalHeight,")");var w={};r.data.filterStyle&&(w=r.data.filterStyle),"object"!==i()(w)&&(w={});var x={};r.data.clip||(r.data.clip={disabled:!0,path:"circle(50% at 50% 50%)"}),(null==(t=r.data.clip)?void 0:t.disabled)||(x={clipPath:r.data.clip.path});var E=r.data.src||"https://cdn.h5ds.com/lib/images/imgDom.jpg";return c.a.createElement("div",{className:"layer-h5ds_img-inner",style:p(p({},n),x)},c.a.createElement("div",{className:"layer-h5ds_img-box",style:a},c.a.createElement("img",{style:p({},w),src:E})))}},function(e,t,n){"use strict";n.r(t),n.d(t,"LayerComp",(function(){return S})),n.d(t,"config",(function(){return w})),n.d(t,"LayerJSON",(function(){return x.a})),n.d(t,"getMaxFrame",(function(){return O}));var r=n(21),a=n.n(r),o=n(12),i=n.n(o),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(8),p=n.n(d),f=n(7),h=n.n(f),m=n(3),g=n.n(m),y=(n(132),n(0)),v=n.n(y),b=n(35),w={name:"文本",pid:"h5ds_text",version:"1.0.0",locale:{"zh-CN":"文本","zh-TW":"文本",en:"text"}},x=n(69);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var S=function(e){p()(n,e);var t=k(n);function n(){var e;c()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).getHtml=function(t,n){var r="";if(!n){var a=[];return t.split("\n").forEach((function(e){e=e.replace(/\s/g,"&nbsp;"),a.push("<p>".concat(e,"</p>"))})),a.join("")}var o=0;return t.split("").forEach((function(t){if("\n"===t)t="<br/>";else if(" "===t||"s"===t)t="&nbsp;";else if("render_in_pagelist"!==e.props.renderIn){var a=parseFloat(n.delay)+parseFloat(n.interval)*o;o++,t='<span data-delay="'.concat(a,'" class="animated element-animate" style="animation: ').concat(n.name," ").concat(n.duration,"s ").concat(n.timing," ").concat(a,"s ").concat(n.count," ").concat(n.direction," ").concat(n.disableInitAnimate?"paused":"running"," ").concat(n.fillMode,';\n          opacity: 0">').concat(t,"</span>")}r+=t})),r},e}return u()(n,[{key:"render",value:function(){var e=this.props.layer.data,t=e.style,n=e.keyid,r=void 0===n?"":n,o=e.data,i=void 0===o?"":o,s=e.artword,c=void 0===s?{}:s,l=e.animate,u=e.fontFamilySet,d=void 0===u?{}:u,p="";i&&(p=this.getHtml(i,l));var f="@font-face {\n      font-family: ".concat(d.name,";\n      src: url(").concat(d.url,");\n    }");return c.type&&delete t.color,v.a.createElement("div",{className:"layer-h5ds_text-inner"},v.a.createElement("div",{className:"layer-h5ds_text-box",key:r},c.type?v.a.createElement("div",{className:"layer-h5ds_text-auto",style:_({},t)},v.a.createElement(b.a,a()({shtml:p},c))):v.a.createElement("div",{className:"layer-h5ds_text-auto",style:_({},t),dangerouslySetInnerHTML:{__html:p}}),d.url?v.a.createElement("style",{dangerouslySetInnerHTML:{__html:f}}):null))}}]),n}(y.Component);function O(e){if(e.data.animate){var t=parseFloat(e.data.animate.interval);return parseFloat(e.data.animate.delay)+parseFloat(e.data.animate.duration)+t*(e.data.data.length+1)}return 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),a=n.n(r),o=n(5),i=n.n(o),s=function(){function e(){a()(this,e),this.id=null,this.className=null,this.animate=[],this.keepRender=!1,this.data={gifAnimate:!1,animate:"",filterStyle:null,src:"http://cdn.h5ds.cn/lib/images/imgDom.jpg",naturalWidth:200,naturalHeight:150,crop:null,clip:{disabled:!0,path:"circle(50% at 50% 50%)"}},this.jscript="",this.eventId="",this.set={hide:!1,lock:!1,lockWideHigh:!1,pointerEvent:!1},this.style={width:200,height:150,top:0,left:0},this.estyle={},this.events=[]}return i()(e,[{key:"randomID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return"h5_clip_"+Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(4),a=n.n(r),o=n(5),i=n.n(o),s=n(8),c=n.n(s),l=n(7),u=n.n(l),d=n(3),p=n.n(d),f=n(0),h=n.n(f),m=n(44),g=(n(237),n(80));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var v=function(e){c()(n,e);var t=y(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).onAfterChange=function(e){r.soundInstance.seek(e)},r.isWeiXin=function(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},r.doPlay=function(){if("playing"===r.state.playStatus)return r.soundInstance.pause(),void r.setState({playStatus:"pause"});r.soundInstance&&setTimeout((function(){var e,t;r.isWeiXin()&&(null==(e=window)||null==(t=e.wx)?void 0:t.getNetworkType)?window.wx.getNetworkType({success:function(){r.soundInstance.play(),r.setState({playStatus:"playing"})}}):(r.soundInstance.play(),r.setState({playStatus:"playing"}))}),100)},r.state={playStatus:"waiting"},r.soundInstance=null,r}return i()(n,[{key:"randomID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.url,r=t.loop,a=t.autoplay,o=t.volume,i=void 0===o?1:o;if(this.props.url){var s=new m.Howl({src:[n],autoplay:!1,loop:r,volume:i,onload:function(){e.setState({playStatus:"pause"}),e.soundInstance=s,a&&e.doPlay()}});window.H5DS_GLOBAL.sounds||(window.H5DS_GLOBAL.sounds={}),window.H5DS_GLOBAL.sounds.backgroundMusic=s}else this.setState({playStatus:"plan"})}},{key:"componentWillUnmount",value:function(){console.warn("this.soundInstance.....>",this.soundInstance),this.soundInstance&&(this.soundInstance.stop(),this.soundInstance.unload(),this.soundInstance=null)}},{key:"render",value:function(){var e=this,t=this.state.playStatus,n=this.props,r=n.fill,a=void 0===r?"rgba(0,0,0,.7)":r,o=n.layerScale,i=g.a.find((function(t){return t.value===(e.props.icon||"icon1")}));return h.a.createElement("div",{className:"h5ds-preview-music",style:{transform:"scale(".concat(o,")")}},i&&h.a.createElement("span",{style:{animation:"playing"===t?"2.4s linear 0s 1000 normal forwards running rollOneCount":"",boxShadow:"0 0 6px ".concat(a)},onClick:this.doPlay},"playing"===t&&i.start(a),["pause","plan","waiting"].includes(t)&&i.stop(a)))}}]),n}(f.Component)},function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(14),i=n.n(o),s=n(10),c=n.n(s),l=n(0),u=n.n(l);n(238);t.a=function(e){var t=e.logo,n=e.logoAnimate,r=e.backgroundColor,o=e.backgroundImage,s=e.progress,d=e.progressColor,p=void 0===d?"rgba(24,144,255,1)":d,f=e.defaultPercent,h=e.scale,m=void 0===h?1:h,g=e.logoSize,y=void 0===g?1:g,v=Object(l.useState)(f||0),b=c()(v,2),w=b[0],x=b[1];Object(l.useEffect)((function(){return window.pubSubLayer&&(window.pubSubLayer.subscribe("h5ds.load.plugins",function(){var e=i()(a.a.mark((function e(t){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.count,r=t.index,o=parseInt(100*t.progress*.7,10),x(0===n||0!==n&&n===r+1?100:o);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.pubSubLayer.subscribe("h5ds.load.scripts",function(){var e=i()(a.a.mark((function e(t){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.count,r=t.index,o=parseInt(100*t.progress*.3+70,10),x(0===n||0!==n&&n===r+1?100:o);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),function(){window.pubSubLayer.unsubscribe("h5ds.load.plugins"),window.pubSubLayer.unsubscribe("h5ds.load.scripts")}}));var E=n?"1s linear 0s 99999 normal forwards running ".concat(n):"";return u.a.createElement("div",{className:"h5ds-preview-loading",style:{backgroundColor:r,backgroundImage:"url(".concat(o,")")}},u.a.createElement("div",{className:"h5ds-preview-loading-inner",style:{transform:"translateY(-50%) scale(".concat(m,")")}},t&&u.a.createElement("img",{style:{animation:E,width:100*y+"%"},src:t,alt:""}),s&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"h5ds-preview-loading-progress"},u.a.createElement("span",{style:{backgroundColor:p,width:"".concat(w,"%")},className:"h5ds-preview-loading-bar"})),u.a.createElement("div",{className:"h5ds-preview-loading-tips",style:{color:p}},"已加载",u.a.createElement("span",{className:"h5ds-preview-loading-span"},w,"%")))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(10),a=n.n(r),o=n(30),i=n.n(o),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(81),p=n.n(d),f=function(e){return null==e||""===e},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e?(e=parseFloat(e),e=parseFloat(e.toFixed(t))):e=0,e};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(255,255,255,1)";if(e){var n=p()(e),r=n.getAlpha();e=n.setAlpha(r).toRgbString()}else e=t;return e}var g=new(function(){function e(){c()(this,e)}return u()(e,[{key:"getBorder",value:function(e){if(e&&"none"!==e){var t=e.split(" ");return{size:parseInt(t[0],10)||0,type:t[1],color:m(e.replace(/.+(rgba.+)/,"$1"))}}return{size:null,type:null,color:"rgba(0,0,0,1)"}}},{key:"setBorder",value:function(e,t){var n=this.getBorder(e),r=n.size,a=n.type,o=n.color;return f(t.size)||(r=t.size),f(t.type)||(a=t.type),f(t.color)||(o=m(t.color)),"".concat(r,"px ").concat(a," ").concat(o)}},{key:"getBoxshadow",value:function(e){var t=null,n="rgba(0,0,0,1)";if(e&&"none"!==e){var r=e.split(" ");t=parseInt(r[2],10)||0,n=m(e.replace(/.+(rgba.+)/,"$1"))}return{size:t,color:n}}},{key:"setBoxshadow",value:function(e,t){var n=this.getBoxshadow(e),r=n.size,a=n.color;return f(t.size)||(r=t.size),f(t.color)||(a=m(t.color)),"0 0 ".concat(r,"px ").concat(a)}},{key:"getAnimation",value:function(e){var t=null,n=null,r=null,a=null,o=null,i=null,s=null,c=null;if(e&&"none"!==e){var l=e.split(" ");t=l[0],n=h(l[1],1),r=l[2],a=h(l[3],1),o=isNaN(parseInt(l[4],10))?1/0:parseInt(l[4],10),i=l[5]||"normal",s=l[6]||"forwards",c=l[7]||"running"}return{name:t,duration:n,timing:r,delay:a,count:o,direction:i,fillMode:s,playState:c}}},{key:"setAnimation",value:function(e,t){var n=this.getAnimation(e),r=n.name,a=n.duration,o=n.timing,i=n.delay,s=n.count,c=n.direction,l=n.fillMode,u=n.playState;return f(t.name)||(r=t.name),f(t.duration)||(a=t.duration),f(t.timing)||(o=t.timing),f(t.delay)||(i=t.delay),f(t.count)||(s=isNaN(parseInt(t.count,10))?1/0:parseInt(t.count,10)),f(t.direction)||(c=t.direction),f(t.fillMode)||(l=t.fillMode),f(t.playState)||(u=t.playState),"".concat(r," ").concat(h(a,1),"s ").concat(o," ").concat(h(i,1),"s ").concat(s===1/0?"infinite":s," ").concat(c," ").concat(l," ").concat(u)}},{key:"getTransformVal",value:function(e,t){var n="";if(-1!==e.indexOf(t)){var r=RegExp(".*"+t+"\\((.+?)\\).*");n=e.replace(r,"$1")}if(""===(n=n.replace(/\s+/g,"")))switch(t){case"rotate":n=0;break;case"translate":n="0,0";break;case"scale":n="1,1";break;case"skew":n="0,0"}if("object"!==i()(n))n=h(n,2);else{var o=n.split(","),s=a()(o,2),c=s[0],l=s[1];n=[parseFloat(c),parseFloat(l)]}return n}},{key:"getTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=null,n=null,r=null,a=null;return e&&"none"!==e&&(t=this.getTransformVal(e,"rotate"),n=this.getTransformVal(e,"translate"),r=this.getTransformVal(e,"scale"),a=this.getTransformVal(e,"skew")),"number"==typeof r&&(r=[r,r]),{rotate:t||0,translate:n||[0,0],scale:r||[1,1],skew:a||[0,0]}}},{key:"setTransform",value:function(e,t){var n=this.getTransform(e),r=n.rotate,a=n.translate,o=n.scale,i=n.skew;f(t.rotate)||(r=t.rotate),f(t.translate)||(a=t.translate),f(t.scale)||(o=t.scale),f(t.skew)||(i=t.skew);var s=[];return f(r)||s.push("rotate(".concat(r,"deg)")),f(a)||s.push("translate(".concat(a.map((function(e){return e+"px"})).join(","),")")),f(o)||s.push("scale(".concat(o.join(","),")")),f(i)||s.push("skew(".concat(i.map((function(e){return e+"deg"})).join(","),")")),s.join(" ")}},{key:"resetTransform",value:function(e,t){try{var n=[];for(var r in t)n.push("".concat(r,"(").concat(t[r],")"));n=n.join(" "),e.css({"-webkit-transform":n,transform:n})}catch(e){console.error("function:addTransform error！",e)}}},{key:"resetAnimate",value:function(e){var t=null;return e.forEach((function(e,n){if(0!==n){var r=t,a=r.duration,o=void 0===a?0:a,i=r.delay,s=void 0===i?0:i,c=r.count,l=void 0===c?0:c,u=e.delay;l===1/0&&(l=999),u>=(s=o*l+s)&&(s=u),e.delay=s}t=e})),e}}]),e}())},function(e,t){var n="undefined"!=typeof Element,r="function"==typeof Map,a="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var s,c,l,u;if(Array.isArray(t)){if((s=t.length)!=i.length)return!1;for(c=s;0!=c--;)if(!e(t[c],i[c]))return!1;return!0}if(r&&t instanceof Map&&i instanceof Map){if(t.size!==i.size)return!1;for(u=t.entries();!(c=u.next()).done;)if(!i.has(c.value[0]))return!1;for(u=t.entries();!(c=u.next()).done;)if(!e(c.value[1],i.get(c.value[0])))return!1;return!0}if(a&&t instanceof Set&&i instanceof Set){if(t.size!==i.size)return!1;for(u=t.entries();!(c=u.next()).done;)if(!i.has(c.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(i)){if((s=t.length)!=i.length)return!1;for(c=s;0!=c--;)if(t[c]!==i[c])return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((s=(l=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(c=s;0!=c--;)if(!Object.prototype.hasOwnProperty.call(i,l[c]))return!1;if(n&&t instanceof Element)return!1;for(c=s;0!=c--;)if(("_owner"!==l[c]&&"__v"!==l[c]&&"__o"!==l[c]||!t.$$typeof)&&!e(t[l[c]],i[l[c]]))return!1;return!0}return t!=t&&i!=i}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"LayerComp",(function(){return D})),n.d(t,"config",(function(){return E})),n.d(t,"LayerJSON",(function(){return k.a}));var r=n(21),a=n.n(r),o=n(12),i=n.n(o),s=n(23),c=n.n(s),l=n(4),u=n.n(l),d=n(5),p=n.n(d),f=n(8),h=n.n(f),m=n(7),g=n.n(m),y=n(3),v=n.n(y),b=(n(128),n(0)),w=n.n(b),x=n(34),E={name:"合并图层",pid:"h5ds_combin",version:"1.0.0",locale:{"zh-CN":"合并图层","zh-TW":"合並圖層",en:"Merge layer"}},_=n(19),k=n(67);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var D=function(e){h()(n,e);var t=C(n);function n(){return u()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.layer,r=t.appData,o=t.pageData,i=c()(t,["layer","appData","pageData"]),s=this.props.isRender;void 0===s&&(s=!0);var l=n.originstyle,u=n.style,d=void 0===u?{}:u,p=O(O({},l),{},{transformOrigin:"0 0",transform:"scale(".concat(d.width/l.width,", ").concat(d.height/l.height,")")});return w.a.createElement("div",{className:"layer-h5ds_combin"},w.a.createElement("div",{style:O({},p)},n?n.data.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,c=9999,l=t.pid,u=t.leavePageUnmount,d=void 0!==u&&u,p=t.name,f=window.H5DS_GLOBAL.plugins[l],h=f?f.LayerComp:null;return d&&!s||n>30&&_.b.RENDER_IN_PAGELIST===e.props.renderIn?null:w.a.createElement(x.a,a()({style:{display:s?"block":"none"},appData:r,isRenderThis:s,pageData:o,renderIn:e.props.renderIn,layer:t,zIndex:c-n,key:t.keyid},i),h?w.a.createElement(h,a()({appData:r,pageData:o,isRender:s,renderIn:e.props.renderIn,layer:t},i)):w.a.createElement("div",{className:"layer-null"},"请载入",p,":",l,"插件",w.a.createElement("span",{style:{display:"none"}},JSON.stringify(t))))})):null))}}]),n}(b.Component)},function(e,t,n){"use strict";n.r(t),n.d(t,"LayerComp",(function(){return S})),n.d(t,"config",(function(){return b})),n.d(t,"LayerJSON",(function(){return x.a}));var r=n(12),a=n.n(r),o=n(23),i=n.n(o),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(8),p=n.n(d),f=n(7),h=n.n(f),m=n(3),g=n.n(m),y=(n(131),n(0)),v=n.n(y),b={pid:"h5ds_shape",name:"形状",version:"1.0.0",locale:{"zh-CN":"形状","zh-TW":"形狀",en:"shape"}},w=n(65),x=n(68);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var S=function(e){p()(n,e);var t=k(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props.layer.data,t=e.style,n=e.transform,r=e.shape,a=e.text,o=e.fontFamilySet,s=void 0===o?{}:o,c=w.a.find((function(e){return e.type===r})),l=this.props.layer.style,u=l.width,d=l.height,p=a||{},f=p.content,h=i()(p,["content"]),m=[];if(f&&f.split("\n").forEach((function(e){return m.push("<p>".concat(e.trim(),"</p>"))})),c){var g="@font-face {\n        font-family: ".concat(s.name,";\n        src: url(").concat(s.url,");\n      }");return v.a.createElement("div",{className:"layer-h5ds_shape-inner"},a?v.a.createElement("div",{style:h,className:"layer-h5ds_shape-text"},v.a.createElement("span",{dangerouslySetInnerHTML:{__html:m.join("")}})):null,v.a.createElement("div",{style:{transform:n},className:"layer-h5ds_shape-dom"},c.dom(_(_({},t),{},{width:u,height:d})),s.url?v.a.createElement("style",null,g):null))}return null}}]),n}(y.Component)},function(e,t,n){"use strict";n.r(t),n.d(t,"LayerComp",(function(){return l})),n.d(t,"config",(function(){return i})),n.d(t,"LayerJSON",(function(){return c.a}));n(135);var r=n(0),a=n.n(r),o=n(15),i={leavePageUnmount:!0,pid:"h5ds_sound",name:"音频",version:"1.0.0",locale:{"zh-CN":"音频","zh-TW":"音頻",en:"sound"}},s=n(44),c=n(70);function l(e){var t=[o.f.RENDER_IN_PAGELIST,o.f.RENDER_IN_TEMPLATES].includes(e.renderIn),n=e.layer,i=n.data,c=n.eventId,l=n.keyid,u="id_sound_"+l,d=Object(r.useRef)(),p=Object(r.useRef)(),f=Object(r.useRef)({}),h=function(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},m=function(){var e,t,n;h()&&(null==(e=window)||null==(t=e.wx)?void 0:t.getNetworkType)?window.wx.getNetworkType({success:function(){var e;null==(e=d.current)||e.play()}}):null==(n=d.current)||n.play()},g=function(){var e,t,n;h()&&(null==(e=window)||null==(t=e.wx)?void 0:t.getNetworkType)?window.wx.getNetworkType({success:function(){var e;null==(e=d.current)||e.pause()}}):null==(n=d.current)||n.pause()},y=function(){d.current&&(f.current.time1&&(clearTimeout(f.current.time1),f.current.time1=null),f.current.time2&&(clearTimeout(f.current.time2),f.current.time2=null),g())},v=function(){y(),f.current1=setTimeout((function(){m(),f.current2=setTimeout((function(){g()}),1e3*i.duration)}),1e3*i.delay)};return Object(r.useEffect)((function(){if(e.fpsAnimate)return $(window).off("h5ds.fps.frame."+l).on("h5ds.fps.frame."+l,(function(e,t){if((t.progress||0)*t.maxFrame>10*i.delay){if(p.current)return;p.current=!0,i.autoplay&&m()}})),"render_in_canvas"===o.f&&($(window).off("h5ds.playAnimate."+l).on("h5ds.playAnimate."+l,(function(){v()})),$(window).off("h5ds.pauseAnimate."+l).on("h5ds.pauseAnimate."+l,(function(){y()}))),function(){$(window).off("h5ds.fps.frame."+l),"render_in_canvas"===o.f&&($(window).off("h5ds.playAnimate."+l),$(window).off("h5ds.pauseAnimate."+l))}}),[]),Object(r.useEffect)((function(){return t?(console.warn("模板,页面列表,画布中音频文件不会播放"),function(){}):(d.current=new s.Howl({src:[i.sound],autoplay:!1,loop:!1,volume:void 0===i.volume?1:i.volume,onload:function(){d.current.name=i.name,i.autoplay&&v()}}),window.H5DS_GLOBAL.sounds||(window.H5DS_GLOBAL.sounds={}),d.current.eventId=c,d.current.delay=i.delay,window.H5DS_GLOBAL.sounds[c]=d.current,u&&(d.current.id=u,window.H5DS_GLOBAL.sounds[u]=d.current),function(){window.H5DS_GLOBAL.sounds[u]&&delete window.H5DS_GLOBAL.sounds[u],delete window.H5DS_GLOBAL.sounds[c],y(),d.current&&(d.current.stop(),d.current.unload(),d.current=null)})}),[]),a.a.createElement(a.a.Fragment,null)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),a=n.n(r),o=function e(){a()(this,e),this.id=null,this.className=null,this.animate=[],this.style={width:320,height:514,top:0,left:0},this.estyle={},this.events=[],this.data={type:"petal",set:{min:10,max:30,count:30,speed:10,rotate:10,img:"https://cdn.h5ds.com/static/images/petal.png"}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n.n(r),o=[{type:"line",name:"线条",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 ".concat(e.width||80," ").concat(e.height||80),xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("line",{x1:0,y1:0,x2:e.width||80,y2:e.height||80,style:{stroke:e.fill||"#000",strokeWidth:e.strokeWidth||1}}))}},{type:"star4",name:"四角星",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M523.93046471 1021.82852532L408.07239629 618.0485752 1.90635325 510.6743928l401.12873572-105.25321088 97.03444632-403.24970724L615.92760371 405.9514248l406.16604304 107.3741824-401.12873572 105.25321088-97.03444632 403.24970724z",fill:e.fill}))}},{type:"star5",name:"五星",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1092 1024",version:"1.1"},a.a.createElement("path",{fill:e.fill,d:"M546.133333 819.2l-320.989866 168.7552 61.303466-357.444267L26.760533 377.378133l358.877867-52.155733L546.133333 0l160.494934 325.2224 358.877866 52.155733-259.6864 253.1328 61.303467 357.444267z"}))}},{type:"circle",name:"圆形",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z",fill:e.fill}))}},{type:"path3",name:"三角形",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1170 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M583.475783 1024L1.458689 0H1166.951567z",fill:e.fill}))}},{type:"path4",name:"四边形",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("rect",{x:"0",y:"0",width:"100",height:"100",fill:e.fill}))}},{type:"path5",name:"五边形",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M512.128 0l-512 391.04L195.648 1024h632.64l195.84-632.96z",fill:e.fill}))}},{type:"path6",name:"六边形",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M768 64H256L0 512l256 448h512l256-448z",fill:e.fill}))}},{type:"path7",name:"平行四边形",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M630.08 1024H0L393.6 0H1024z",fill:e.fill}))}},{type:"path8",name:"梯形",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M1024 1024H0L256 0h512z",fill:e.fill}))}},{type:"path9",name:"菱形",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M0 512L512 0l512 512-512 512z",fill:e.fill}))}},{type:"path10",name:"管道",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M1024 704V320c-176.736 0-320-143.264-320-320H320c0 176.736-143.264 320-320 320v384c176.736 0 320 143.264 320 320h384c0-176.736 143.264-320 320-320z",fill:e.fill}))}},{type:"icon-qipao",name:"气泡",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1194 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M597.333333 920.618667c-40.106667 0-79.274667-2.816-117.205333-8.448-131.882667 46.677333-176.426667 63.957333-309.205333 111.146666 33.536-74.666667 45.653333-115.029333 76.373333-190.037333C97.706667 749.482667 0 613.546667 0 460.672 0 205.653333 267.392 0 597.333333 0s597.333333 205.653333 597.333334 460.672c0 254.293333-267.392 459.946667-597.333334 459.946667z",fill:e.fill}))}},{type:"icon-heart",name:"心",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1025 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M755.072 64q-26.016 0-52 7.008t-48.992 19.008-44.512 28.992-39.488 36.992-32.512 42.016-25.504 44.992q-35.008-74.016-100.992-126.496t-142.016-52.512q-111.008 0-190.016 79.008t-79.008 190.016q0 62.016 16.992 116.512t48.512 98.496 70.496 84.512 88 83.008 95.488 84 99.008 97.504 93.504 115.008q39.008-58.016 90.016-114.496t97.504-99.008 96-85.504 88.992-84 72-84.992 50.016-97.504 17.504-113.504q0-111.008-79.008-190.016t-190.016-79.008z",fill:e.fill}))}},{type:"icon-close",name:"close",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1025 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M512 425.984l344.32-344.32a60.416 60.416 0 0 1 85.76 0.32 60.992 60.992 0 0 1 0.32 85.632L598.016 512l344.32 344.32a60.416 60.416 0 0 1-0.32 85.76 60.992 60.992 0 0 1-85.632 0.32L512 598.016l-344.32 344.32a60.416 60.416 0 0 1-85.76-0.32 60.992 60.992 0 0 1-0.32-85.632L425.984 512l-344.32-344.32a60.416 60.416 0 0 1 0.32-85.76 60.992 60.992 0 0 1 85.632-0.32L512 425.984z",fill:e.fill}))}},{type:"jiantou",name:"箭头",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M0 722.413037L446.805333 722.413037 446.805333 948.148148 1024 512 446.805333 75.851852l0 225.773037L0 301.624889l0 420.977778z",fill:e.fill}))}},{type:"dunpai",name:"盾牌",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M84.80236999 141.14133334l428.0908618-116.50844445L939.19763001 141.14133334v504.86992554c0 78.37134734-142.41215488 194.87979179-427.19763001 349.52533334-284.78547399-154.64554155-427.19763001-271.15398599-427.19763001-349.52533334V141.14133334z m205.520896 300.47527822a23.18518045 23.18518045 0 0 1 7.37886891 3.10689223l81.94427221 52.58414421a22.60263822 22.60263822 0 0 1-3.96128711 40.19541334l-7.80606578 3.10689223 0.54370645 1.16508444a160.66514489 160.66514489 0 0 0 142.06262955 84.81814756 160.50980067 160.50980067 0 0 0 147.81038023-96.7408458l85.16767289 33.67094045a252.24078222 252.24078222 0 0 1-232.97805312 153.67463822c-100.58562333 0-187.46208711-58.25422222-227.89051733-142.52866332l-10.75761266 4.31081244a23.14634467 23.14634467 0 0 1-30.0203429-12.582912 22.52496555 22.52496555 0 0 1-1.08741176-13.631488l21.98125909-94.06115044a23.068672 23.068672 0 0 1 27.61250133-17.08790556zM510.52422599 218.81363001a252.20194645 252.20194645 0 0 1 234.06546489 156.50967666l7.57304889-3.06805533a23.14634467 23.14634467 0 0 1 30.0203429 12.62174778 22.52496555 22.52496555 0 0 1 1.08741176 13.631488l-21.98125909 94.06115043a23.068672 23.068672 0 0 1-34.99137024 13.98101333l-81.94427221-52.58414421a22.60263822 22.60263822 0 0 1 3.96128711-40.2342491l11.18481067-4.4661578-0.42719801-1.24275598a160.50980067 160.50980067 0 0 0-148.58710244-98.60498091 160.432128 160.432128 0 0 0-150.14054912 102.64393956l-85.16767289-33.67094044A252.16310955 252.16310955 0 0 1 510.52422599 218.81363001z",fill:e.fill}))}},{type:"shuqian",name:"书签",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{preserveAspectRatio:"none",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M0 0h1023.061333v987.349333l-511.530666-237.909333L0 987.349333z",fill:e.fill}))}},{type:"qipao_1",name:"气泡",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{version:"1.1",id:"图层_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"480px",height:"528.816px",viewBox:"0 0 480 528.816"},a.a.createElement("path",{fill:e.fill,d:"M294.754,474.061L240,528.816l-54.754-54.754C79.082,449.287,0,354.052,0,240.342\r c0-132.548,107.452-240,240-240s240,107.452,240,240C480,354.052,400.918,449.287,294.754,474.061z"}))}},{type:"youpiao_1",name:"邮票",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{version:"1.1",id:"图层_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"150px",height:"150px",viewBox:"0 0 150 150"},a.a.createElement("path",{fill:e.fill,d:"M9,10h132v130H9V10z"}),a.a.createElement("path",{fill:e.fill,d:"M150,140v10h-10c0-2.761-2.239-5-5-5s-5,2.239-5,5h-10c0-2.761-2.239-5-5-5s-5,2.239-5,5h-10\r c0-2.761-2.239-5-5-5s-5,2.239-5,5H80c0-2.761-2.239-5-5-5s-5,2.239-5,5H60c0-2.761-2.239-5-5-5s-5,2.239-5,5H40\r c0-2.761-2.239-5-5-5s-5,2.239-5,5H20c0-2.761-2.239-5-5-5s-5,2.239-5,5H0v-10c2.761,0,5-2.239,5-5s-2.239-5-5-5v-10\r c2.761,0,5-2.239,5-5s-2.239-5-5-5v-10c2.761,0,5-2.239,5-5s-2.239-5-5-5V80c2.761,0,5-2.239,5-5s-2.239-5-5-5V60\r c2.761,0,5-2.239,5-5s-2.239-5-5-5V40c2.761,0,5-2.239,5-5s-2.239-5-5-5V20c2.761,0,5-2.239,5-5s-2.239-5-5-5V0h10\r c0,2.761,2.239,5,5,5s5-2.239,5-5h10c0,2.761,2.239,5,5,5s5-2.239,5-5h10c0,2.761,2.239,5,5,5s5-2.239,5-5h10c0,2.761,2.239,5,5,5\r s5-2.239,5-5h10c0,2.761,2.239,5,5,5s5-2.239,5-5h10c0,2.761,2.239,5,5,5s5-2.239,5-5h10c0,2.761,2.239,5,5,5s5-2.239,5-5h10v10\r c-2.761,0-5,2.239-5,5s2.239,5,5,5v10c-2.761,0-5,2.239-5,5s2.239,5,5,5v10c-2.761,0-5,2.239-5,5s2.239,5,5,5v10\r c-2.761,0-5,2.239-5,5s2.239,5,5,5v10c-2.761,0-5,2.239-5,5s2.239,5,5,5v10c-2.761,0-5,2.239-5,5s2.239,5,5,5v10\r c-2.761,0-5,2.239-5,5S147.239,140,150,140z M140,10H10v130h130V10z"}))}},{type:"shuye_1",name:"树叶",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",baseProfile:"full",height:"160px",width:"160px",viewBox:"0 0 160 160"},a.a.createElement("path",{stroke:e.fill,strokeWidth:"0px",strokeLinecap:"butt",strokeLinejoin:"miter",fill:e.fill,d:"M80,0 C35.817,0 0,35.817 0,80 C0,80 0,160 0,160 C0,160 80,160 80,160 C124.183,160 160,124.183 160,80 C160,80 160,0 160,0 C160,0 80,0 80,0 Z "}))}},{type:"yun_1",name:"云",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",width:"127px",height:"84.667px",viewBox:"0 0 127 84.667"},a.a.createElement("path",{fill:e.fill,d:"M99.659,84.667c-0.449,0-0.896-0.013-1.335-0.033v0.033H28.676v-0.033c-0.44,0.02-0.886,0.033-1.335,0.033  C12.241,84.667,0,72.312,0,57.075c0-13.872,10.144-25.354,23.355-27.302c-0.13-1.068-0.199-2.156-0.199-3.26  C23.156,11.87,34.918,0,49.429,0c9.548,0,17.904,5.139,22.505,12.827c3.129-1.537,6.643-2.4,10.359-2.4  c11.664,0,21.362,8.509,23.326,19.714C117.853,32.883,127,43.9,127,57.075C127,72.312,114.759,84.667,99.659,84.667z"}))}},{type:"jiantou_1",name:"箭头",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",width:"93.39px",height:"95.564px",viewBox:"0 0 93.39 95.564"},a.a.createElement("path",{fill:e.fill,d:"M93.39,10.607l-9.663-9.663l-0.908-0.908L82.783,0l-0.908,0.908l0.035,0.036l-9.698,9.698l0.908,0.908  l9.371-9.37c0.52,7.027,2.396,44.48-15.19,58.203c-4.577,3.573-10.135,5.274-16.628,5.098c4.717-13.267-3.464-24.532-3.609-24.718  c-4.913-4.913-10.571-6.503-15.523-4.361c-4.852,2.098-8.122,7.44-7.951,12.992c0.191,6.204,4.479,11.272,11.766,13.903  c4.999,1.806,9.645,2.847,13.925,3.124c-1.46,3.454-3.753,6.749-6.871,9.868C25.365,93.334,15.017,94.564,0,94.564v1  c14.829,0,25.841-1.293,43.117-18.568c3.522-3.521,5.796-7.081,7.18-10.523c6.854,0.252,12.767-1.515,17.621-5.303  c10.361-8.086,14.011-24.056,15.251-36.029c1.04-10.042,0.605-19.027,0.354-22.585l8.958,8.959L93.39,10.607z M49.566,65.488  c-4.274-0.237-8.94-1.265-13.975-3.083c-6.881-2.485-10.929-7.221-11.107-12.994c-0.158-5.152,2.864-10.104,7.349-12.043  c1.024-0.443,2.45-0.862,4.172-0.862c2.781,0,6.333,1.095,10.199,4.957c0.033,0.044,3.33,4.535,4.481,11.054  C51.482,57.038,51.106,61.373,49.566,65.488z"}))}},{type:"yuyanqipao_1",name:"语言气泡",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",t:"1634729967305",viewBox:"0 0 1024 1024",version:"1.1","p-id":"3774",width:"128",height:"128"},a.a.createElement("path",{fill:e.fill,d:"M882.389333 865.621333l6.869334 7.68 134.656 150.528h-269.312L518.613333 1024H512C229.290667 1024 0 794.709333 0 512S229.290667 0 512 0c282.794667 0 512 229.290667 512 512a509.184 509.184 0 0 1-141.610667 353.621333z","p-id":"3775"}))}},{type:"dianshi_1",name:"电视",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",t:"1634730130123",viewBox:"0 0 1024 1024",version:"1.1","p-id":"9674",width:"128",height:"128"},a.a.createElement("path",{d:"M737.28 80.65024a30.72 30.72 0 0 1 11.24352 41.96352L689.2544 225.28H839.68a122.88 122.88 0 0 1 122.88 122.88v491.52a122.88 122.88 0 0 1-122.88 122.88H184.32a122.88 122.88 0 0 1-122.88-122.88V348.16a122.88 122.88 0 0 1 122.88-122.88h150.40512l-59.24864-102.66624a30.72 30.72 0 1 1 53.20704-30.72L405.68832 225.28H618.2912l77.02528-133.38624A30.72 30.72 0 0 1 737.28 80.62976z",fill:e.fill,"p-id":"9675","data-spm-anchor-id":"a313x.7781069.0.i2"}),a.a.createElement("path",{d:"M450.68288 456.3968l163.6352 100.43392c19.6608 12.06272 26.39872 38.8096 15.07328 59.74016-3.66592 6.7584-8.94976 12.36992-15.33952 16.22016l-163.6352 98.79552c-19.72224 11.91936-44.76928 4.52608-55.95136-16.4864A45.9776 45.9776 0 0 1 389.12 693.51424v-199.20896c0-24.1664 18.39104-43.74528 41.0624-43.74528 7.20896 0 14.27456 2.00704 20.50048 5.8368z",fill:e.fill,"p-id":"9676","data-spm-anchor-id":"a313x.7781069.0.i0"}))}},{type:"qq_1",name:"QQ",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",t:"1634730596511",viewBox:"0 0 1025 1024",version:"1.1","p-id":"2550",width:"128.125",height:"128"},a.a.createElement("path",{fill:e.fill,d:"M879.243325 586.810341c-16.32354-43.266438-79.320268-141.551527-80.064248-190.941723l-0.374548 0c0.125873-2.627976 0.374548-5.253906 0.374548-7.876766 0-179.445349-128.665437-324.870276-287.365328-324.870276-158.764362 0-287.368398 145.424926-287.368398 324.870276 0 2.62286 0.251745 5.248789 0.312123 7.876766l-0.312123 0c-0.742956 49.39122-63.677259 147.675285-80.063224 190.941723-16.386988 43.391287-20.484503 87.1561-12.911674 121.921525 7.572829 34.63546 13.778456 56.144341 20.978783 62.896439 7.137903 6.876948 13.964706 14.13049 35.628114-1.125691 17.376573-14.381212 36.368-43.640986 36.368-43.640986s15.70441 45.3899 50.769679 80.030477c-27.496533 13.002752-67.278447 41.890025-70.133608 60.77093-2.731335 18.759126 41.707868 90.158624 146.102387 91.783712 104.396566 1.500239 139.090357-43.64201 142.50734-47.143931 9.742342-10.252997 18.121575-16.503651 18.121575-16.503651s8.440634 6.250654 18.123622 16.503651c3.410843 3.501922 38.105657 48.64417 142.503247 47.143931 104.392473-1.626112 148.832699-73.024587 146.040986-91.783712-2.794783-18.880905-42.639121-47.768178-70.07323-60.77093 35.002844-34.640576 50.770702-80.030477 50.770702-80.030477s18.992451 29.259774 36.372094 43.640986c21.597913 15.255157 28.423693 8.001615 35.622998 1.125691 7.201351-6.752098 13.3466-28.26098 20.978783-62.896439C899.725781 673.966441 895.569935 630.201629 879.243325 586.810341z","p-id":"2551"}))}},{type:"xin_1",name:"心",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",t:"1634730632876",viewBox:"0 0 1210 1024",version:"1.1","p-id":"1857",width:"151.25",height:"128"},a.a.createElement("path",{fill:e.fill,d:"M604.874346 512","p-id":"1858"}),a.a.createElement("path",{fill:e.fill,d:"M1114.068995 94.739355c-63.410328-62.783434-147.946983-94.425908-232.123175-94.425908-79.239401 0-158.055649 28.084851-218.394196 84.740396-25.373535 21.768894-43.772873 38.726377-58.75564 38.726377-15.985797 0-30.07524-15.954452-58.598916-38.726377C481.658331 28.100523 402.8891 0 324.809452 0c-83.220178 0-165.594049 31.893232-229.067067 94.739355-127.65129 126.334813-127.65129 342.346812 0 468.681625l460.563348 445.188772c9.183997 9.183997 29.981205 15.374575 50.903793 15.374575 17.662738 0 35.388166-4.435275 46.264777-15.327558l460.610365-445.251462C1241.641924 437.086167 1241.641924 221.058496 1114.068995 94.739355zM352.659218 156.284674c-1.676941 14.40289-14.841715 24.840675-29.166243 23.069699-16.330589-1.880682-63.770792 5.406961-97.999204 39.635373-28.257247 28.21023-45.496832 69.16208-46.092381 109.565398-0.235085 14.371545-11.973675 25.890722-26.298203 25.890722L152.680033 354.445866c-14.528268-0.203741-26.110135-12.161744-25.906394-26.67434 0.830635-53.787505 23.821972-108.327283 61.560991-145.956595 46.703603-46.734948 110.113931-58.254125 141.270562-54.680829C343.992409 128.811044 354.320487 141.881784 352.659218 156.284674z","p-id":"1859"}),a.a.createElement("path",{fill:e.fill,d:"M329.589519 127.11843","p-id":"1860"}))}},{type:"yinbo_1",name:"音波",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",t:"1634730416673",viewBox:"0 0 1024 1024",version:"1.1","p-id":"15418",width:"128",height:"128"},a.a.createElement("path",{fill:e.fill,d:"M96 336h64v384H96zM0 451h64v186H0zM224 272h64v512h-64zM352 448h64v160h-64zM480 400h64v256h-64zM608 336h64v384h-64zM736 464h64v128h-64zM864 400h64v256h-64zM960 448h64v160h-64z","p-id":"15419"}))}},{type:"maobi_1",name:"毛笔",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"124",height:"91",viewBox:"0 0 124 91"},a.a.createElement("path",{fill:e.fill,d:"M83.2726527,0.700080952 C83.2726527,0.700080952 31.7309458,77.3247256 0,85.3217191 C0,85.3217191 18.2219949,84.1640252 22.2072242,82.5031796 C26.1924534,80.8423341 11.1036121,88.1447112 11.1036121,88.1447112 L27.7590302,85.3217191 L19.4291022,90.9632507 C19.4291022,90.9632507 33.4084699,84.7517775 33.3108362,88.1447112 C33.2132025,91.537645 24.9809082,90.9632507 24.9809082,90.9632507 L38.8630861,90.9632507 L47.1881324,88.1447112 L41.6367701,90.9632507 L49.9662543,88.1447112 L58.2917445,85.3217191 C58.2917445,85.3217191 66.9811419,84.1551198 63.8435505,88.1447112 C60.5595085,92.3168621 72.1734785,82.5031796 72.1734785,82.5031796 L72.1734785,90.9632507 C72.1734785,90.9632507 116.871952,68.2590916 122.135295,54.2955216 C127.399082,40.3319517 120.830554,7.06606179 111.031683,6.34027675 C101.232812,5.6144917 97.1543867,3.51995622 97.1543867,3.51995622 L91.6030245,3.51995622 C91.6030245,3.51995622 84.3643747,-1.88469339 83.2726527,0.700080952"}))}},{type:"feiji_1",name:"飞机",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",t:"1634732159179",viewBox:"0 0 1024 1024",version:"1.1",width:"128",height:"128"},a.a.createElement("path",{fill:e.fill,d:"M973.6192 55.9104L38.7072 445.6448c-52.6336 21.9136-51.3024 53.8112 2.7136 71.168l225.8944 72.448 91.8016 295.0656c12.032 38.7072 43.4688 46.848 70.3488 18.0736l118.528-126.8224 233.7792 185.1392c30.3616 23.9616 61.696 11.4688 69.888-28.5696l170.6496-830.5664c8.192-39.7824-13.6192-60.16-48.6912-45.568v-0.1024z m-142.2848 187.904L432.64 627.5584a56.8832 56.8832 0 0 0-14.7456 30.72l-17.5616 178.7904c-1.9968 19.968-8.3968 20.8384-14.2848 1.536l-77.1072-251.1872a24.9344 24.9344 0 0 1 9.1136-27.0336l505.6512-327.6288c32.256-20.8384 35.6864-15.9232 7.68 11.0592z","p-id":"13007"}))}},{type:"banyuan_1",name:"半圆",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",t:"1634732416442",viewBox:"0 0 1024 1024",version:"1.1",width:"128",height:"128"},a.a.createElement("path",{fill:e.fill,d:"M512 288H64c0 245.8 202.2 448 448 448s448-202.2 448-448H512z","p-id":"33714"}))}},{type:"shoucang_1",name:"收藏",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",t:"1634732608864",viewBox:"0 0 1024 1024",version:"1.1","p-id":"57939",width:"128",height:"128"},a.a.createElement("path",{fill:e.fill,d:"M575.9 141.7l76.9 155.8c10.4 21 30.4 35.6 53.6 39l172 25c58.4 8.5 81.8 80.3 39.5 121.5L793.4 604.3c-16.8 16.4-24.5 39.9-20.5 63.1l29.4 171.3c10 58.2-51.1 102.6-103.4 75.1l-153.8-80.9a71.3 71.3 0 0 0-66.3 0L325 913.7c-52.3 27.5-113.3-16.9-103.4-75.1L251 667.3c4-23.1-3.7-46.7-20.5-63.1L106.1 483c-42.3-41.2-18.9-113 39.5-121.5l172-25c23.2-3.4 43.3-17.9 53.6-39l76.9-155.8c26.2-53 101.6-53 127.8 0z"}))}},{type:"sifenzhiyiyuan_1",name:"四分子一圆",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",t:"1634732621762",viewBox:"0 0 1024 1024",version:"1.1","p-id":"59213",width:"128",height:"128"},a.a.createElement("path",{fill:e.fill,d:"M64 64v896c237.5 0 465.6-94.5 633.6-262.4S960 301.5 960 64H64z","p-id":"59214"}))}},{type:"yuanjiao_1",name:"圆角",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",t:"1634732496587",viewBox:"0 0 1024 1024",version:"1.1","p-id":"39831",width:"128",height:"128"},a.a.createElement("path",{fill:e.fill,d:"M264 235c-110.5 0-200 89.5-200 200v354h696c110.5 0 200-89.5 200-200V235H264z","p-id":"39832"}))}},{type:"yuanjiaoju_1",name:"圆角矩形",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",t:"1634733006691",viewBox:"0 0 1024 1024",version:"1.1","p-id":"121126",width:"128",height:"128"},a.a.createElement("path",{fill:e.fill,d:"M962 782c0 99.405-80.595 180-180 180h-540c-99.405 0-180-80.595-180-180v-540c0-99.405 80.595-180 180-180h540c99.405 0 180 80.595 180 180v540z","p-id":"121127"}))}},{type:"weixin_1",name:"微信",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{t:"1634786062638",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3265",width:"200",height:"200"},a.a.createElement("path",{fill:e.fill,d:"M693.12 347.264c11.776 0 23.36 0.896 35.008 2.176-31.36-146.048-187.456-254.528-365.696-254.528C163.2 94.912 0 230.656 0 403.136c0 99.52 54.272 181.248 145.024 244.736L108.8 756.864l126.72-63.488c45.312 8.896 81.664 18.112 126.912 18.112 11.392 0 22.656-0.512 33.792-1.344-7.04-24.256-11.2-49.6-11.2-76.032C385.088 475.776 521.024 347.264 693.12 347.264zM498.304 249.024c27.392 0 45.376 17.984 45.376 45.248 0 27.136-17.984 45.312-45.376 45.312-27.072 0-54.336-18.176-54.336-45.312C443.968 266.944 471.168 249.024 498.304 249.024zM244.672 339.584c-27.2 0-54.592-18.176-54.592-45.312 0-27.264 27.392-45.248 54.592-45.248S289.92 266.944 289.92 294.272C289.92 321.408 271.872 339.584 244.672 339.584zM1024 629.76c0-144.896-145.024-262.976-307.904-262.976-172.48 0-308.224 118.144-308.224 262.976 0 145.28 135.808 262.976 308.224 262.976 36.096 0 72.512-9.024 108.736-18.112l99.392 54.528-27.264-90.624C969.728 783.872 1024 711.488 1024 629.76zM616.128 584.384c-17.984 0-36.224-17.92-36.224-36.224 0-18.048 18.24-36.224 36.224-36.224 27.52 0 45.376 18.176 45.376 36.224C661.504 566.464 643.648 584.384 616.128 584.384zM815.488 584.384c-17.856 0-36.032-17.92-36.032-36.224 0-18.048 18.112-36.224 36.032-36.224 27.264 0 45.376 18.176 45.376 36.224C860.864 566.464 842.752 584.384 815.488 584.384z","p-id":"3266"}))}},{type:"dianzan_1",name:"点赞",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{t:"1634786221537",viewBox:"0 0 1094 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"12236",width:"200",height:"200"},a.a.createElement("path",{fill:e.fill,d:"M624.710621 6.17931a122.88 122.88 0 0 1 122.809379 122.80938v215.357793h193.041655a135.485793 135.485793 0 0 1 135.591724 135.591724c0 12.747034-1.588966 24.999724-5.296551 36.722759l-112.216276 395.581793a135.944828 135.944828 0 0 1-130.295173 98.868965H297.171862a39.830069 39.830069 0 0 1-39.90069-39.865379V435.270621c0-21.786483 18.078897-39.90069 39.90069-39.90069 31.885241 0 71.220966-26.023724 114.829241-75.493517 46.786207-53.177379 76.588138-120.690759 89.335173-200.456828 0.529655-2.118621 1.05931-4.237241 1.588965-5.826207A122.067862 122.067862 0 0 1 624.710621 6.17931zM174.503724 411.718621c14.477241 0 26.023724 13.912276 26.023724 31.284965v535.622621c0 17.37269-11.581793 31.284966-26.023724 31.284965h-68.855172a70.62069 70.62069 0 0 1-70.62069-70.620689V482.374621a70.62069 70.62069 0 0 1 70.62069-70.62069h68.855172z","p-id":"12237"}))}},{type:"pingguo_1",name:"苹果",dom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.a.createElement("svg",{t:"1634786272826",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13037",width:"200",height:"200"},a.a.createElement("path",{fill:e.fill,d:"M844.992 674.24c28.48 40 61.024 65.376 99.008 77.408-16.288 49.408-42.048 100.128-75.968 152.192C813.792 983.936 760.896 1024 709.344 1024c-18.976 0-48.832-6.688-86.816-20.032-35.264-13.344-66.432-20.032-93.568-20.032-27.136 0-55.616 6.688-88.16 20.032-33.92 13.344-61.056 20.032-82.752 20.032-62.4 0-124.8-52.064-185.824-157.536C111.2 763.648 80 662.208 80 560.736c0-93.44 23.04-168.224 69.184-228.288 47.456-58.752 105.792-88.128 176.32-88.128 14.912 0 32.544 1.344 51.52 5.344a222.336 222.336 0 0 1 58.336 21.344c21.696 12.032 39.36 20.032 52.896 24.032 13.568 4 24.416 6.688 32.544 6.688 9.504 0 23.072-2.688 42.048-6.688 19.008-4 37.984-12 56.96-22.688a899.456 899.456 0 0 1 52.928-25.376c14.912-5.344 29.824-8 44.736-8 48.832 0 93.6 13.344 131.584 38.72 20.352 13.344 42.048 33.376 63.744 61.44-32.544 28-55.616 52.032-70.528 72.064-27.136 38.72-40.704 80.096-40.704 125.504 1.376 52.064 14.944 97.44 43.424 137.504z m-210.24-481.984c-24.416 22.72-47.488 37.376-66.464 44.064-6.784 2.656-16.288 4-27.136 5.312-10.848 1.344-23.04 2.688-36.608 4.032 1.344-60.096 16.288-112.16 48.832-156.224C585.92 45.44 634.752 16.032 708 0c1.344 6.688 2.72 12 2.72 14.688v10.688c0 25.344-5.44 52.064-17.632 84.096-13.568 30.72-32.576 57.408-58.336 82.784z","p-id":"13038"}))}}]},function(e,t,n){var r=n(42),a=n(33);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),a=n.n(r),o=function e(){a()(this,e),this.id=null,this.className=null,this.animate=[],this.uncenter=!0,this.data=[],this.keepRender=!0,this.originstyle={width:0,height:0},this.style={width:0,height:0,top:0,left:0},this.estyle={},this.set={hide:!1,lock:!1},this.events=[]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),a=n.n(r),o=n(5),i=n.n(o),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,e),this.id=null,this.className=null,this.animate=[],this.uncenter=!0,this.data={shape:t,style:this.getStyle(),fontFamilySet:{name:"",url:""},text:{content:"",fontSize:14,fontFamily:"默认字体",justifyContent:"center",color:"rgba(255,255,255,1)",fontWeight:"normal"}},this.style={width:200,height:200,top:0,left:0},this.estyle={},this.events=[]}return i()(e,[{key:"getStyle",value:function(){var e={fill:"rgba(0, 0, 0, 1)"};switch(this.shape){case"line":e.strokeWidth=2,e.x1=0,e.y1=0,e.x2=0,e.y2=0}return e}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),a=n.n(r),o=n(5),i=n.n(o),s=function(){function e(){a()(this,e),this.id=null,this.className=null,this.keepRender=!1,this.animate=[],this.data={data:"请输入文本内容",fontFamilySet:{name:"默认字体",url:""},style:{letterSpacing:"normal",lineHeight:"normal",color:"rgba(0,0,0,1)",textDecoration:"normal",textAlign:"left",fontFamily:"默认字体",fontWeight:"normal",fontStyle:"normal",fontSize:"18px"},artword:{type:"",name:"",colors:[],size:10},animate:""},this.style={width:132,height:this.setLineHeight(),top:0,left:0},this.estyle={},this.events=[]}return i()(e,[{key:"setLineHeight",value:function(){var e=parseInt(this.data.style.fontSize,10);return e/2+e}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),a=n.n(r);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}var i=function e(){a()(this,e),this.id=null,this.className=null,this.animate=[],this.eventId=null,this.jscript=null,this.uncenter=!0,this.data={subtitle:"",keyid:o(),name:"星星闪耀的转场声音",autoplay:!0,loop:!1,delay:0,volume:1,duration:1.7,sound:"https://cdn.h5ds.cn/static/sound/星星闪耀的转场声音.mp3"},this.style={display:"none",width:0,height:0},this.estyle={},this.events=[]}},function(e,t,n){var r=n(142),a=n(33),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,n){var r=n(29)(n(25),"Map");e.exports=r},function(e,t,n){var r=n(162),a=n(169),o=n(171),i=n(172),s=n(173);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(26),a=n(66),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(i.test(e)||!o.test(e)||null!=t&&e in Object(t))}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=o},function(e,t,n){"use strict";function r(){return'<!DOCTYPE html>\n  <html>\n  <head lang="zh-cn">\n      <meta charset="utf-8">\n      <meta http-equiv="X-UA-Compatible" content="IE=edge">\n      <meta name="description" content="">\n      <meta name="keywords" content="">\n      <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">\n      <title>h5ds.com 四川爱趣五科技</title>\n      <meta name="renderer" content="webkit">\n      \x3c!-- No Baidu Siteapp--\x3e\n      <meta http-equiv="Cache-Control" content="no-siteapp" />\n      <meta name="apple-mobile-web-app-title" content="yes" />\n      <meta name="apple-mobile-web-app-capable" content="yes">\n      <meta name="apple-mobile-web-app-status-bar-style" content="black">\n      <meta http-equiv="Cache-Control" content="no-siteapp" />\n      <meta name="x5-fullscreen" content="true">\n      <meta name="x5-orientation" content="portrait">\n      <meta name="x5-page-mode" content="app">\n      \x3c!--uc浏览器--\x3e\n      <meta name="screen-orientation" content="portrait">\n      <meta name="format-detection" content="telephone=no" />\n      <meta name="format-detection" content="email=no" />\n      <link rel="shortcut icon" href="/assets/images/favicon.ico">\n      <link href="https://cdn.h5ds.com/lib/swiper/swiper.min.css" rel="stylesheet">\n      <script src="https://cdn.h5ds.com/lib/plugins/jquery.min.js"><\/script>\n      <script src="https://res.wx.qq.com/open/js/jweixin-1.4.0.js"><\/script>\n      <script src="https://cdn.h5ds.com/lib/swiper/swiper.min.js"><\/script>\n      <script src="https://cdn.h5ds.com/lib/vendor/16.13.1/h5ds.vendor.preview.min.js"><\/script>\n      \x3c!-- <script src="https://cdn.bootcss.com/vConsole/3.3.0/vconsole.min.js"><\/script>\n      <script>\n        // init vConsole\n        new VConsole();\n      <\/script> --\x3e\n      <link href="https://cdn.h5ds.com/lib/h5dssdk/6.1.6/H5DSPreviewSDK/style.css" rel="stylesheet">\n      <script>\n      {{__html}}\n      <\/script>\n    </head>\n    <body class="h5ds-preview-app">\n      <div id="H5DS-APP"></div>\n    <script type="text/javascript" src="https://cdn.h5ds.com/lib/h5dssdk/6.1.6/H5DSPreviewSDK/index.js"><\/script>\n    <script>\n      $(function() {\n        new window.H5DSRender({\n          id: \'H5DS-APP\',\n          appId: APP_ID,\n          pluginsHost: \'https://www.h5ds.com/assets\',\n          data: H5DS_APP_DATA\n        });\n      })\n    <\/script>\n    </body>\n  </html>\n  '}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n.n(r),o=[{value:"icon1",start:function(e){return a.a.createElement("svg",{style:{fill:e},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("g",null,a.a.createElement("path",{d:"M50,0a50,50,0,1,0,50,50A50,50,0,0,0,50,0ZM34.22,89.37a42.41,42.41,0,1,1,55.19-23.6A42.39,42.39,0,0,1,34.22,89.37Z"}),a.a.createElement("path",{d:"M50.94,47.51a2.66,2.66,0,1,0,1.36,3.4A2.66,2.66,0,0,0,50.94,47.51Z"}),a.a.createElement("path",{d:"M64.43,14A38.78,38.78,0,1,0,86,64.42,38.87,38.87,0,0,0,64.43,14ZM21.82,40a1.34,1.34,0,0,1-1.24-.49,1.32,1.32,0,0,1-.18-1.31A31.71,31.71,0,0,1,37.34,20.79s0,0,.08-.06a1.33,1.33,0,1,1,1,2.44,29.11,29.11,0,0,0-15.61,16A1.31,1.31,0,0,1,21.82,40Zm4.26,1.85a1.33,1.33,0,0,1-.75-1.68A26.42,26.42,0,0,1,39.44,25.66s.05,0,.07-.05A1.33,1.33,0,1,1,40.56,28h0A23.74,23.74,0,0,0,27.79,41.11,1.34,1.34,0,0,1,26.08,41.8Zm6.63,1.28a1.32,1.32,0,0,1-1,.84,1.33,1.33,0,0,1-1.42-1.83h0a21.15,21.15,0,0,1,11.3-11.57l.05,0a1.34,1.34,0,0,1,1.75.7,1.36,1.36,0,0,1,0,1,1.34,1.34,0,0,1-.71.73,18.46,18.46,0,0,0-9.93,10.16ZM44,64.74a15.91,15.91,0,1,1,20.58-8.9A15.87,15.87,0,0,1,44,64.74Zm14.27,4.73a1.32,1.32,0,0,1-1-2.43A18.54,18.54,0,0,0,67.2,56.87h0a1.32,1.32,0,1,1,2.46,1h0A21.13,21.13,0,0,1,58.37,69.43Zm2.09,4.87a1.33,1.33,0,0,1-1-2.44h0A23.74,23.74,0,0,0,72.12,58.84a1.33,1.33,0,0,1,2.47,1A26.44,26.44,0,0,1,60.47,74.29S60.43,74.33,60.4,74.34ZM79.51,61.8A31.66,31.66,0,0,1,62.57,79.15s0,0-.09.06a1.32,1.32,0,0,1-1-2.43,29.1,29.1,0,0,0,15.61-16,1.32,1.32,0,0,1,1.72-.74A1.34,1.34,0,0,1,79.51,61.8Z"}),a.a.createElement("path",{d:"M53.9,40.13a10.61,10.61,0,1,0,5.91,13.79A10.65,10.65,0,0,0,53.9,40.13Zm.85,11.76a5.16,5.16,0,1,1-2.82-6.84A5.32,5.32,0,0,1,54.75,51.89Z"})))},stop:function(e){return a.a.createElement("svg",{style:{fill:e},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("g",null,a.a.createElement("path",{d:"M50,0a50,50,0,1,0,50,50A50,50,0,0,0,50,0ZM34.22,89.37a42.41,42.41,0,1,1,55.19-23.6A42.39,42.39,0,0,1,34.22,89.37Z"}),a.a.createElement("path",{d:"M71.37,73.49a31.72,31.72,0,0,1-8.8,5.66.47.47,0,0,1-.09.06,1.32,1.32,0,0,1-1-2.43,29.27,29.27,0,0,0,8.06-5.16l-1.88-1.88a26.51,26.51,0,0,1-7.15,4.55l-.07,0a1.33,1.33,0,0,1-1-2.44h0a23.7,23.7,0,0,0,6.39-4L63.86,66a21.26,21.26,0,0,1-5.5,3.45.11.11,0,0,1,0,0A1.33,1.33,0,0,1,57.26,67,18.51,18.51,0,0,0,62,64.11l-2-2A15.91,15.91,0,0,1,37.62,39.74L35.83,38a18.51,18.51,0,0,0-3.12,5.13h0a1.33,1.33,0,1,1-2.46-1h0a21,21,0,0,1,3.71-6L32.08,34.2a23.58,23.58,0,0,0-4.29,6.91,1.33,1.33,0,0,1-2.46-1,26.37,26.37,0,0,1,4.86-7.81L28.3,30.42a29.19,29.19,0,0,0-5.44,8.71,1.35,1.35,0,0,1-1.05.82,1.31,1.31,0,0,1-1.41-1.8,31.68,31.68,0,0,1,6-9.6l-4.9-4.9A38.79,38.79,0,0,0,76.35,78.47Z"}),a.a.createElement("path",{d:"M64.43,14a38.89,38.89,0,0,0-40.78,7.53l4.91,4.9a31.55,31.55,0,0,1,8.78-5.64l.08-.06a1.33,1.33,0,0,1,1,2.44,29.1,29.1,0,0,0-8,5.14l1.88,1.88a26.34,26.34,0,0,1,7.13-4.53l.07-.05a1.33,1.33,0,0,1,1.36.12A1.33,1.33,0,0,1,40.56,28h0a23.88,23.88,0,0,0-6.36,4L36.07,34a21.37,21.37,0,0,1,5.47-3.43l.06,0a1.33,1.33,0,0,1,1,0,1.34,1.34,0,0,1,.74,1.72,1.34,1.34,0,0,1-.71.73,18.61,18.61,0,0,0-4.71,2.9l1.81,1.81c.1-.07.18-.15.28-.23A15.92,15.92,0,0,1,64.62,55.84,15.72,15.72,0,0,1,62.14,60l2,2a18.49,18.49,0,0,0,3.1-5.11h0a1.33,1.33,0,0,1,2.46,1h0a21.19,21.19,0,0,1-3.69,6l1.88,1.88a23.5,23.5,0,0,0,4.27-6.89,1.32,1.32,0,0,1,1.72-.74,1.34,1.34,0,0,1,.75,1.73,26.32,26.32,0,0,1-4.85,7.79l1.88,1.88a28.94,28.94,0,0,0,5.43-8.69,1.32,1.32,0,0,1,1.72-.74,1.34,1.34,0,0,1,.74,1.73,31.67,31.67,0,0,1-6,9.57l5,5A38.73,38.73,0,0,0,64.43,14Z"}),a.a.createElement("path",{d:"M47.56,45.44a5.1,5.1,0,0,1,7.23,6.48,4.59,4.59,0,0,1-.26.49l3.95,4A10.59,10.59,0,0,0,43.65,41.53Z"}),a.a.createElement("path",{d:"M52.44,54.56a5.1,5.1,0,0,1-7.23-6.48,3.8,3.8,0,0,1,.26-.49l-3.95-4a10.24,10.24,0,0,0-1.37,2.42,10.6,10.6,0,0,0,16.2,12.42Z"}),a.a.createElement("path",{d:"M47.45,49.57a2.66,2.66,0,0,0,1.62,2.92,2.71,2.71,0,0,0,1.38.08Z"}),a.a.createElement("path",{d:"M52.55,50.43a2.65,2.65,0,0,0-1.5-2.87,2.6,2.6,0,0,0-1.5-.13Z"})))}},{value:"icon2",start:function(e){return a.a.createElement("svg",{style:{fill:e},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("g",null,a.a.createElement("path",{d:"M56.28,59.42A9.43,9.43,0,1,0,46.85,50,9.43,9.43,0,0,0,56.28,59.42Z"}),a.a.createElement("path",{d:"M50,0a50,50,0,1,0,50,50A50,50,0,0,0,50,0ZM90.84,40.57A1.57,1.57,0,1,1,89.28,39,1.56,1.56,0,0,1,90.84,40.57ZM59.43,9.15a1.57,1.57,0,1,1-1.57,1.56A1.56,1.56,0,0,1,59.43,9.15ZM65.72,41.7V13.08A1.56,1.56,0,0,1,68,11.67a1.61,1.61,0,0,1,.52.14A42.31,42.31,0,0,1,86.41,28.22c.65,1.08,1.26,2.22,1.82,3.36a1.57,1.57,0,0,1-2.86,1.32c-.51-1-1.07-2.08-1.66-3.08A39.77,39.77,0,0,0,68.85,15.54V49.21a1.27,1.27,0,0,1,0,.2c0,.2,0,.4,0,.59a12.57,12.57,0,1,1-3.13-8.3ZM50,72a1.56,1.56,0,0,1-1.57,1.56A17.3,17.3,0,0,1,31.15,56.27a1.57,1.57,0,1,1,3.14,0A14.16,14.16,0,0,0,48.43,70.42,1.57,1.57,0,0,1,50,72Zm0,20.43A42.42,42.42,0,0,1,50,7.58a1.57,1.57,0,1,1,0,3.13A39.28,39.28,0,1,0,89.28,50a1.57,1.57,0,1,1,3.14,0A42.47,42.47,0,0,1,50,92.42Z"})))},stop:function(e){return a.a.createElement("svg",{style:{fill:e},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("g",null,a.a.createElement("path",{d:"M50,0a50,50,0,1,0,50,50A50,50,0,0,0,50,0ZM90.84,40.57A1.57,1.57,0,1,1,89.28,39,1.56,1.56,0,0,1,90.84,40.57ZM59.43,9.15a1.57,1.57,0,1,1-1.57,1.56A1.56,1.56,0,0,1,59.43,9.15ZM50,92.42A42.42,42.42,0,0,1,50,7.58a1.57,1.57,0,1,1,0,3.13A39.14,39.14,0,0,0,23.32,21.2L45.58,43.46A12.54,12.54,0,0,1,65.72,41.7V13.08A1.56,1.56,0,0,1,68,11.67a1.61,1.61,0,0,1,.52.14A42.31,42.31,0,0,1,86.41,28.22c.65,1.08,1.26,2.22,1.82,3.36a1.57,1.57,0,0,1-2.86,1.32c-.51-1-1.07-2.08-1.66-3.08A39.77,39.77,0,0,0,68.85,15.54V49.21a1.27,1.27,0,0,1,0,.2c0,.2,0,.4,0,.59a12.58,12.58,0,0,1-6,10.71l16,16A39.14,39.14,0,0,0,89.28,50a1.57,1.57,0,1,1,3.14,0A42.47,42.47,0,0,1,50,92.42Z"}),a.a.createElement("path",{d:"M59.91,62a12.8,12.8,0,0,1-3.63.54A12.58,12.58,0,0,1,43.73,50a12.73,12.73,0,0,1,.53-3.62L21.2,23.32A39.25,39.25,0,0,0,76.67,78.79ZM48.43,73.55A17.3,17.3,0,0,1,31.15,56.27a1.57,1.57,0,1,1,3.14,0A14.16,14.16,0,0,0,48.43,70.42a1.57,1.57,0,1,1,0,3.13Z"}),a.a.createElement("path",{d:"M60.52,58.4A9.42,9.42,0,1,0,47.87,45.75Z"}),a.a.createElement("path",{d:"M46.9,49c0,.32,0,.64,0,1a9.44,9.44,0,0,0,9.43,9.43c.33,0,.65,0,1-.05Z"})))}},{value:"icon3",start:function(e){return a.a.createElement("svg",{style:{fill:e},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("g",null,a.a.createElement("path",{d:"M50,0a50,50,0,1,0,50,50A50,50,0,0,0,50,0Zm9.35,8a3,3,0,0,1,1.26,0,40.62,40.62,0,0,1,14.91,7.16,45.46,45.46,0,0,1,4.33,3.63,1.73,1.73,0,0,1-.7,2.92,1.73,1.73,0,0,1-1.68-.42,41,41,0,0,0-4-3.34A37.31,37.31,0,0,0,60,11.45h-.11c-.54.17-.78.71-.78,1.62V56.9a1,1,0,0,1,0,.17C59,62.71,53.63,67.25,47,67.25S35,62.62,35,56.9,40.37,46.54,47,46.54h0a13.05,13.05,0,0,1,8.64,3.12V13.06C55.68,10.38,57.09,8.45,59.35,8ZM50,93.16h0A43.16,43.16,0,0,1,46,7c1.32-.13,2.67-.18,4-.18a1.73,1.73,0,1,1,0,3.45c-1.23,0-2.48.05-3.69.16A39.71,39.71,0,1,0,89.71,50a39.18,39.18,0,0,0-4-17.47,37.83,37.83,0,0,0-3-5.07,1.73,1.73,0,1,1,2.85-2A43.15,43.15,0,0,1,50,93.16Z"})))},stop:function(e){return a.a.createElement("svg",{style:{fill:e},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("g",null,a.a.createElement("path",{d:"M58.36,60.48c-1.71,4-6.13,6.77-11.32,6.77C40.38,67.25,35,62.62,35,56.9c0-5,4.16-9.19,9.67-10.15L20.89,23A39.7,39.7,0,0,0,77,79.11Z"}),a.a.createElement("path",{d:"M50,0a50,50,0,1,0,50,50A50,50,0,0,0,50,0Zm0,93.16h0A43.16,43.16,0,0,1,46,7c1.32-.13,2.67-.18,4-.18a1.73,1.73,0,1,1,0,3.45c-1.23,0-2.48.05-3.69.16A39.56,39.56,0,0,0,23,20.89L48.78,46.66a12.8,12.8,0,0,1,6.9,3V13.06c0-2.68,1.41-4.61,3.67-5a3,3,0,0,1,1.26,0,40.62,40.62,0,0,1,14.91,7.16,45.46,45.46,0,0,1,4.33,3.63,1.73,1.73,0,0,1-.7,2.92,1.73,1.73,0,0,1-1.68-.42,41,41,0,0,0-4-3.34A37.31,37.31,0,0,0,60,11.45h-.11c-.54.17-.78.71-.78,1.62V56.9s0,.07,0,.1l20,20a39.69,39.69,0,0,0,6.56-44.45,37.83,37.83,0,0,0-3-5.07,1.73,1.73,0,1,1,2.85-2A43.15,43.15,0,0,1,50,93.16Z"})))}},{value:"icon4",start:function(e){return a.a.createElement("svg",{style:{fill:e},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("g",null,a.a.createElement("path",{d:"M50,0a50,50,0,1,0,50,50A50,50,0,0,0,50,0Zm0,92.9A42.9,42.9,0,1,1,92.9,50,42.9,42.9,0,0,1,50,92.9Z"}),a.a.createElement("path",{d:"M50,10.15A39.85,39.85,0,1,0,89.85,50,39.85,39.85,0,0,0,50,10.15ZM65.24,62.48A5.69,5.69,0,1,1,64,58.93V41.84L42.15,46V62.48a5.69,5.69,0,1,1-1.3-3.6V38.08a2.82,2.82,0,0,1,2.38-2.8L62,31.88h0a2.85,2.85,0,0,1,2.28.64,2.82,2.82,0,0,1,1,2.16Z"})))},stop:function(e){return a.a.createElement("svg",{style:{fill:e},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("g",null,a.a.createElement("path",{d:"M50,0a50,50,0,1,0,50,50A50,50,0,0,0,50,0Zm0,92.9A42.9,42.9,0,1,1,92.9,50,42.9,42.9,0,0,1,50,92.9Z"}),a.a.createElement("path",{d:"M40.85,38.73v-.65a2.82,2.82,0,0,1,2.38-2.8L62,31.88h0a2.85,2.85,0,0,1,2.28.64,2.82,2.82,0,0,1,1,2.16l0,27.8a6.08,6.08,0,0,1,0,.61l14,14a39.84,39.84,0,0,0-56.3-56.3Z"}),a.a.createElement("path",{d:"M64,58.93V41.84L47.16,45,59,56.85c.2,0,.4,0,.6,0A5.64,5.64,0,0,1,64,58.93Z"}),a.a.createElement("path",{d:"M64,66.08a5.67,5.67,0,1,1-8-8L43.6,45.72,42.15,46V62.48a5.69,5.69,0,1,1-1.3-3.6V43L20.79,22.91a39.84,39.84,0,0,0,56.3,56.3Z"})))}}]},function(e,t,n){var r;!function(a){var o=/^\s+/,i=/\s+$/,s=0,c=a.round,l=a.min,u=a.max,d=a.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,c=null,d=!1,p=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(i,"").toLowerCase();var t,n=!1;if(I[e])e=I[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=$.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=$.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=$.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=$.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=$.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=$.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=$.hex8.exec(e))return{r:L(t[1]),g:L(t[2]),b:L(t[3]),a:B(t[4]),format:n?"name":"hex8"};if(t=$.hex6.exec(e))return{r:L(t[1]),g:L(t[2]),b:L(t[3]),format:n?"name":"hex"};if(t=$.hex4.exec(e))return{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=$.hex3.exec(e))return{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(Y(e.r)&&Y(e.g)&&Y(e.b)?(f=e.r,h=e.g,m=e.b,t={r:255*T(f,255),g:255*T(h,255),b:255*T(m,255)},d=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):Y(e.h)&&Y(e.s)&&Y(e.v)?(r=M(e.s),s=M(e.v),t=function(e,t,n){e=6*T(e,360),t=T(t,100),n=T(n,100);var r=a.floor(e),o=e-r,i=n*(1-t),s=n*(1-o*t),c=n*(1-(1-o)*t),l=r%6;return{r:255*[n,s,i,i,c,n][l],g:255*[c,n,n,s,i,i][l],b:255*[i,i,c,n,n,s][l]}}(e.h,r,s),d=!0,p="hsv"):Y(e.h)&&Y(e.s)&&Y(e.l)&&(r=M(e.s),c=M(e.l),t=function(e,t,n){var r,a,o;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=T(e,360),t=T(t,100),n=T(n,100),0===t)r=a=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;r=i(c,s,e+1/3),a=i(c,s,e),o=i(c,s,e-1/3)}return{r:255*r,g:255*a,b:255*o}}(e.h,r,c),d=!0,p="hsl"),e.hasOwnProperty("a")&&(n=e.a));var f,h,m;return n=j(n),{ok:d,format:e.format||p,r:l(255,u(t.r,0)),g:l(255,u(t.g,0)),b:l(255,u(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=c(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=n.ok,this._tc_id=s++}function f(e,t,n){e=T(e,255),t=T(t,255),n=T(n,255);var r,a,o=u(e,t,n),i=l(e,t,n),s=(o+i)/2;if(o==i)r=a=0;else{var c=o-i;switch(a=s>.5?c/(2-o-i):c/(o+i),o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:a,l:s}}function h(e,t,n){e=T(e,255),t=T(t,255),n=T(n,255);var r,a,o=u(e,t,n),i=l(e,t,n),s=o,c=o-i;if(a=0===o?0:c/o,o==i)r=0;else{switch(o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:a,v:s}}function m(e,t,n,r){var a=[R(c(e).toString(16)),R(c(t).toString(16)),R(c(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function g(e,t,n,r){return[R(z(r)),R(c(e).toString(16)),R(c(t).toString(16)),R(c(n).toString(16))].join("")}function y(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s-=t/100,n.s=N(n.s),p(n)}function v(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s+=t/100,n.s=N(n.s),p(n)}function b(e){return p(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l+=t/100,n.l=N(n.l),p(n)}function x(e,t){t=0===t?0:t||10;var n=p(e).toRgb();return n.r=u(0,l(255,n.r-c(-t/100*255))),n.g=u(0,l(255,n.g-c(-t/100*255))),n.b=u(0,l(255,n.b-c(-t/100*255))),p(n)}function E(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l-=t/100,n.l=N(n.l),p(n)}function _(e,t){var n=p(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,p(n)}function k(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function S(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+120)%360,s:t.s,l:t.l}),p({h:(n+240)%360,s:t.s,l:t.l})]}function O(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+90)%360,s:t.s,l:t.l}),p({h:(n+180)%360,s:t.s,l:t.l}),p({h:(n+270)%360,s:t.s,l:t.l})]}function C(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+72)%360,s:t.s,l:t.l}),p({h:(n+216)%360,s:t.s,l:t.l})]}function D(e,t,n){t=t||6,n=n||30;var r=p(e).toHsl(),a=360/n,o=[p(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(p(r));return o}function P(e,t){t=t||6;for(var n=p(e).toHsv(),r=n.h,a=n.s,o=n.v,i=[],s=1/t;t--;)i.push(p({h:r,s:a,v:o})),o=(o+s)%1;return i}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:a.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:a.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:a.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=j(e),this._roundA=c(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=c(360*e.h),n=c(100*e.s),r=c(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=c(360*e.h),n=c(100*e.s),r=c(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,a){var o=[R(c(e).toString(16)),R(c(t).toString(16)),R(c(n).toString(16)),R(z(r))];if(a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*T(this._r,255))+"%",g:c(100*T(this._g,255))+"%",b:c(100*T(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*T(this._r,255))+"%, "+c(100*T(this._g,255))+"%, "+c(100*T(this._b,255))+"%)":"rgba("+c(100*T(this._r,255))+"%, "+c(100*T(this._g,255))+"%, "+c(100*T(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var a=p(e);n="#"+g(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:M(e[r]));e=n}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:d(),g:d(),b:d()})},p.mix=function(e,t,n){n=0===n?0:n||50;var r=p(e).toRgb(),a=p(t).toRgb(),o=n/100;return p({r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a})},p.readability=function(e,t){var n=p(e),r=p(t);return(a.max(n.getLuminance(),r.getLuminance())+.05)/(a.min(n.getLuminance(),r.getLuminance())+.05)},p.isReadable=function(e,t,n){var r,a,o=p.readability(e,t);switch(a=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7}return a},p.mostReadable=function(e,t,n){var r,a,o,i,s=null,c=0;a=(n=n||{}).includeFallbackColors,o=n.level,i=n.size;for(var l=0;l<t.length;l++)(r=p.readability(e,t[l]))>c&&(c=r,s=p(t[l]));return p.isReadable(e,s,{level:o,size:i})||!a?s:(n.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],n))};var I=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=p.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(I);function j(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function T(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),a.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function N(e){return l(1,u(0,e))}function L(e){return parseInt(e,16)}function R(e){return 1==e.length?"0"+e:""+e}function M(e){return e<=1&&(e=100*e+"%"),e}function z(e){return a.round(255*parseFloat(e)).toString(16)}function B(e){return L(e)/255}var H,F,W,$=(F="[\\s|\\(]+("+(H="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",W="[\\s|\\(]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",{CSS_UNIT:new RegExp(H),rgb:new RegExp("rgb"+F),rgba:new RegExp("rgba"+W),hsl:new RegExp("hsl"+F),hsla:new RegExp("hsla"+W),hsv:new RegExp("hsv"+F),hsva:new RegExp("hsva"+W),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Y(e){return!!$.CSS_UNIT.exec(e)}e.exports?e.exports=p:void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){"use strict";var r=n(280),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,i,s,c,l,u=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),s=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=a[t.format]||a.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),s.selectNodeContents(l),c.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),l&&document.body.removeChild(l),i()}return u}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=n(0),v=(n(86),n(246)),b=n(117);function w(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r<2048?(t+=String.fromCharCode(192|r>>6),t+=String.fromCharCode(128|63&r)):r<55296||r>=57344?(t+=String.fromCharCode(224|r>>12),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|63&r)):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t+=String.fromCharCode(240|r>>18),t+=String.fromCharCode(128|r>>12&63),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|63&r))}return t}var x={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return e.forEach((function(e,r){var a=null;e.forEach((function(o,i){if(!o&&null!==a)return n.push("M".concat(a+t," ").concat(r+t,"h").concat(i-a,"v1H").concat(a+t,"z")),void(a=null);if(i!==e.length-1)o&&null===a&&(a=i);else{if(!o)return;null===a?n.push("M".concat(i+t,",").concat(r+t," h1v1H").concat(i+t,"z")):n.push("M".concat(a+t,",").concat(r+t," h").concat(i+1-a,"v1H").concat(a+t,"z"))}}))})),n.join("")}function _(e,t){return e.slice().map((function(e,n){return n<t.y||n>=t.y+t.h?e:e.map((function(e,n){return(n<t.x||n>=t.x+t.w)&&e}))}))}function k(e,t){var n=e.imageSettings,r=e.size,a=e.includeMargin;if(null==n)return null;var o=a?4:0,i=t.length+2*o,s=Math.floor(.1*r),c=i/r,l=(n.width||s)*c,u=(n.height||s)*c,d=null==n.x?t.length/2-l/2:n.x*c,p=null==n.y?t.length/2-u/2:n.y*c,f=null;if(n.excavate){var h=Math.floor(d),m=Math.floor(p);f={x:h,y:m,w:Math.ceil(l+d-h),h:Math.ceil(u+p-m)}}return{x:d,y:p,h:u,w:l,excavation:f}}var S=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}(),O=function(e){function t(){var e,n;c(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return g(f(n=d(this,(e=p(t)).call.apply(e,[this].concat(a)))),"_canvas",void 0),g(f(n),"_image",void 0),g(f(n),"state",{imgLoaded:!1}),g(f(n),"handleImageLoad",(function(){n.setState({imgLoaded:!0})})),n}return h(t,e),u(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,n=e.size,r=e.level,a=e.bgColor,o=e.fgColor,i=e.includeMargin,s=e.imageSettings,c=new v(-1,b[r]);if(c.addData(w(t)),c.make(),null!=this._canvas){var l=this._canvas,u=l.getContext("2d");if(!u)return;var d=c.modules;if(null===d)return;var p=i?4:0,f=d.length+2*p,h=k(this.props,d);null!=s&&null!=h&&null!=h.excavation&&(d=_(d,h.excavation));var m=window.devicePixelRatio||1;l.height=l.width=n*m;var g=n/f*m;u.scale(g,g),u.fillStyle=a,u.fillRect(0,0,f,f),u.fillStyle=o,S?u.fill(new Path2D(E(d,p))):d.forEach((function(e,t){e.forEach((function(e,n){e&&u.fillRect(n+p,t+p,1,1)}))})),this.state.imgLoaded&&this._image&&null!=h&&u.drawImage(this._image,h.x+p,h.y+p,h.w,h.h)}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.value,t.size),r=(t.level,t.bgColor,t.fgColor,t.style),o=(t.includeMargin,t.imageSettings),c=s(t,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),l=i({height:n,width:n},r),u=null,d=o&&o.src;return null!=o&&null!=d&&(u=y.createElement("img",{src:d,style:{display:"none"},onLoad:this.handleImageLoad,ref:function(t){return e._image=t}})),y.createElement(y.Fragment,null,y.createElement("canvas",a({style:l,height:n,width:n,ref:function(t){return e._canvas=t}},c)),u)}}]),t}(y.PureComponent);g(O,"defaultProps",x);var C=function(e){function t(){return c(this,t),d(this,p(t).apply(this,arguments))}return h(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.size,r=e.level,o=e.bgColor,i=e.fgColor,c=e.includeMargin,l=e.imageSettings,u=s(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),d=new v(-1,b[r]);d.addData(w(t)),d.make();var p=d.modules;if(null===p)return null;var f=c?4:0,h=p.length+2*f,m=k(this.props,p),g=null;null!=l&&null!=m&&(null!=m.excavation&&(p=_(p,m.excavation)),g=y.createElement("image",{xlinkHref:l.src,height:m.h,width:m.w,x:m.x+f,y:m.y+f,preserveAspectRatio:"none"}));var x=E(p,f);return y.createElement("svg",a({shapeRendering:"crispEdges",height:n,width:n,viewBox:"0 0 ".concat(h," ").concat(h)},u),y.createElement("path",{fill:o,d:"M0,0 h".concat(h,"v").concat(h,"H0z")}),y.createElement("path",{fill:i,d:x}),g)}}]),t}(y.PureComponent);g(C,"defaultProps",x);var D=function(e){var t=e.renderAs,n=s(e,["renderAs"]),r="svg"===t?C:O;return y.createElement(r,n)};D.defaultProps=i({renderAs:"canvas"},x),e.exports=D},function(e,t,n){var r=n(85);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){e.exports=n(242)()},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(47))},function(e,t,n){var r=n(48),a=n(153),o=n(154),i=n(155),s=n(156),c=n(157);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=c,e.exports=l},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(42),a=n(60);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(174),a=n(33);e.exports=function e(t,n,o,i,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:r(t,n,o,i,e,s))}},function(e,t,n){var r=n(95),a=n(177),o=n(96);e.exports=function(e,t,n,i,s,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var p=c.get(e),f=c.get(t);if(p&&f)return p==t&&f==e;var h=-1,m=!0,g=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++h<u;){var y=e[h],v=t[h];if(i)var b=l?i(v,y,h,t,e,c):i(y,v,h,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!a(t,(function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,i,c)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,i,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},function(e,t,n){var r=n(73),a=n(175),o=n(176);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(187),a=n(193),o=n(102);e.exports=function(e){return o(e)?r(e):a(e)}},function(e,t,n){(function(e){var r=n(25),a=n(189),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;e.exports=c}).call(this,n(99)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(190),a=n(191),o=n(192),i=o&&o.isTypedArray,s=i?a(i):r;e.exports=s},function(e,t,n){var r=n(91),a=n(75);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},function(e,t,n){var r=n(29)(n(25),"Set");e.exports=r},function(e,t,n){var r=n(60);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(107),a=n(52);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[a(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(26),a=n(76),o=n(204),i=n(207);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:o(i(e))}},function(e,t,n){},function(e,t,n){"use strict";(function(t){var r=n(138),a=n(139),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(s,"")}var l=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function d(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},a={},i=typeof(e=e||r);if("blob:"===e.protocol)a=new f(unescape(e.pathname),{});else if("string"===i)for(n in a=new f(e,{}),u)delete a[n];else if("object"===i){for(n in e)n in u||(a[n]=e[n]);void 0===a.slashes&&(a.slashes=o.test(e.href))}return a}function p(e){e=c(e);var t=i.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function f(e,t,n){if(e=c(e),!(this instanceof f))return new f(e,t,n);var o,i,s,u,h,m,g=l.slice(),y=typeof t,v=this,b=0;for("object"!==y&&"string"!==y&&(n=t,t=null),n&&"function"!=typeof n&&(n=a.parse),t=d(t),o=!(i=p(e||"")).protocol&&!i.slashes,v.slashes=i.slashes||o&&t.slashes,v.protocol=i.protocol||t.protocol||"",e=i.rest,i.slashes||(g[3]=[/(.*)/,"pathname"]);b<g.length;b++)"function"!=typeof(u=g[b])?(s=u[0],m=u[1],s!=s?v[m]=e:"string"==typeof s?~(h=e.indexOf(s))&&("number"==typeof u[2]?(v[m]=e.slice(0,h),e=e.slice(h+u[2])):(v[m]=e.slice(h),e=e.slice(0,h))):(h=s.exec(e))&&(v[m]=h[1],e=e.slice(0,h.index)),v[m]=v[m]||o&&u[3]&&t[m]||"",u[4]&&(v[m]=v[m].toLowerCase())):e=u(e);n&&(v.query=n(v.query)),o&&t.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==t.pathname)&&(v.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,a=n[r-1],o=!1,i=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),i++):i&&(0===r&&(o=!0),n.splice(r,1),i--);return o&&n.unshift(""),"."!==a&&".."!==a||n.push(""),n.join("/")}(v.pathname,t.pathname)),r(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(u=v.auth.split(":"),v.username=u[0]||"",v.password=u[1]||""),v.origin=v.protocol&&v.host&&"file:"!==v.protocol?v.protocol+"//"+v.host:"null",v.href=v.toString()}f.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||a.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";o[e]=t.charAt(0)!==i?i+t:t}else o[e]=t;break;default:o[e]=t}for(var s=0;s<l.length;s++){var c=l[s];c[4]&&(o[c[1]]=o[c[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=a.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},f.extractProtocol=p,f.location=d,f.trimLeft=c,f.qs=a,e.exports=f}).call(this,n(47))},function(e,t,n){var r=n(140),a=n(145),o=n(216),i=n(224),s=n(233),c=n(234),l=o((function(e){var t=c(e);return s(t)&&(t=void 0),i(r(e,1,s,!0),a(t,2))}));e.exports=l},function(e,t,n){"use strict";var r=n(274),a=r.default,o=r.DraggableCore;e.exports=a,e.exports.default=a,e.exports.DraggableCore=o},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};h[a]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(k([])));g&&g!==t&&n.call(g,a)&&(h=g);var y=f.prototype=d.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,s){var c=l(e[a],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=y.constructor=f,f.constructor=p,p.displayName=s(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),s(y,i,"Generator"),y[a]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)},t.int=function(e){return parseInt(e,10)},t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}},function(e,t){var n,r,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},function(e,t){e.exports={L:1,M:0,Q:3,H:2}},function(e,t,n){var r=n(119);function a(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}a.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<e.getLength();o++)t[n+o]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(o)));return new a(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<e.getLength();o++)n[o]^=r.gexp(r.glog(e.get(o))+t);return new a(n,0).mod(e)}},e.exports=a},function(e,t){for(var n={glog:function(e){if(e<1)throw new Error("glog("+e+")");return n.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return n.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},r=0;r<8;r++)n.EXP_TABLE[r]=1<<r;for(r=8;r<256;r++)n.EXP_TABLE[r]=n.EXP_TABLE[r-4]^n.EXP_TABLE[r-5]^n.EXP_TABLE[r-6]^n.EXP_TABLE[r-8];for(r=0;r<255;r++)n.LOG_TABLE[n.EXP_TABLE[r]]=r;e.exports=n},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(85);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function a(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,a,i=[];for(a in"string"!=typeof t&&(t="?"),e)if(r.call(e,a)){if((n=e[a])||null!=n&&!isNaN(n)||(n=""),a=o(a),n=o(n),null===a||null===n)continue;i.push(a+"="+n)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=a(t[1]),i=a(t[2]);null===o||null===i||o in r||(r[o]=i)}return r}},function(e,t,n){var r=n(87),a=n(141);e.exports=function e(t,n,o,i,s){var c=-1,l=t.length;for(o||(o=a),s||(s=[]);++c<l;){var u=t[c];n>0&&o(u)?n>1?e(u,n-1,o,i,s):r(s,u):i||(s[s.length]=u)}return s}},function(e,t,n){var r=n(41),a=n(71),o=n(26),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},function(e,t,n){var r=n(42),a=n(33);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},function(e,t,n){var r=n(41),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(146),a=n(202),o=n(77),i=n(26),s=n(213);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(147),a=n(201),o=n(105);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(89),a=n(93);e.exports=function(e,t,n,o){var i=n.length,s=i,c=!o;if(null==e)return!s;for(e=Object(e);i--;){var l=n[i];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){var u=(l=n[i])[0],d=e[u],p=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var h=o(d,p,u,e,t,f);if(!(void 0===h?a(p,d,3,o,f):h))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(49),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(49);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(49);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(49);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},function(e,t,n){var r=n(48);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(48),a=n(72),o=n(73);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(91),a=n(159),o=n(60),i=n(92),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?p:s).test(i(e))}},function(e,t,n){var r,a=n(160),o=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(25)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(163),a=n(48),o=n(72);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},function(e,t,n){var r=n(164),a=n(165),o=n(166),i=n(167),s=n(168);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(50);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(50),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(50),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},function(e,t,n){var r=n(50);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(51);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(51);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(51);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(51);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},function(e,t,n){var r=n(89),a=n(94),o=n(178),i=n(181),s=n(197),c=n(26),l=n(98),u=n(101),d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,f,h,m){var g=c(e),y=c(t),v=g?"[object Array]":s(e),b=y?"[object Array]":s(t),w=(v="[object Arguments]"==v?d:v)==d,x=(b="[object Arguments]"==b?d:b)==d,E=v==b;if(E&&l(e)){if(!l(t))return!1;g=!0,w=!1}if(E&&!w)return m||(m=new r),g||u(e)?a(e,t,n,f,h,m):o(e,t,v,n,f,h,m);if(!(1&n)){var _=w&&p.call(e,"__wrapped__"),k=x&&p.call(t,"__wrapped__");if(_||k){var S=_?e.value():e,O=k?t.value():t;return m||(m=new r),h(S,O,n,f,m)}}return!!E&&(m||(m=new r),i(e,t,n,f,h,m))}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(41),a=n(179),o=n(90),i=n(94),s=n(180),c=n(74),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var h=1&r;if(f||(f=c),e.size!=t.size&&!h)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var g=i(f(e),f(t),r,l,d,p);return p.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t,n){var r=n(25).Uint8Array;e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t,n){var r=n(182),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,i,s){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var d=u;d--;){var p=l[d];if(!(c?p in t:a.call(t,p)))return!1}var f=s.get(e),h=s.get(t);if(f&&h)return f==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=c;++d<u;){var y=e[p=l[d]],v=t[p];if(o)var b=c?o(v,y,p,t,e,s):o(y,v,p,e,t,s);if(!(void 0===b?y===v||i(y,v,n,o,s):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},function(e,t,n){var r=n(183),a=n(184),o=n(97);e.exports=function(e){return r(e,o,a)}},function(e,t,n){var r=n(87),a=n(26);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},function(e,t,n){var r=n(185),a=n(186),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return o.call(e,t)})))}:a;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(188),a=n(71),o=n(26),i=n(98),s=n(100),c=n(101),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&a(e),d=!n&&!u&&i(e),p=!n&&!u&&!d&&c(e),f=n||u||d||p,h=f?r(e.length,String):[],m=h.length;for(var g in e)!t&&!l.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||h.push(g);return h}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(42),a=n(75),o=n(33),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(88),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s}).call(this,n(99)(e))},function(e,t,n){var r=n(194),a=n(195),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(196)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(198),a=n(72),o=n(199),i=n(103),s=n(200),c=n(42),l=n(92),u=l(r),d=l(a),p=l(o),f=l(i),h=l(s),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=m(new a)||o&&"[object Promise]"!=m(o.resolve())||i&&"[object Set]"!=m(new i)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case f:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(29)(n(25),"DataView");e.exports=r},function(e,t,n){var r=n(29)(n(25),"Promise");e.exports=r},function(e,t,n){var r=n(29)(n(25),"WeakMap");e.exports=r},function(e,t,n){var r=n(104),a=n(97);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,r(i)]}return t}},function(e,t,n){var r=n(93),a=n(203),o=n(210),i=n(76),s=n(104),c=n(105),l=n(52);e.exports=function(e,t){return i(e)&&s(t)?c(l(e),t):function(n){var i=a(n,e);return void 0===i&&i===t?o(n,e):r(t,i,3)}}},function(e,t,n){var r=n(106);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},function(e,t,n){var r=n(205),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)})),t}));e.exports=i},function(e,t,n){var r=n(206);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(73);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},function(e,t,n){var r=n(208);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(41),a=n(209),o=n(26),i=n(66),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},function(e,t,n){var r=n(211),a=n(212);e.exports=function(e,t){return null!=e&&a(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(107),a=n(71),o=n(26),i=n(100),s=n(75),c=n(52);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,d=!1;++l<u;){var p=c(t[l]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&i(p,u)&&(o(e)||a(e))}},function(e,t,n){var r=n(214),a=n(215),o=n(76),i=n(52);e.exports=function(e){return o(e)?r(i(e)):a(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(106);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(77),a=n(217),o=n(219);e.exports=function(e,t){return o(a(e,t,r),e+"")}},function(e,t,n){var r=n(218),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=a(o.length-t,0),c=Array(s);++i<s;)c[i]=o[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=o[i];return l[t]=n(c),r(e,this,l)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(220),a=n(223)(r);e.exports=a},function(e,t,n){var r=n(221),a=n(222),o=n(77),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(29),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var a=n(),o=16-(a-r);if(r=a,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(95),a=n(225),o=n(230),i=n(96),s=n(231),c=n(74);e.exports=function(e,t,n){var l=-1,u=a,d=e.length,p=!0,f=[],h=f;if(n)p=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return c(m);p=!1,u=i,h=new r}else h=t?[]:f;e:for(;++l<d;){var g=e[l],y=t?t(g):g;if(g=n||0!==g?g:0,p&&y==y){for(var v=h.length;v--;)if(h[v]===y)continue e;t&&h.push(y),f.push(g)}else u(h,y,n)||(h!==f&&h.push(y),f.push(g))}return f}},function(e,t,n){var r=n(226);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(227),a=n(228),o=n(229);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,a,n)}},function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(103),a=n(232),o=n(74),i=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=i},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(102),a=n(33);e.exports=function(e){return a(e)&&r(e)}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSelector=d,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(d(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.addEvent=function(e,t,n,r){if(!e)return;var a=c({capture:!0},r);e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.removeEvent=function(e,t,n,r){if(!e)return;var a=c({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,a.int)(n.borderTopWidth),t+=(0,a.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,a.int)(n.borderLeftWidth),t+=(0,a.int)(n.borderRightWidth)},t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,a.int)(n.paddingTop),t-=(0,a.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,a.int)(n.paddingLeft),t-=(0,a.int)(n.paddingRight)},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-r.left)/n,o=(e.clientY+t.scrollTop-r.top)/n;return{x:a,y:o}},t.createCSSTransform=function(e,t){var n=p(e,t,"px");return l({},(0,o.browserPrefixToKey)("transform",o.default),n)},t.createSVGTransform=function(e,t){return p(e,t,"")},t.getTranslation=p,t.getTouch=function(e,t){return e.targetTouches&&(0,a.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,a.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&f(e.body,"react-draggable-transparent-selection")},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&h(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}},t.addClassName=f,t.removeClassName=h;var a=n(114),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(275));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="";function d(e,t){return u||(u=(0,a.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,a.isFunction)(e[t])}))),!!(0,a.isFunction)(e[u])&&e[u](t)}function p(e,t,n){var r=e.x,a=e.y,o="translate(".concat(r).concat(n,",").concat(a).concat(n,")");if(t){var i="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(i,", ").concat(s,")")+o}return o}function f(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function h(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r,a;void 0===(a="function"==typeof(r=function(){return function(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(t,n.firstChild);for(var r,a=document.createElement("a"),o=1;o<e;o++)a.href=arguments[o],r=a.href,t.href=r;return n.removeChild(t),r}})?r.call(t,n,t,e):r)||(e.exports=a)},function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}},function(e,t,n){"use strict";var r=n(243);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var i=e.props.bounds;i="string"==typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);var s=o(e);if("string"==typeof i){var c,l=s.ownerDocument,u=l.defaultView;if(!((c="parent"===i?s.parentNode:l.querySelector(i))instanceof u.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');var d=u.getComputedStyle(s),p=u.getComputedStyle(c);i={left:-s.offsetLeft+(0,r.int)(p.paddingLeft)+(0,r.int)(d.marginLeft),top:-s.offsetTop+(0,r.int)(p.paddingTop)+(0,r.int)(d.marginTop),right:(0,a.innerWidth)(c)-(0,a.outerWidth)(s)-s.offsetLeft+(0,r.int)(p.paddingRight)-(0,r.int)(d.marginRight),bottom:(0,a.innerHeight)(c)-(0,a.outerHeight)(s)-s.offsetTop+(0,r.int)(p.paddingBottom)-(0,r.int)(d.marginBottom)}}(0,r.isNum)(i.right)&&(t=Math.min(t,i.right));(0,r.isNum)(i.bottom)&&(n=Math.min(n,i.bottom));(0,r.isNum)(i.left)&&(t=Math.max(t,i.left));(0,r.isNum)(i.top)&&(n=Math.max(n,i.top));return[t,n]},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]},t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,a.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=o(n),s=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,s,n.props.scale)},t.createCoreData=function(e,t,n){var a=e.state,i=!(0,r.isNum)(a.lastX),s=o(e);return i?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-a.lastX,deltaY:n-a.lastY,lastX:a.lastX,lastY:a.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};var r=n(114),a=n(235);function o(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){void 0}},function(e,t,n){var r=n(247),a=n(248),o=n(249),i=n(250),s=n(118);function c(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=c.prototype;l.addData=function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},l.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=a.getRSBlocks(e,this.errorCorrectLevel),n=new o,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var c=this.dataList[s];n.put(c.mode,4),n.put(c.getLength(),i.getLengthInBits(c.mode,e)),c.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=c.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},l.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},l.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=i.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},l.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var a=0;a<this.modules.length;a++)for(var o=1*a,i=0;i<this.modules[a].length;i++){var s=1*i;this.modules[a][i]&&(r.beginFill(0,100),r.moveTo(s,o),r.lineTo(s+1,o),r.lineTo(s+1,o+1),r.lineTo(s,o+1),r.endFill())}return r},l.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},l.setupPositionAdjustPattern=function(){for(var e=i.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],a=e[n];if(null==this.modules[r][a])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[r+o][a+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},l.setupTypeNumber=function(e){for(var t=i.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},l.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=i.getBCHTypeInfo(n),a=0;a<15;a++){var o=!e&&1==(r>>a&1);a<6?this.modules[a][8]=o:a<8?this.modules[a+1][8]=o:this.modules[this.moduleCount-15+a][8]=o}for(a=0;a<15;a++){o=!e&&1==(r>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=o:a<9?this.modules[8][15-a-1+1]=o:this.modules[8][15-a-1]=o}this.modules[this.moduleCount-8][8]=!e},l.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,a=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var c=0;c<2;c++)if(null==this.modules[r][s-c]){var l=!1;o<e.length&&(l=1==(e[o]>>>a&1)),i.getMask(t,r,s-c)&&(l=!l),this.modules[r][s-c]=l,-1==--a&&(o++,a=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},c.PAD0=236,c.PAD1=17,c.createData=function(e,t,n){for(var r=a.getRSBlocks(e,t),s=new o,l=0;l<n.length;l++){var u=n[l];s.put(u.mode,4),s.put(u.getLength(),i.getLengthInBits(u.mode,e)),u.write(s)}var d=0;for(l=0;l<r.length;l++)d+=r[l].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*d||(s.put(c.PAD0,8),s.getLengthInBits()>=8*d));)s.put(c.PAD1,8);return c.createBytes(s,r)},c.createBytes=function(e,t){for(var n=0,r=0,a=0,o=new Array(t.length),c=new Array(t.length),l=0;l<t.length;l++){var u=t[l].dataCount,d=t[l].totalCount-u;r=Math.max(r,u),a=Math.max(a,d),o[l]=new Array(u);for(var p=0;p<o[l].length;p++)o[l][p]=255&e.buffer[p+n];n+=u;var f=i.getErrorCorrectPolynomial(d),h=new s(o[l],f.getLength()-1).mod(f);c[l]=new Array(f.getLength()-1);for(p=0;p<c[l].length;p++){var m=p+h.getLength()-c[l].length;c[l][p]=m>=0?h.get(m):0}}var g=0;for(p=0;p<t.length;p++)g+=t[p].totalCount;var y=new Array(g),v=0;for(p=0;p<r;p++)for(l=0;l<t.length;l++)p<o[l].length&&(y[v++]=o[l][p]);for(p=0;p<a;p++)for(l=0;l<t.length;l++)p<c[l].length&&(y[v++]=c[l][p]);return y},e.exports=c},function(e,t,n){var r=n(116);function a(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}a.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=a},function(e,t,n){var r=n(117);function a(e,t){this.totalCount=e,this.dataCount=t}a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(e,t){var n=a.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=new Array,i=0;i<r;i++)for(var s=n[3*i+0],c=n[3*i+1],l=n[3*i+2],u=0;u<s;u++)o.push(new a(c,l));return o},a.getRsBlockTable=function(e,t){switch(t){case r.L:return a.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return a.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return a.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return a.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=a},function(e,t){function n(){this.buffer=new Array,this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},function(e,t,n){var r=n(116),a=n(118),o=n(119),i=0,s=1,c=2,l=3,u=4,d=5,p=6,f=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(e<<10|t)^h.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case i:return(t+n)%2==0;case s:return t%2==0;case c:return n%3==0;case l:return(t+n)%3==0;case u:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case p:return(t*n%2+t*n%3)%2==0;case f:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new a([1],0),n=0;n<e;n++)t=t.multiply(new a([1,o.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var a=0;a<t;a++){for(var o=0,i=e.isDark(r,a),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var c=-1;c<=1;c++)a+c<0||t<=a+c||0==s&&0==c||i==e.isDark(r+s,a+c)&&o++;o>5&&(n+=3+o-5)}for(r=0;r<t-1;r++)for(a=0;a<t-1;a++){var l=0;e.isDark(r,a)&&l++,e.isDark(r+1,a)&&l++,e.isDark(r,a+1)&&l++,e.isDark(r+1,a+1)&&l++,0!=l&&4!=l||(n+=3)}for(r=0;r<t;r++)for(a=0;a<t-6;a++)e.isDark(r,a)&&!e.isDark(r,a+1)&&e.isDark(r,a+2)&&e.isDark(r,a+3)&&e.isDark(r,a+4)&&!e.isDark(r,a+5)&&e.isDark(r,a+6)&&(n+=40);for(a=0;a<t;a++)for(r=0;r<t-6;r++)e.isDark(r,a)&&!e.isDark(r+1,a)&&e.isDark(r+2,a)&&e.isDark(r+3,a)&&e.isDark(r+4,a)&&!e.isDark(r+5,a)&&e.isDark(r+6,a)&&(n+=40);var u=0;for(a=0;a<t;a++)for(r=0;r<t;r++)e.isDark(r,a)&&u++;return n+=10*(Math.abs(100*u/t/t-50)/5)}};e.exports=h},function(e,t){let n=!1;t.logging=n,t.setLogging=e=>{n=e},t.log=(e,t)=>n?console.log(`[${e}] ${t}`):null},function(e,t,n){var r=n(113),a=n(272);function o(t,n,i){return a()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var a=[null];a.push.apply(a,t);var o=new(Function.bind.apply(e,a));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),c=n(86),l=[],u=[];function d(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function p(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var a=d(e[r]);a.loading?t.loading=!0:(t.loaded[r]=a.loaded,t.error=a.error),n.push(a.promise),a.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(e){t.error=e}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function f(e,t){return s.createElement((n=e)&&n.__esModule?n.default:n,t);var n}function h(e,t){var d,p;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var h=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:f,webpack:null,modules:null},t),m=null;function g(){return m||(m=e(h.loader)),m.promise}return l.push(g),"function"==typeof h.webpack&&u.push((function(){if(e=h.webpack,"object"===r(n.m)&&e().every((function(e){return void 0!==e&&void 0!==n.m[e]})))return g();var e})),p=d=function(t){function n(r){a(this,n);var i=o(this,t.call(this,r));return i.retry=function(){i.setState({error:null,loading:!0,timedOut:!1}),m=e(h.loader),i._loadModule()},g(),i.state={error:m.error,pastDelay:!1,timedOut:!1,loading:m.loading,loaded:m.loaded},i}return i(n,t),n.preload=function(){return g()},n.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},n.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(h.modules)&&h.modules.forEach((function(t){e.context.loadable.report(t)})),m.loading){"number"==typeof h.delay&&(0===h.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){e.setState({pastDelay:!0})}),h.delay)),"number"==typeof h.timeout&&(this._timeout=setTimeout((function(){e.setState({timedOut:!0})}),h.timeout));var t=function(){e._mounted&&(e.setState({error:m.error,loaded:m.loaded,loading:m.loading}),e._clearTimeouts())};m.promise.then((function(){t()})).catch((function(e){t()}))}},n.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},n.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},n.prototype.render=function(){return this.state.loading||this.state.error?s.createElement(h.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?h.render(this.state.loaded,this.props):null},n}(s.Component),d.contextTypes={loadable:c.shape({report:c.func.isRequired})},p}function m(e){return h(d,e)}m.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return h(p,e)};var g=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return s.Children.only(this.props.children)},t}(s.Component);function y(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then((function(){if(e.length)return y(e)}))}g.propTypes={report:c.func.isRequired},g.childContextTypes={loadable:c.shape({report:c.func.isRequired}).isRequired},m.Capture=g,m.preloadAll=function(){return new Promise((function(e,t){y(l).then(e,t)}))},m.preloadReady=function(){return new Promise((function(e,t){y(u).then(e,e)}))},e.exports=m},function(e,t){function n(e){var t=e.target||e.srcElement;t.__resizeRAF__&&cancelAnimationFrame(t.__resizeRAF__),t.__resizeRAF__=requestAnimationFrame((function(){var n=t.__resizeTrigger__,r=n&&n.__resizeListeners__;r&&r.forEach((function(t){t.call(n,e)}))}))}t=function(e,t){var r,a=this.document,o=a.attachEvent;if("undefined"!=typeof navigator&&(r=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!e.__resizeListeners__)if(e.__resizeListeners__=[],o)e.__resizeTrigger__=e,e.attachEvent("onresize",n);else{"static"===getComputedStyle(e).position&&(e.style.position="relative");var i=e.__resizeTrigger__=a.createElement("object");i.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),i.setAttribute("class","resize-sensor"),i.setAttribute("tabindex","-1"),i.__resizeElement__=e,i.onload=function(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",n)},i.type="text/html",r&&e.appendChild(i),i.data="about:blank",r||e.appendChild(i)}e.__resizeListeners__.push(t)};e.exports="undefined"==typeof window?t:t.bind(window),e.exports.unbind=function(e,t){var r=document.attachEvent,a=e.__resizeListeners__||[];if(t){var o=a.indexOf(t);-1!==o&&a.splice(o,1)}else a=e.__resizeListeners__=[];if(!a.length){if(r)e.detachEvent("onresize",n);else if(e.__resizeTrigger__){var i=e.__resizeTrigger__.contentDocument,s=i&&i.defaultView;s&&(s.removeEventListener("resize",n),delete s.__resizeTrigger__),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)}delete e.__resizeListeners__}}},function(e,t,n){var r,a=a||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t,n,r,a,o,i,s,c,l,u=u||(t=e.document,n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,a=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),o=e.webkitRequestFileSystem,i=e.requestFileSystem||o||e.mozRequestFileSystem,s="application/octet-stream",c=0,l=y.prototype,"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=g(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(l.abort=function(){this.readyState=this.DONE,m(this,"abort")},l.readyState=l.INIT=0,l.WRITING=1,l.DONE=2,l.error=l.onwritestart=l.onprogress=l.onwrite=l.onabort=l.onerror=l.onwriteend=null,function(e,t,n){return new y(e,t,n)})),d=function(e,t,n){t=t||"",n=n||512;for(var r=atob(e),a=[],o=0;o<r.length;o+=n){for(var i=r.slice(o,o+n),s=new Array(i.length),c=0;c<i.length;c++)s[c]=i.charCodeAt(c);var l=new Uint8Array(s);a.push(l)}return new Blob(a,{type:t})};return function(e,t,n){var r;"object"==typeof t?(name=t.name||"image",n=t.type||"png",r=t.quality||1):(name=t||"image",n=n||"png");var a,o=(a=e)instanceof Element||a instanceof HTMLDocument?e:document.getElementById(e);switch(n=n.toLowerCase()){case"jpg":!function(e,t,n){t+=".jpg";var r=e.toDataURL("image/jpeg",n);r=r.replace(/^data:image\/jpeg;base64,/,"");var a=d(r,"image/jpeg");u(a,t)}(o,name,r);break;default:!function(e,t,n){t+=".png";var r=e.toDataURL("image/png",n);r=r.replace(/^data:image\/png;base64,/,"");var a=d(r,"image/png");u(a,t)}(o,name,r)}}}function p(){return e.URL||e.webkitURL||e}function f(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)}function h(e){setTimeout((function(){"string"==typeof e?p().revokeObjectURL(e):e.remove()}),4e4)}function m(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var a=e["on"+t[r]];if("function"==typeof a)try{a.call(e,n||e)}catch(e){f(e)}}}function g(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["ï»¿",e],{type:e.type}):e}function y(t,l,u){function d(){m(x,"writestart progress write writeend".split(" "))}function f(){if(b&&a&&"undefined"!=typeof FileReader){var n=new FileReader;return n.onloadend=function(){var e=n.result;b.location.href="data:attachment/file"+e.slice(e.search(/[,;]/)),x.readyState=x.DONE,d()},n.readAsDataURL(t),void(x.readyState=x.INIT)}!_&&v||(v=p().createObjectURL(t)),b?b.location.href=v:void 0===e.open(v,"_blank")&&a&&(e.location.href=v),x.readyState=x.DONE,d(),h(v)}function y(e){return function(){if(x.readyState!==x.DONE)return e.apply(this,arguments)}}u||(t=g(t));var v,b,w,x=this,E=t.type,_=!1,k={create:!0,exclusive:!1};if(x.readyState=x.INIT,l=l||"download",r)return v=p().createObjectURL(t),void setTimeout((function(){var e,t;n.href=v,n.download=l,e=n,t=new MouseEvent("click"),e.dispatchEvent(t),d(),h(v),x.readyState=x.DONE}));e.chrome&&E&&E!==s&&(w=t.slice||t.webkitSlice,t=w.call(t,0,t.size,s),_=!0),o&&"download"!==l&&(l+=".download"),E!==s&&!o||(b=e),i?(c+=t.size,i(e.TEMPORARY,c,y((function(e){e.root.getDirectory("saved",k,y((function(e){function n(){e.getFile(l,k,y((function(e){e.createWriter(y((function(n){n.onwriteend=function(t){b.location.href=e.toURL(),x.readyState=x.DONE,m(x,"writeend",t),h(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&f()},"writestart progress write abort".split(" ").forEach((function(e){n["on"+e]=x["on"+e]})),n.write(t),x.abort=function(){n.abort(),x.readyState=x.DONE},x.readyState=x.WRITING})),f)})),f)}e.getFile(l,{create:!1},y((function(e){e.remove(),n()})),y((function(e){(e.code===e.NOT_FOUND_ERR?n:f)()})))})),f)})),f)):f()}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);e.exports?e.exports=a:null!==n(281)&&null!==n(282)&&(void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r))},function(e,t,n){(function(t,n){t.Whammy=function(){function e(e,o){for(var i,s=function(e){for(var t=e[0].width,n=e[0].height,r=e[0].duration,a=1;a<e.length;a++){if(e[a].width!=t)throw"Frame "+(a+1)+" has a different width";if(e[a].height!=n)throw"Frame "+(a+1)+" has a different height";if(e[a].duration<0||e[a].duration>32767)throw"Frame "+(a+1)+" has a weird duration (must be between 0 and 32767)";r+=e[a].duration}return{duration:r,width:t,height:n}}(e),c=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(i=s.duration,[].slice.call(new Uint8Array(new Float64Array([i]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:25541},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:s.width,id:176},{data:s.height,id:186}]}]}]}]}],l=0,u=0;l<e.length;){var d=[],p=0;do{d.push(e[l]),p+=e[l].duration,l++}while(l<e.length&&p<3e4);var f=0,h={id:524531317,data:[{data:u,id:231}].concat(d.map((function(e){var t=a({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(f)});return f+=e.duration,{data:t,id:163}})))};c[1].data.push(h),u+=p}return function e(a,o){for(var i=[],s=0;s<a.length;s++){var c=a[s].data;if("object"==typeof c&&(c=e(c,o)),"number"==typeof c&&(c=r(c.toString(2))),"string"==typeof c&&(c=n(c)),c.length);var l=c.size||c.byteLength||c.length,u=Math.ceil(Math.ceil(Math.log(l)/Math.log(2))/8),d=l.toString(2),p=new Array(7*u+7+1-d.length).join("0")+d,f=new Array(u).join("0")+"1"+p;i.push(t(a[s].id)),i.push(r(f)),i.push(c)}if(o){var h=function e(t,n){null==n&&(n=[]);for(var r=0;r<t.length;r++)"object"==typeof t[r]?e(t[r],n):n.push(t[r]);return n}(i);return new Uint8Array(h)}return new Blob(i,{type:"video/webm"})}(c,o)}function t(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function n(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function r(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function a(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame}function o(e){for(var t,n,r=e.RIFF[0].WEBP[0],a=r.indexOf("*"),o=0,i=[];o<4;o++)i[o]=r.charCodeAt(a+3+o);return t=16383&(n=i[1]<<8|i[0]),n>>14,(n=i[3]<<8|i[2])>>14,{width:t,height:16383&n,data:r,riff:e}}function i(e){for(var t=0,n={};t<e.length;){var r=e.substr(t,4),a=parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2),o=e.substr(t+4+4,a);t+=8+a,n[r]=n[r]||[],"RIFF"==r||"LIST"==r?n[r].push(i(o)):n[r].push(o)}return n}function s(e,t){this.frames=[],this.duration=1e3/e,this.quality=t||.8}return s.prototype.add=function(e,t){if(void 0!==t&&this.duration)throw"you can't pass a duration if the fps is set";if(void 0===t&&!this.duration)throw"if you don't have the fps set, you ned to have durations here.";if("canvas"in e&&(e=e.canvas),"toDataURL"in e)e=e.toDataURL("image/webp",this.quality);else if("string"!=typeof e)throw"frame must be a a HTMLCanvasElement, a CanvasRenderingContext2D or a DataURI formatted string";if(!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},s.prototype.compile=function(t){return new e(this.frames.map((function(e){var t=o(i(atob(e.image.slice(23))));return t.duration=e.duration,t})),t)},{Video:s,fromImageArray:function(t,n,r){return e(t.map((function(e){var t=o(i(atob(e.slice(23))));return t.duration=1e3/n,t})),r)},toWebM:e}}(),void 0!==n&&(e.exports=Whammy)}).call(this,n(47),n(115))},function(e,t,n){n(112);const r=n(303);e.exports={createFFmpeg:r}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(337));t.generate=a.default;var o={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"};t.presetPrimaryColors=o;var i={};t.presetPalettes=i,Object.keys(o).forEach((function(e){i[e]=a.default(o[e]),i[e].primary=i[e][5]}));var s=i.red;t.red=s;var c=i.volcano;t.volcano=c;var l=i.gold;t.gold=l;var u=i.orange;t.orange=u;var d=i.yellow;t.yellow=d;var p=i.lime;t.lime=p;var f=i.green;t.green=f;var h=i.cyan;t.cyan=h;var m=i.blue;t.blue=m;var g=i.geekblue;t.geekblue=g;var y=i.purple;t.purple=y;var v=i.magenta;t.magenta=v;var b=i.grey;t.grey=b},function(e,t){var n=[],r=[];function a(e,t){if(t=t||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var a,o=!0===t.prepend?"prepend":"append",i=void 0!==t.container?t.container:document.querySelector("head"),s=n.indexOf(i);return-1===s&&(s=n.push(i)-1,r[s]={}),void 0!==r[s]&&void 0!==r[s][o]?a=r[s][o]:(a=r[s][o]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===o?i.insertBefore(a,i.childNodes[0]):i.appendChild(a)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),a.styleSheet?a.styleSheet.cssText+=e:a.textContent+=e,a}e.exports=a,e.exports.insertCss=a},function(e,t,n){"use strict";e.exports=n(342)},function(e,t,n){var r;e.exports=(r=n(0),(()=>{var e={703:(e,t,n)=>{"use strict";var r=n(414);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},427:e=>{"use strict";e.exports=r}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{"use strict";n.r(a),n.d(a,{Component:()=>O,containCrop:()=>k,default:()=>O,makeAspectCrop:()=>x});var e=n(427),t=n.n(e),r=n(697),o=n.n(r);function i(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t,n,r;if(e.touches){var a=(r=e.touches,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),1!==o.length);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(r)||function(e,t){if(e){if("string"==typeof e)return g(e,1);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,1):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];t=a.pageX,n=a.pageY}else t=e.pageX,n=e.pageY;return{x:t,y:n}}function v(e,t,n){return Math.min(Math.max(e,t),n)}function b(e){return e&&!isNaN(e.width)&&!isNaN(e.height)}function w(e){return"n"===e?"s":"ne"===e?"sw":"e"===e?"w":"se"===e?"nw":"s"===e?"n":"sw"===e?"ne":"w"===e?"e":"nw"===e?"se":e}function x(e,t,n){if(isNaN(e.aspect))return console.warn("`crop.aspect` should be a number in order to make an aspect crop",e),e;var r=h({unit:"px",x:0,y:0},e);return e.width&&(r.height=r.width/e.aspect),e.height&&(r.width=r.height*e.aspect),r.y+r.height>n&&(r.height=n-r.y,r.width=r.height*e.aspect),r.x+r.width>t&&(r.width=t-r.x,r.height=r.width/e.aspect),r}function E(e,t,n){return"%"===e.unit?e:{unit:"%",aspect:e.aspect,x:e.x/t*100,y:e.y/n*100,width:e.width/t*100,height:e.height/n*100}}function _(e,t,n){return e.unit?"px"===e.unit?e:{unit:"px",aspect:e.aspect,x:e.x*t/100,y:e.y*n/100,width:e.width*t/100,height:e.height*n/100}:h(h({},e),{},{unit:"px"})}function k(e,t,n,r){var a=_(t,n,r),o=_(e,n,r),i=h({},a);if(!a.aspect)return a.x<0?(i.x=0,i.width+=a.x):a.x+a.width>n&&(i.width=n-a.x),a.y+a.height>r&&(i.height=r-a.y),i;var s=!1;a.x<0?(i.x=0,i.width+=a.x,i.height=i.width/a.aspect,s=!0):a.x+a.width>n&&(i.width=n-a.x,i.height=i.width/a.aspect,s=!0),s&&o.y>i.y&&(i.y=a.y+(a.height-i.height));var c=!1;return i.y+i.height>r&&(i.height=r-a.y,i.width=i.height*a.aspect,c=!0),c&&o.x>i.x&&(i.x=a.x+(a.width-i.width)),i}var S={capture:!0,passive:!1},O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var n,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(a){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(d(e=o.call.apply(o,[this].concat(n))),"window","undefined"!=typeof window?window:{}),m(d(e),"document","undefined"!=typeof document?document:{}),m(d(e),"state",{}),m(d(e),"keysDown",new Set),m(d(e),"onCropMouseTouchDown",(function(t){var n=e.props,r=n.crop,a=n.disabled,o=e.mediaDimensions,i=_(r,o.width,o.height);if(!a){t.cancelable&&t.preventDefault(),e.bindDocMove();var s=y(t);e.componentRef.setActive?e.componentRef.setActive({preventScroll:!0}):e.componentRef.focus({preventScroll:!0});var c,l=t.target.dataset.ord,u="nw"===l||"w"===l||"sw"===l,d="nw"===l||"n"===l||"ne"===l;i.aspect&&(c=e.getElementOffset(e.cropSelectRef)),e.evData={clientStartX:s.x,clientStartY:s.y,cropStartWidth:i.width,cropStartHeight:i.height,cropStartX:u?i.x+i.width:i.x,cropStartY:d?i.y+i.height:i.y,xInversed:u,yInversed:d,xCrossOver:u,yCrossOver:d,startXCrossOver:u,startYCrossOver:d,isResize:t.target.dataset.ord,ord:l,cropOffset:c},e.mouseDownOnCrop=!0,e.setState({cropIsActive:!0})}})),m(d(e),"onComponentMouseTouchDown",(function(t){var n=e.props,r=n.crop,a=n.disabled,o=n.locked,i=n.keepSelection,s=n.onChange,c=e.mediaWrapperRef.firstChild;if(t.target===c&&c.contains(t.target)&&!(a||o||i&&b(r))){t.cancelable&&t.preventDefault(),e.bindDocMove();var l=y(t);e.componentRef.setActive?e.componentRef.setActive({preventScroll:!0}):e.componentRef.focus({preventScroll:!0});var u=e.getElementOffset(e.mediaWrapperRef),d=l.x-u.left,p=l.y-u.top,f={unit:"px",aspect:r?r.aspect:void 0,x:d,y:p,width:0,height:0};e.evData={clientStartX:l.x,clientStartY:l.y,cropStartWidth:f.width,cropStartHeight:f.height,cropStartX:f.x,cropStartY:f.y,xInversed:!1,yInversed:!1,xCrossOver:!1,yCrossOver:!1,startXCrossOver:!1,startYCrossOver:!1,isResize:!0,ord:"nw"},e.mouseDownOnCrop=!0;var h=e.mediaDimensions,m=h.width,g=h.height;s(_(f,m,g),E(f,m,g)),e.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}})),m(d(e),"onDocMouseTouchMove",(function(t){var n=e.props,r=n.crop,a=n.disabled,o=n.onChange,i=n.onDragStart;if(!a&&e.mouseDownOnCrop){t.cancelable&&t.preventDefault(),e.dragStarted||(e.dragStarted=!0,i(t));var s,c=d(e).evData,l=y(t);if(c.isResize&&r.aspect&&c.cropOffset&&(l.y=e.straightenYPath(l.x)),c.xDiff=l.x-c.clientStartX,c.yDiff=l.y-c.clientStartY,(s=c.isResize?e.resizeCrop():e.dragCrop())!==r){var u=e.mediaDimensions,p=u.width,f=u.height;o(_(s,p,f),E(s,p,f))}}})),m(d(e),"onComponentKeyDown",(function(t){var n=e.props,r=n.crop,a=n.disabled,o=n.onChange,i=n.onComplete;if(!a){e.keysDown.add(t.key);var c=!1;if(b(r)){var l=e.makeNewCrop(),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?s.nudgeStepLarge:t.shiftKey?s.nudgeStepMedium:s.nudgeStep;if(e.keysDown.has("ArrowLeft")&&(l.x-=u,c=!0),e.keysDown.has("ArrowRight")&&(l.x+=u,c=!0),e.keysDown.has("ArrowUp")&&(l.y-=u,c=!0),e.keysDown.has("ArrowDown")&&(l.y+=u,c=!0),c){t.cancelable&&t.preventDefault();var d=e.mediaDimensions,p=d.width,f=d.height;l.x=v(l.x,0,p-l.width),l.y=v(l.y,0,f-l.height);var h=_(l,p,f),m=E(l,p,f);o(h,m),i(h,m)}}}})),m(d(e),"onComponentKeyUp",(function(t){e.keysDown.delete(t.key)})),m(d(e),"onDocMouseTouchEnd",(function(t){var n=e.props,r=n.crop,a=n.disabled,o=n.onComplete,i=n.onDragEnd;if(e.unbindDocMove(),!a&&e.mouseDownOnCrop){e.mouseDownOnCrop=!1,e.dragStarted=!1;var s=e.mediaDimensions,c=s.width,l=s.height;i(t),o(_(r,c,l),E(r,c,l)),e.setState({cropIsActive:!1,newCropIsBeingDrawn:!1})}})),m(d(e),"onMediaLoaded",(function(){var t=e.props,n=t.onComplete,r=t.onChange,a=e.createNewCrop(),o=a.pixelCrop,i=a.percentCrop;r(o,i),n(o,i)})),m(d(e),"onImageLoad",(function(t){var n=t.target,r=e.props,a=r.onComplete,o=r.onChange;if(!1!==(0,r.onImageLoaded)(n)){var i=e.createNewCrop(),s=i.pixelCrop,c=i.percentCrop;o(s,c),a(s,c)}})),m(d(e),"bindComponentRef",(function(t){e.componentRef=t})),m(d(e),"bindMediaWrapperRef",(function(t){e.mediaWrapperRef=t})),m(d(e),"bindImageRef",(function(t){e.imageRef=t})),m(d(e),"bindCropSelectionRef",(function(t){e.cropSelectRef=t})),e}return(n=[{key:"componentDidMount",value:function(){this.componentRef.addEventListener&&this.componentRef.addEventListener("medialoaded",this.onMediaLoaded)}},{key:"componentWillUnmount",value:function(){this.componentRef.removeEventListener&&this.componentRef.removeEventListener("medialoaded",this.onMediaLoaded)}},{key:"componentDidUpdate",value:function(e){var t=this.props.crop;if(this.imageRef&&e.crop!==t&&t.aspect&&(t.width&&!t.height||!t.width&&t.height)){var n=this.imageRef,r=n.width,a=n.height,o=x(this.makeNewCrop(),r,a),i=_(o,r,a),s=E(o,r,a);this.props.onChange(i,s),this.props.onComplete(i,s)}}},{key:"bindDocMove",value:function(){this.docMoveBound||(this.document.addEventListener("mousemove",this.onDocMouseTouchMove,S),this.document.addEventListener("touchmove",this.onDocMouseTouchMove,S),this.document.addEventListener("mouseup",this.onDocMouseTouchEnd,S),this.document.addEventListener("touchend",this.onDocMouseTouchEnd,S),this.document.addEventListener("touchcancel",this.onDocMouseTouchEnd,S),this.docMoveBound=!0)}},{key:"unbindDocMove",value:function(){this.docMoveBound&&(this.document.removeEventListener("mousemove",this.onDocMouseTouchMove,S),this.document.removeEventListener("touchmove",this.onDocMouseTouchMove,S),this.document.removeEventListener("mouseup",this.onDocMouseTouchEnd,S),this.document.removeEventListener("touchend",this.onDocMouseTouchEnd,S),this.document.removeEventListener("touchcancel",this.onDocMouseTouchEnd,S),this.docMoveBound=!1)}},{key:"createNewCrop",value:function(){var e,t,n,r=this.mediaDimensions,a=r.width,o=r.height,i=(t=a,n=o,!(e=this.makeNewCrop()).aspect||e.width&&e.height?e:x(e,t,n));return{pixelCrop:_(i,a,o),percentCrop:E(i,a,o)}}},{key:"mediaDimensions",get:function(){var e=this.mediaWrapperRef;return{width:e.clientWidth,height:e.clientHeight}}},{key:"getDocumentOffset",value:function(){var e=this.document.documentElement||{},t=e.clientTop,n=void 0===t?0:t,r=e.clientLeft;return{clientTop:n,clientLeft:void 0===r?0:r}}},{key:"getWindowOffset",value:function(){var e=this.window,t=e.pageYOffset,n=void 0===t?0:t,r=e.pageXOffset;return{pageYOffset:n,pageXOffset:void 0===r?0:r}}},{key:"getElementOffset",value:function(e){var t=e.getBoundingClientRect(),n=this.getDocumentOffset(),r=this.getWindowOffset();return{top:t.top+r.pageYOffset-n.clientTop,left:t.left+r.pageXOffset-n.clientLeft}}},{key:"getCropStyle",value:function(){var e=this.makeNewCrop(this.props.crop?this.props.crop.unit:"px");return{top:"".concat(e.y).concat(e.unit),left:"".concat(e.x).concat(e.unit),width:"".concat(e.width).concat(e.unit),height:"".concat(e.height).concat(e.unit)}}},{key:"getNewSize",value:function(){var e,t=this.props,n=t.crop,r=t.minWidth,a=t.maxWidth,o=t.minHeight,i=t.maxHeight,s=this.evData,c=this.mediaDimensions,l=c.width,u=c.height,d=s.cropStartWidth+s.xDiff;return s.xCrossOver&&(d=Math.abs(d)),d=v(d,r,a||l),e=n.aspect?d/n.aspect:s.cropStartHeight+s.yDiff,s.yCrossOver&&(e=Math.min(Math.abs(e),s.cropStartY)),e=v(e,o,i||u),n.aspect&&(d=v(e*n.aspect,0,l)),{width:d,height:e}}},{key:"dragCrop",value:function(){var e=this.makeNewCrop(),t=this.evData,n=this.mediaDimensions,r=n.width,a=n.height;return e.x=v(t.cropStartX+t.xDiff,0,r-e.width),e.y=v(t.cropStartY+t.yDiff,0,a-e.height),e}},{key:"resizeCrop",value:function(){var e=this.evData,t=this.makeNewCrop(),n=e.ord;e.xInversed&&(e.xDiff-=2*e.cropStartWidth,e.xDiffPc-=2*e.cropStartWidth),e.yInversed&&(e.yDiff-=2*e.cropStartHeight,e.yDiffPc-=2*e.cropStartHeight);var r=this.getNewSize(),a=e.cropStartX,o=e.cropStartY;e.xCrossOver&&(a=t.x+(t.width-r.width)),e.yCrossOver&&(o=!1===e.lastYCrossover?t.y-r.height:t.y+(t.height-r.height));var i=this.mediaDimensions,c=i.width,l=i.height,u=k(this.props.crop,{unit:t.unit,x:a,y:o,width:r.width,height:r.height,aspect:t.aspect},c,l);return t.aspect||s.xyOrds.indexOf(n)>-1?(t.x=u.x,t.y=u.y,t.width=u.width,t.height=u.height):s.xOrds.indexOf(n)>-1?(t.x=u.x,t.width=u.width):s.yOrds.indexOf(n)>-1&&(t.y=u.y,t.height=u.height),e.lastYCrossover=e.yCrossOver,this.crossOverCheck(),t}},{key:"straightenYPath",value:function(e){var t,n,r=this.evData,a=r.ord,o=r.cropOffset,i=r.cropStartWidth,s=r.cropStartHeight;return"nw"===a||"se"===a?(t=s/i,n=o.top-o.left*t):(t=-s/i,n=o.top+(s-o.left*t)),t*e+n}},{key:"createCropSelection",value:function(){var e=this.props,n=e.disabled,r=e.locked,a=e.renderSelectionAddon,o=e.ruleOfThirds,i=e.crop,s=this.getCropStyle();return t().createElement("div",{ref:this.bindCropSelectionRef,style:s,className:"ReactCrop__crop-selection",onMouseDown:this.onCropMouseTouchDown,onTouchStart:this.onCropMouseTouchDown},!n&&!r&&t().createElement("div",{className:"ReactCrop__drag-elements"},t().createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),t().createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),t().createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),t().createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw"}),t().createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w"})),a&&b(i)&&t().createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:function(e){return e.stopPropagation()}},a(this.state)),o&&t().createElement(t().Fragment,null,t().createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),t().createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}},{key:"makeNewCrop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"px",t=h(h({},s.defaultCrop),this.props.crop||{}),n=this.mediaDimensions,r=n.width,a=n.height;return"px"===e?_(t,r,a):E(t,r,a)}},{key:"crossOverCheck",value:function(){var e=this.evData,t=this.props,n=t.minWidth,r=t.minHeight;!n&&(!e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiff>=0||e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiff<=0)&&(e.xCrossOver=!e.xCrossOver),!r&&(!e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiff>=0||e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiff<=0)&&(e.yCrossOver=!e.yCrossOver);var a=e.xCrossOver!==e.startXCrossOver,o=e.yCrossOver!==e.startYCrossOver;e.inversedXOrd=!!a&&w(e.ord),e.inversedYOrd=!!o&&w(e.ord)}},{key:"render",value:function(){var e=this.props,n=e.children,r=e.circularCrop,a=e.className,o=e.crossorigin,s=e.crop,c=e.disabled,l=e.locked,u=e.imageAlt,d=e.onImageError,p=e.renderComponent,f=e.src,h=e.style,m=e.imageStyle,g=e.ruleOfThirds,y=this.state,v=y.cropIsActive,w=y.newCropIsBeingDrawn,x=b(s)&&this.componentRef?this.createCropSelection():null,E=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r}("ReactCrop",a,{"ReactCrop--active":v,"ReactCrop--disabled":c,"ReactCrop--locked":l,"ReactCrop--new-crop":w,"ReactCrop--fixed-aspect":s&&s.aspect,"ReactCrop--circular-crop":s&&r,"ReactCrop--rule-of-thirds":s&&g,"ReactCrop--invisible-crop":!this.dragStarted&&s&&!s.width&&!s.height});return t().createElement("div",{ref:this.bindComponentRef,className:E,style:h,onTouchStart:this.onComponentMouseTouchDown,onMouseDown:this.onComponentMouseTouchDown,tabIndex:"0",onKeyDown:this.onComponentKeyDown,onKeyUp:this.onComponentKeyUp},t().createElement("div",{ref:this.bindMediaWrapperRef},p||t().createElement("img",{ref:this.bindImageRef,crossOrigin:o,className:"ReactCrop__image",style:m,src:f,onLoad:this.onImageLoad,onError:d,alt:u})),n,x)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(s.prototype,n),s}(e.PureComponent);O.xOrds=["e","w"],O.yOrds=["n","s"],O.xyOrds=["nw","ne","se","sw"],O.nudgeStep=1,O.nudgeStepMedium=10,O.nudgeStepLarge=100,O.defaultCrop={x:0,y:0,width:0,height:0,unit:"px"},O.propTypes={className:o().string,children:o().oneOfType([o().arrayOf(o().node),o().node]),circularCrop:o().bool,crop:o().shape({aspect:o().number,x:o().number,y:o().number,width:o().number,height:o().number,unit:o().oneOf(["px","%"])}),crossorigin:o().string,disabled:o().bool,locked:o().bool,imageAlt:o().string,imageStyle:o().shape({}),keepSelection:o().bool,minWidth:o().number,minHeight:o().number,maxWidth:o().number,maxHeight:o().number,onChange:o().func.isRequired,onImageError:o().func,onComplete:o().func,onImageLoaded:o().func,onDragStart:o().func,onDragEnd:o().func,src:o().string.isRequired,style:o().shape({}),renderComponent:o().node,renderSelectionAddon:o().func,ruleOfThirds:o().bool},O.defaultProps={circularCrop:!1,className:void 0,crop:void 0,crossorigin:void 0,disabled:!1,locked:!1,imageAlt:"",maxWidth:void 0,maxHeight:void 0,minWidth:0,minHeight:0,keepSelection:!1,onComplete:function(){},onImageError:function(){},onImageLoaded:function(){},onDragStart:function(){},onDragEnd:function(){},children:void 0,style:void 0,renderComponent:void 0,imageStyle:void 0,renderSelectionAddon:void 0,ruleOfThirds:!1}})(),a})())},function(e,t,n){"use strict";n.r(t),n.d(t,"getInitData",(function(){return ie.d})),n.d(t,"Idrag",(function(){return oe}));var r={};n.r(r),n.d(r,"editor",(function(){return Rn})),n.d(r,"layout",(function(){return Ge})),n.d(r,"default",(function(){return Mn}));var a={};n.r(a),n.d(a,"functionCode",(function(){return ti})),n.d(a,"playSoundCode",(function(){return ni})),n.d(a,"self",(function(){return ri})),n.d(a,"randomID",(function(){return ai})),n.d(a,"renderUnmountCode",(function(){return oi})),n.d(a,"renderStartCode",(function(){return ii})),n.d(a,"renderBeforeCode",(function(){return si})),n.d(a,"renderAfterCode",(function(){return ci})),n.d(a,"updatePageCode",(function(){return li})),n.d(a,"getLayerDataByIdCode",(function(){return ui})),n.d(a,"getLayerDataByClassNameCode",(function(){return di})),n.d(a,"helpCode",(function(){return pi}));var o={};n.r(o),n.d(o,"Editor",(function(){return Li})),n.d(o,"icon",(function(){return Mi})),n.d(o,"params",(function(){return Ri}));var i={};n.r(i),n.d(i,"Editor",(function(){return Hi})),n.d(i,"params",(function(){return Fi})),n.d(i,"icon",(function(){return Wi}));var s={};n.r(s),n.d(s,"Editor",(function(){return Xi})),n.d(s,"params",(function(){return Vi})),n.d(s,"icon",(function(){return Ui}));var c={};n.r(c),n.d(c,"Editor",(function(){return Ki})),n.d(c,"params",(function(){return Zi})),n.d(c,"icon",(function(){return Ji}));var l={};n.r(l),n.d(l,"Editor",(function(){return ts})),n.d(l,"params",(function(){return ns})),n.d(l,"icon",(function(){return rs}));var u={};n.r(u),n.d(u,"Editor",(function(){return is})),n.d(u,"params",(function(){return ss})),n.d(u,"icon",(function(){return cs}));var d={};n.r(d),n.d(d,"Editor",(function(){return ds})),n.d(d,"params",(function(){return ps})),n.d(d,"icon",(function(){return fs}));var p={};n.r(p),n.d(p,"Editor",(function(){return gs})),n.d(p,"params",(function(){return ys})),n.d(p,"icon",(function(){return vs}));var f={};n.r(f),n.d(f,"Editor",(function(){return xs})),n.d(f,"params",(function(){return Es})),n.d(f,"icon",(function(){return _s}));var h={};n.r(h),n.d(h,"Editor",(function(){return Os})),n.d(h,"params",(function(){return Cs})),n.d(h,"icon",(function(){return Ds}));var m={};n.r(m),n.d(m,"Editor",(function(){return xl})),n.d(m,"LayerJSON",(function(){return _l.a})),n.d(m,"LayerComp",(function(){return El.LayerComp})),n.d(m,"config",(function(){return El.config}));var g={};n.r(g),n.d(g,"Editor",(function(){return Dl})),n.d(g,"LayerJSON",(function(){return vi.a})),n.d(g,"LayerComp",(function(){return Pl.LayerComp})),n.d(g,"icon",(function(){return Il})),n.d(g,"config",(function(){return Pl.config})),n.d(g,"sourceName",(function(){return Al})),n.d(g,"scripts",(function(){return Pl.scripts}));var y={};n.r(y),n.d(y,"Editor",(function(){return Bl})),n.d(y,"LayerJSON",(function(){return Fl.a})),n.d(y,"LayerComp",(function(){return Hl.LayerComp})),n.d(y,"config",(function(){return Hl.config})),n.d(y,"icon",(function(){return Gl})),n.d(y,"sourceName",(function(){return ql})),n.d(y,"Source",(function(){return Ul}));var v={};n.r(v),n.d(v,"Editor",(function(){return Zl})),n.d(v,"LayerJSON",(function(){return Ql.a})),n.d(v,"LayerComp",(function(){return Jl.LayerComp})),n.d(v,"config",(function(){return Jl.config})),n.d(v,"icon",(function(){return tu})),n.d(v,"editorConfig",(function(){return eu})),n.d(v,"sourceName",(function(){return nu}));var b={};n.r(b),n.d(b,"Editor",(function(){return Eu})),n.d(b,"LayerJSON",(function(){return Ou.a})),n.d(b,"LayerComp",(function(){return _u.LayerComp})),n.d(b,"icon",(function(){return Du})),n.d(b,"config",(function(){return _u.config})),n.d(b,"Source",(function(){return Su})),n.d(b,"sourceName",(function(){return Cu})),n.d(b,"getMaxFrame",(function(){return _u.getMaxFrame})),n.d(b,"editorConfig",(function(){return Pu}));var w={};n.r(w),n.d(w,"Editor",(function(){return Nu})),n.d(w,"LayerJSON",(function(){return Ru.a})),n.d(w,"LayerComp",(function(){return Lu.LayerComp})),n.d(w,"scripts",(function(){return Lu.scripts})),n.d(w,"config",(function(){return Lu.config})),n.d(w,"icon",(function(){return Tu}));var x={};n.r(x),n.d(x,"Editor",(function(){return $u})),n.d(x,"LayerJSON",(function(){return Xu})),n.d(x,"LayerComp",(function(){return Yu.LayerComp})),n.d(x,"scripts",(function(){return Yu.scripts})),n.d(x,"config",(function(){return Yu.config})),n.d(x,"icon",(function(){return Wu})),n.d(x,"editorConfig",(function(){return Vu}));var E={};n.r(E),n.d(E,"Editor",(function(){return ed})),n.d(E,"LayerJSON",(function(){return nd})),n.d(E,"LayerComp",(function(){return td.LayerComp})),n.d(E,"scripts",(function(){return td.scripts})),n.d(E,"config",(function(){return td.config})),n.d(E,"icon",(function(){return Qu})),n.d(E,"deleteLayerCallBack",(function(){return cd})),n.d(E,"addLayerCallBack",(function(){return ld})),n.d(E,"editorConfig",(function(){return ud}));var _={};n.r(_),n.d(_,"img",(function(){return g})),n.d(_,"text",(function(){return b})),n.d(_,"sound",(function(){return v})),n.d(_,"combin",(function(){return m})),n.d(_,"shape",(function(){return y})),n.d(_,"cssEffect",(function(){return w})),n.d(_,"zimu",(function(){return x})),n.d(_,"video",(function(){return E}));n(263),n(264),n(265),n(266),n(267);var k=n(12),S=n.n(k);n(268);function O(){var e={start:"mousedown",move:"mousemove",end:"mouseup",touch:!1,touchEvent:function(e){return e.originalEvent.targetTouches[0]}};return"ontouchend"in document&&(e.start="touchstart",e.move="touchmove",e.end="touchend",e.touch=!0),e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=O();$(document).on(P.start,"[data-drag]",(function(e){var t=$(e.currentTarget),n=JSON.parse(t.attr("data-drag"))||{};if(n.excludes)for(var r=0;r<n.excludes.length;r++)if($(e.target).closest(n.excludes[r])[0])return;var a=window.getComputedStyle(t[0],null),o=D(D({},t.offset()),{},{"background-size":a.backgroundSize,"background-repeat":a.backgroundRepeat,"background-position":a.backgroundPosition,"background-color":a.backgroundColor,padding:a.padding,"text-align":a.textAlign,width:parseFloat(a.width),height:parseFloat(a.height)}),i=t.clone();n.cloneClass&&i.addClass(n.cloneClass.join(" "));var s=i.attr("id");t.addClass("h5-drag-item"),i.addClass("h5-drag-itemclone"),s&&i.attr("id","clone_"+s);var c=D({x:e.pageX,y:e.pageY},t.offset());i.css(D(D({},o),{},{position:"absolute","z-index":9999})),$("body").append(i),t.trigger("dragstart",{target:e.target,offset:D({},c),pageX:e.pageX,pageY:e.pageY,style:o}),$(document).on(P.move,(function(e){e.stopPropagation(),P.touch&&(e=P.touchEvent(e)),i.css({left:e.pageX-c.x+c.left,top:e.pageY-c.y+c.top}),t.trigger("dragmove",{target:e.target,offset:{x:e.pageX-c.x,y:e.pageY-c.y},pageX:e.pageX,pageY:e.pageY,style:o})})),$(document).on(P.end,(function(e){e.stopPropagation(),i.remove(),t.removeClass("h5-drag-item"),t.trigger("dragend",{target:e.target,pageX:e.pageX,pageY:e.pageY,offset:{x:e.pageX-c.x,y:e.pageY-c.y},style:o}),$(document).off(P.move),$(document).off(P.end)}))}));var I=n(78),A=n.n(I);window.pubSubEditor||(window.pubSubEditor=new A.a);var j=n(2),T=(n(269),function(e){return e*Math.PI/180}),N=function(e){return Math.cos(T(e))},L=function(e){return Math.sin(T(e))},R=function(e,t,n){var r=e+t;return r>n?e=r:(t=n-e,e=n),{width:e,deltaW:t}},M=function(e,t,n){var r=e+t;return r>n?e=r:(t=n-e,e=n),{height:e,deltaH:t}},z={n:0,ne:1,e:2,se:3,s:4,sw:5,w:6,nw:7},B=["ns","nesw","ew","nwse","ns","nesw","ew","nwse"],H={0:0,1:1,2:2,3:2,4:3,5:4,6:4,7:5,8:6,9:6,10:7,11:8},F=function(e,t){var n=H[Math.floor(e/30)];return B[(z[t]+n)%8]},W=n(4),Y=n.n(W),X=n(5),V=n.n(X),U=n(58),G=new(function(){function e(){Y()(this,e)}return V()(e,[{key:"rectParam",value:function(e){if(e[0]){var t=e.transform("rotate"),n=e.width(),r=e.height(),a=parseFloat(e.css("left")),o=parseFloat(e.css("top")),i={left:a+n/2,top:o+r/2};return 0===t?{rotate:t,top:o,left:a,boxWidth:n,boxHeight:r,width:n,height:r,center:i}:this._hasRotate(t,n,r,i)}}},{key:"rectParamObj",value:function(e){var t=0,n=e.style;n.transform&&(t=U.a.getTransformVal(n.transform,"rotate"));var r=n.width||0,a=n.height||0,o=n.left||0,i=n.top||0,s={left:o+r/2,top:i+a/2};return 0==t?{rotate:t,top:i,left:o,boxWidth:r,boxHeight:a,width:r,height:a,center:s}:this._hasRotate(t,r,a,s)}},{key:"_hasRotate",value:function(e,t,n,r){var a=e%90*(Math.PI/180),o=Math.atan(n/t),i=Math.sqrt(n/2*(n/2)+t/2*(t/2)),s=i*Math.cos(Math.PI/2-(a+o))*2,c=i*Math.cos(a-o)*2;return{rotate:e,top:r.top-c/2,left:r.left-s/2,boxWidth:s,boxHeight:c,width:t,height:n,center:r}}}]),e}());function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=O();$.fn.control=function(e){var t=this,n=$(this),r=$.extend({lockWideHigh:!1,setHeight:!0,setWidth:!0,movex:!0,movey:!0,autosize:!0,fixedsize:!0,scale:1,parentRotateAngle:0,rotate:!0},e),a=$(".h5-canvas-view"),o=n.data("layerStyle"),i=$(t).data("layerLock");r.scale=a.transform("scale")||1;var s=o.transform?~~o.transform.replace(/rotate\((\d+)deg\)/g,"$1"):0,c=j.util.toFixed(1/r.scale,1),l='<div class="h5ds-control" style="width: '.concat(o.width,"px;\n  height: ").concat(o.height,"px;\n  top: ").concat(o.top,"px;\n  left: ").concat(o.left,"px;\n  transform: ").concat(o.transform,';\n  ">\n\t\t\t\t\t{{lock}}\n\t\t\t\t\t{{rotate}}\n\t\t\t\t\t{{autosize}}\n\t\t\t\t\t{{fixedsize}}\n\t\t\t\t\t<span class="h5ds-control-center"></span>\n          <span class="h5ds-control-border1" style="border: ').concat(c,'px solid #fff;"></span>\n\t\t\t\t\t<span class="h5ds-control-border2" style="border: ').concat(c,'px dashed #000;"></span>\n\t\t\t\t</div>');l=r.rotate?l.replace("{{rotate}}",'<span class="h5ds-control-rotate"  style="transform: scale('.concat(c,');"></span>')):l.replace("{{rotate}}","");var u=function(e,t){return"".concat(F(e,t),"-resize")};l=r.autosize&&!i?l.replace("{{autosize}}","".concat(r.setHeight?'<span data-cursor="n" style="display: '.concat(r.lockWideHigh?"none":"block","; cursor: ").concat(u(s,"n"),"; transform: scale(").concat(c,');" class="h5ds-control-top"></span>'):"","\n\t\t\t\t\t").concat(r.setWidth?'<span data-cursor="w" style="display: '.concat(r.lockWideHigh?"none":"block","; cursor: ").concat(u(s,"w"),"; transform: scale(").concat(c,');" class="h5ds-control-left"></span>'):"","\n\t\t\t\t\t").concat(r.setWidth?'<span data-cursor="e" style="display: '.concat(r.lockWideHigh?"none":"block","; cursor: ").concat(u(s,"e"),"; transform: scale(").concat(c,');" class="h5ds-control-right"></span>'):"","\n\t\t\t\t\t").concat(r.setHeight?'<span data-cursor="s" style="display: '.concat(r.lockWideHigh?"none":"block","; cursor: ").concat(u(s,"s"),"; transform: scale(").concat(c,');" class="h5ds-control-bottom"></span>'):"")):l.replace("{{autosize}}",""),l=r.fixedsize&&!i?l.replace("{{fixedsize}}",'<span class="h5ds-control-topleft" data-cursor="nw" style="transform: scale('.concat(c,"); cursor: ").concat(u(s,"nw"),';"></span>\n\t\t\t<span class="h5ds-control-topright" data-cursor="ne" style="transform: scale(').concat(c,"); cursor: ").concat(u(s,"ne"),';"></span>\n\t\t\t<span class="h5ds-control-bottomleft" data-cursor="sw" style="transform: scale(').concat(c,"); cursor: ").concat(u(s,"sw"),';"></span>\n\t\t\t<span class="h5ds-control-bottomright" data-cursor="se" style="transform: scale(').concat(c,"); cursor: ").concat(u(s,"se"),';"></span>')):l.replace("{{fixedsize}}",""),l=i?l.replace("{{lock}}",'<span class="h5ds-control-lock" style="transform: scale('.concat(c,');">\n      <i class="h5font ico-suoding"></i>\n    </span>')):l.replace("{{lock}}","");var d=a.find(".h5ds-control");d[0]&&(d.remove(),d=null),a.append(l),d=$(".h5-canvas-view").find(".h5ds-control");var p=function(e,a,o){var i=e.pageX,s=e.pageY,c=$(t),l={width:c[0].offsetWidth,height:c[0].offsetHeight,left:c[0].offsetLeft,top:c[0].offsetTop,offsetLeft:c.offset().left,offsetTop:c.offset().top},u=c.transform("rotate");n.trigger("controlStart",K({},l));var p=G.rectParam(c),f=["topleft","topright","bottomleft","bottomright"].includes(o)||e.shiftKey?p.width/p.height:void 0;$(document).off("".concat(Z.move,".control_resize")).on("".concat(Z.move,".control_resize"),(function(e){Z.touch&&(e=Z.touchEvent(e));var t,a,l=(e.pageX-i)/r.scale,h=(e.pageY-s)/r.scale,m=(t=l,a=h,Math.sqrt(t*t+a*a)),g=Math.atan2(h,l)-T(u+r.parentRotateAngle),y=m*Math.cos(g),v=m*Math.sin(g),b=function(e,t,n,r,a,o,i){var s=t.width,c=t.height,l=t.centerX,u=t.centerY,d=t.rotateAngle,p=s<0?-1:1,f=c<0?-1:1;switch(s=Math.abs(s),c=Math.abs(c),e){case"right":var h=R(s,n,o);s=h.width,n=h.deltaW,a?(r=n/a,c=s/a,l+=n/2*N(d)-r/2*L(d),u+=n/2*L(d)+r/2*N(d)):(l+=n/2*N(d),u+=n/2*L(d));break;case"topright":r=-r;var m=R(s,n,o);s=m.width,n=m.deltaW;var g=M(c,r,i);c=g.height,r=g.deltaH,a&&(n=r*a,s=c*a),l+=n/2*N(d)+r/2*L(d),u+=n/2*L(d)-r/2*N(d);break;case"bottomright":var y=R(s,n,o);s=y.width,n=y.deltaW;var v=M(c,r,i);c=v.height,r=v.deltaH,a&&(n=r*a,s=c*a),l+=n/2*N(d)-r/2*L(d),u+=n/2*L(d)+r/2*N(d);break;case"bottom":var b=M(c,r,i);c=b.height,r=b.deltaH,a?(s=c*a,l+=(n=r*a)/2*N(d)-r/2*L(d),u+=n/2*L(d)+r/2*N(d)):(l-=r/2*L(d),u+=r/2*N(d));break;case"bottomleft":var w=R(s,n=-n,o);s=w.width,n=w.deltaW;var x=M(c,r,i);c=x.height,r=x.deltaH,a&&(c=s/a,r=n/a),l-=n/2*N(d)+r/2*L(d),u-=n/2*L(d)-r/2*N(d);break;case"left":var E=R(s,n=-n,o);s=E.width,n=E.deltaW,a?(c=s/a,r=n/a,l-=n/2*N(d)+r/2*L(d),u-=n/2*L(d)-r/2*N(d)):(l-=n/2*N(d),u-=n/2*L(d));break;case"topleft":r=-r;var _=R(s,n=-n,o);s=_.width,n=_.deltaW;var k=M(c,r,i);c=k.height,r=k.deltaH,a&&(s=c*a,n=r*a),l-=n/2*N(d)-r/2*L(d),u-=n/2*L(d)+r/2*N(d);break;case"top":var S=M(c,r=-r,i);c=S.height,r=S.deltaH,a?(s=c*a,l+=(n=r*a)/2*N(d)+r/2*L(d),u+=n/2*L(d)-r/2*N(d)):(l+=r/2*L(d),u-=r/2*N(d))}return{position:{centerX:l,centerY:u},size:{width:s*p,height:c*f}}}(o,{width:p.width,height:p.height,centerX:p.center.left,centerY:p.center.top,rotateAngle:u},y,v,f,0,0),w=b.position,x=w.centerX,E=w.centerY,_=b.size,k=function(e){var t=e.centerX,n=e.centerY,r=e.width,a=e.height;return{top:~~(n-a/2),left:~~(t-r/2),width:~~r,height:~~a,rotateAngle:~~e.rotateAngle}}({centerX:x,centerY:E,width:_.width,height:_.height,rotateAngle:u});c.css({width:k.width,height:k.height,top:k.top,left:k.left}),d.css({width:k.width,height:k.height,top:k.top,left:k.left}),n.trigger("controlResizeTick",K({},k))})).on("".concat(Z.end,".control_resize"),(function(){$(document).off("".concat(Z.move,".control_resize ").concat(Z.end,".control_resize"));var e=c[0],t=e.offsetWidth,r=e.offsetHeight,a=e.offsetLeft,o=e.offsetTop,i={height:parseInt(r,10),width:parseInt(t,10),top:parseInt(o,10),left:parseInt(a,10)};n.trigger("controlEnd",K({},i)),n.trigger("change",K({},i))}))};function f(e,a){var o,i,s,c,l,u,f=this;(e&&(e.stopPropagation(),Z.touch?e=Z.touchEvent(e):e.preventDefault()),a)&&(f=a.target,e={target:a.target,pageX:a.event.pageX,pageY:a.event.pageY});if(!$(t).data("layerLock"))switch(r.scale=parseFloat($(".h5-canvas-view").transform("scale"))||1,e.target.className){case"h5ds-control":if($(f).attr("data-disable-move"))return;!function(e,a){e.stopPropagation&&e.stopPropagation();var o,i,s=e.pageX,c=e.pageY,l=$(t),u=r.scale,p=(l.width(),l.height(),parseInt(l.css("left"),10)*u),f=parseInt(l.css("top"),10)*u,h=$(".h5ds-js-grid");h[0]&&(o="true"===h.attr("data-adsorb"),i=parseInt(h.attr("data-size"),10)),window.pubSubEditor.publish("h5ds.control.absorb.start"),$(document).on("".concat(Z.end,".control_move"),(function(){var e={left:parseFloat(l.css("left")),top:parseFloat(l.css("top"))};$(document).off("".concat(Z.move,".control_move")),$(document).off("".concat(Z.end,".control_move")),n.trigger("change",e),window.pubSubEditor.publish("h5ds.control.absorb.end",e)})),$(document).off("".concat(Z.move,".control_move")).on("".concat(Z.move,".control_move"),(function(e){e.stopPropagation(),Z.touch&&(e=Z.touchEvent(e));var t={left:parseInt((p+(e.pageX-s))/u,10),top:parseInt((f+(e.pageY-c))/u,10)};r.movex||delete t.left,r.movey||delete t.top,o&&i?(t.left&&(t.left=Math.round(t.left/i,10)*i),t.top&&(t.top=Math.round(t.top/i,10)*i),l.css(K({},t)),d.css(K({},t))):(l.css(K({},t)),d.css(K({},t)),window.pubSubEditor.publish("h5ds.control.absorb.move"))}))}(e);break;case"h5ds-control-rotate":o=$(f).find(".h5ds-control-center"),i=$(t),s=parseInt(o.offset().left,10),c=parseInt(o.offset().top,10),l=180/Math.PI,u=null,$(document).off("".concat(Z.move,".control_rotate")).on("".concat(Z.move,".control_rotate"),(function(e){Z.touch&&(e=e.originalEvent.targetTouches[0]);var t=e.pageX-s,n=c-e.pageY;u=Math.atan(t/n),u*=l,u=parseInt(u,10),t>=0&&n>=0||(t>=0&&n<0?u=180-(u=Math.abs(u)):u+=t<0&&n>=0?360:180),[0,45,90,135,180,225,270,315,360].map((function(e){u>e-5&&u<e+5&&(u=e)}));var r=j.util.toFixed(u,1),a="".concat(r,"deg");i.transform({rotate:a}),d.transform({rotate:a}),d.find("span").each((function(){var e=$(this);e.data("cursor"),e.css({cursor:"".concat(F(r,e.data("cursor")),"-resize")})}))})).on("".concat(Z.end,".control_rotate"),(function(e){e.stopPropagation(),$(document).off("".concat(Z.move,".control_rotate ").concat(Z.end,".control_rotate")),n.trigger("change",{value:j.util.toFixed(u,1),rotate:j.util.toFixed(u,1)+"deg",transform:"rotate(".concat(j.util.toFixed(u,1),"deg)")}),u=null}));break;case"h5ds-control-top":p(e,0,"top");break;case"h5ds-control-topleft":p(e,0,"topleft");break;case"h5ds-control-topright":p(e,0,"topright");break;case"h5ds-control-bottom":p(e,0,"bottom");break;case"h5ds-control-bottomleft":p(e,0,"bottomleft");break;case"h5ds-control-bottomright":p(e,0,"bottomright");break;case"h5ds-control-left":p(e,0,"left");break;case"h5ds-control-right":p(e,0,"right")}}return this.distory=function(){d.remove(),d=null},this.update=function(){var e=$(t);d.css({width:e.width(),height:e.height(),left:1*parseInt(e.css("left"),10),top:1*parseInt(e.css("top"),10),transform:"rotate(".concat(e.transform("rotate"),"deg)")})},$(document).off("".concat(Z.start,".control")).on("".concat(Z.start,".control"),".h5ds-control",f),this.controlStartFun=f,this};var J=n(11),Q=n.n(J),ee=n(10),te=n.n(ee),ne=new(function(){function e(){Y()(this,e)}return V()(e,[{key:"getTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=te()(e,2),n=t[0],r=t[1],a=Math.sqrt(n*n+r*r),o=this.getRotate(e);return{x:parseFloat(e[4]),y:parseFloat(e[5]),translate:[parseFloat(e[4]),parseFloat(e[5])],scale:a,rotate:o}}},{key:"getRotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=te()(e,2),n=t[0],r=t[1],a=Math.round(Math.atan2(r,n)*(180/Math.PI));return a>360?a%=360:a<0&&(a+=360),a}},{key:"setRotate",value:function(e,t){e-=this.getAngle(t);var n=[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0];return this.concat(t,n)}},{key:"setScale",value:function(e,t,n){var r=[e,0,0,t=t||e,0,0];return this.concat(n,r)}},{key:"setTranslate",value:function(e,t,n){return this.concat(n,[1,0,0,1,e,t])}},{key:"getAngle",value:function(e){return Math.atan2(e[1],e[0])}},{key:"concat",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"setTransform",value:function(e,t){e=this.testjQuery(e);var n=this.convertMatrixToArray(e);if(t.rotate&&(n=this.setRotate(parseFloat(t.rotate)/180*Math.PI,n)),t.translate){var r=t.translate.replace(/\s|px/g,"").split(","),a=te()(r,2),o=a[0],i=a[1];n=this.translate(parseFloat(o),parseFloat(i),n)}return t.scale&&(n=this.translate(parseFloat(t.scale),parseFloat(t.scale),n)),this.getTransform(Q()(n))}},{key:"getTranslate",value:function(e,t){var n;e=this.testjQuery(e);var r=this.convertMatrixToArray(e),a=parseFloat(r[5]),o=parseFloat(r[4]);return"Y"===t&&(n=a),"X"===t&&(n=o),void 0===t&&(n=[o,a]),n}},{key:"getScale",value:function(e,t){var n;e=this.testjQuery(e);var r=this.convertMatrixToArray(e),a=parseFloat(r[3]),o=parseFloat(r[0]);return"Y"===t&&(n=a),"X"===t&&(n=o),void 0===t&&(n=[o,a]),n}},{key:"convertMatrixToArray",value:function(e){e=this.testjQuery(e);var t=window.getComputedStyle(e,null),n=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform")||null;return n=(n=String(n).replace("matrix(","").replace(")","").replace(" ","")).split(","),[parseFloat(n[0])||1,parseFloat(n[1])||0,parseFloat(n[2])||0,parseFloat(n[3])||1,parseFloat(n[4])||0,parseFloat(n[5])||0]}},{key:"testjQuery",value:function(e){return e instanceof jQuery&&(e=e[0]),e}},{key:"radiansToDeg",value:function(e){var t=180*e/Math.PI;return t=parseInt(t.toFixed(0),10)}}]),e}());$.fn.transform=function(e){var t=ne.convertMatrixToArray(this);if("string"==typeof e)return(ne.getTransform(t)||{})[e];var n=ne.setTransform(this,e);$(this).css({transform:"translate(".concat(n.x,"px, ").concat(n.y,"px) scale(").concat(n.scale,") rotate(").concat(n.rotate,"deg)")})};n(270);var re=n(0),ae=n.n(re);var oe=function(e){var t=e.children,n=e.onOk,r=Object(re.useRef)();!function(e,t){var n=Object(re.useRef)({x:0,y:0});Object(re.useEffect)((function(){return $(e.current).on("dragstart",(function(e,t){if(t){var r=$(t.target).offset(),a=r.top,o=r.left;n.current.x=t.pageX-o,n.current.y=t.pageY-a}})),$(e.current).on("dragend",(function(e,r){if(r){var a=$(r.target).closest("#h5LayoutCanvas");if(a[0]){var o=a.offset(),i=r.pageX-o.left,s=r.pageY-o.top,c=$(".h5-canvas-view"),l=c.position(),u=l.top,d=l.left,p=parseFloat(c.attr("data-scale")),f={x:(i-d)/p-n.current.x,y:(s-u)/p-n.current.y};t&&t(f,r)}}})),function(){$(e.current).off("dragstart dragend")}}),[])}(r,n);var a=ae.a.Children.map(t,(function(e){return ae.a.cloneElement(e,{"data-drag":t.props["data-drag"]||"{}",ref:r})}));return ae.a.createElement(ae.a.Fragment,null,a)},ie=(n(271),n(15)),se=n(6),ce=n.n(se),le=n(14),ue=n.n(le),de=n(252),pe=n.n(de),fe=n(17),he=n.n(fe),me=n(16),ge=n.n(me),ye=(n(241),n(9));n(253);function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function be(e){return"/"===e.charAt(0)}function we(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}var xe=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],o=e&&be(e),i=t&&be(t),s=o||i;if(e&&be(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var l=0,u=a.length;u>=0;u--){var d=a[u];"."===d?we(a,u):".."===d?(we(a,u),l++):l&&(we(a,u),l--)}if(!s)for(;l--;l)a.unshift("..");!s||""===a[0]||a[0]&&be(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};var Ee=function(e,t){if(!e)throw new Error("Invariant failed")};function _e(e){return"/"===e.charAt(0)?e:"/"+e}function ke(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Se(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Oe(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function Ce(e,t,n,r){var a;"string"==typeof e?(a=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(a=ve({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=xe(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function De(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Pe=!("undefined"==typeof window||!window.document||!window.document.createElement);function Ie(e,t){t(window.confirm(e))}function Ae(){try{return window.history.state||{}}catch(e){return{}}}!function(e){void 0===e&&(e={}),Pe||Ee(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,a=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,i=o.forceRefresh,s=void 0!==i&&i,c=o.getUserConfirmation,l=void 0===c?Ie:c,u=o.keyLength,d=void 0===u?6:u,p=e.basename?Se(_e(e.basename)):"";function f(e){var t=e||{},n=t.key,r=t.state,a=window.location,o=a.pathname+a.search+a.hash;return p&&(o=ke(o,p)),Ce(o,r,n)}function h(){return Math.random().toString(36).substr(2,d)}var m=De();function g(e){ve(D,e),D.length=n.length,m.notifyListeners(D.location,D.action)}function y(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(f(e.state))}function v(){w(f(Ae()))}var b=!1;function w(e){if(b)b=!1,g();else{m.confirmTransitionTo(e,"POP",l,(function(t){t?g({action:"POP",location:e}):function(e){var t=D.location,n=E.indexOf(t.key);-1===n&&(n=0);var r=E.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(b=!0,k(a))}(e)}))}}var x=f(Ae()),E=[x.key];function _(e){return p+Oe(e)}function k(e){n.go(e)}var S=0;function O(e){1===(S+=e)&&1===e?(window.addEventListener("popstate",y),a&&window.addEventListener("hashchange",v)):0===S&&(window.removeEventListener("popstate",y),a&&window.removeEventListener("hashchange",v))}var C=!1,D={length:n.length,action:"POP",location:x,createHref:_,push:function(e,t){var a=Ce(e,t,h(),D.location);m.confirmTransitionTo(a,"PUSH",l,(function(e){if(e){var t=_(a),o=a.key,i=a.state;if(r)if(n.pushState({key:o,state:i},null,t),s)window.location.href=t;else{var c=E.indexOf(D.location.key),l=E.slice(0,c+1);l.push(a.key),E=l,g({action:"PUSH",location:a})}else window.location.href=t}}))},replace:function(e,t){var a=Ce(e,t,h(),D.location);m.confirmTransitionTo(a,"REPLACE",l,(function(e){if(e){var t=_(a),o=a.key,i=a.state;if(r)if(n.replaceState({key:o,state:i},null,t),s)window.location.replace(t);else{var c=E.indexOf(D.location.key);-1!==c&&(E[c]=a.key),g({action:"REPLACE",location:a})}else window.location.replace(t)}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return C||(O(1),C=!0),function(){return C&&(C=!1,O(-1)),t()}},listen:function(e){var t=m.appendListener(e);return O(1),function(){O(-1),t()}}}}({basename:ie.b.basename});var je,Te,Ne,Le,Re,Me,ze,Be,He,Fe=function(){function e(t){Y()(this,e),this.SECRET_KEY="AXD7Nl*&xkkEQ^&0",this._storage=t}return V()(e,[{key:"randomID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}},{key:"get",value:function(e){return function(e){try{return JSON.parse(e)}catch(e){return null}}(this._storage.getItem(e))}},{key:"set",value:function(e,t){var n=JSON.stringify(t);this._storage.setItem(e,n)}},{key:"remove",value:function(e){this._storage.removeItem(e)}},{key:"clear",value:function(){this._storage.clear()}}]),e}(),We=function(){function e(){Y()(this,e),this.$dataMap=new Map}return V()(e,[{key:"get",value:function(e){this.$dataMap.get(e)}},{key:"set",value:function(e,t){this.$dataMap.set(e,t)}},{key:"remove",value:function(e){this.$dataMap.delete(e)}}]),e}(),$e=function(){function e(){Y()(this,e)}return V()(e,[{key:"get",value:function(e){}},{key:"set",value:function(e,t){}},{key:"remove",value:function(e){}}]),e}(),Ye={local:new Fe(localStorage),session:new Fe(sessionStorage),memory:new We,cookie:new $e},Xe=n(28),Ve=n(1),Ue=Ye.local.get("H5DS_WEB_THEME")||"default",Ge=new(je=function(){function e(){Y()(this,e),he()(this,"timelineHeight",Te,this),he()(this,"theme",Ne,this),this.headerHeight=60,this.excludeViewWidth=720,he()(this,"showTemplates",Le,this),he()(this,"setShowTemplates",Re,this),he()(this,"keys",Me,this),he()(this,"getTheme",ze,this),he()(this,"setTheme",Be,this),he()(this,"updateComponent",He,this)}return V()(e,[{key:"setThemeHref",value:function(e){"dark"===e?($("body").attr("class","theme-dark"),$("#h5dsTheme").attr("href","https://cdn.h5ds.com/lib/antd/".concat(ie.a,"/antd.dark.min.css"))):($("body").attr("class","theme-default"),$("#h5dsTheme").attr("href","https://cdn.h5ds.com/lib/antd/".concat(ie.a,"/antd.min.css")))}}]),e}(),Te=ge()(je.prototype,"timelineHeight",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 140}}),Ne=ge()(je.prototype,"theme",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ue}}),Le=ge()(je.prototype,"showTemplates",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Re=ge()(je.prototype,"setShowTemplates",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.showTemplates=!e.showTemplates}}}),Me=ge()(je.prototype,"keys",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{pageList:0,footer:0,timeline:0,setting:0,script:0}}}),ze=ge()(je.prototype,"getTheme",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.theme||Ye.local.get("H5DS_WEB_THEME")||"default"}}}),ge()(je.prototype,"setThemeHref",[ye.action],Object.getOwnPropertyDescriptor(je.prototype,"setThemeHref"),je.prototype),Be=ge()(je.prototype,"setTheme",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t||(t=Ye.local.get("H5DS_WEB_THEME")),e.theme=t,e.setThemeHref(t)}}}),He=ge()(je.prototype,"updateComponent",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Object(ye.transaction)((function(){for(var t=0;t<n.length;t++)e.keys[n[t]]=j.util.randomID()}))}}}),je);function qe(e,t){var n=t();n.each((function(){var e=$(".h5ds-control");e[0]&&e.remove()}));var r=parseFloat($(".h5-canvas-view").transform("scale"))||1,a='<div class="h5ds-control">\n    '.concat(1===e.length?'<span class="h5ds-control-rotate"></span>\n        <span class="h5ds-control-border1" style="border: '.concat(1/r,'px solid #fff;"></span>\n\t\t\t\t<span class="h5ds-control-border2" style="border: ').concat(1/r,'px dashed #000;"></span>\n        <span class="h5ds-control-top"></span>\n        <span class="h5ds-control-left"></span>\n        <span class="h5ds-control-right"></span>\n        <span class="h5ds-control-bottom"></span>\n        <span class="h5ds-control-topleft"></span>\n        <span class="h5ds-control-topright"></span>\n        <span class="h5ds-control-bottomleft"></span>\n        <span class="h5ds-control-bottomright"></span>\n        <span class="h5ds-control-center"></span>'):"","\n  </div>");n.each((function(){var t=$(this);e.includes(t.data("keyid"))&&(t.find(".h5ds-control")[0]||t.append(a))})),window.pubSubEditor.publish("h5ds.initControl")}function Ke(e,t){$(".h5-canvas").off("mousedown.h5ds.layerGroup").on("mousedown.h5ds.layerGroup",(function(n){if(!$(n.target).closest(".layer")[0]&&!$(n.target).closest(".h5ds-control")[0]&&!($(n.target).closest(".h5ds-ruler")[0]||$(n.target).closest(".h5ds-ruler-line")[0]||$(n.target).closest(".fps-navigator")[0]||$(n.target).closest(".h5-set-container-size")[0])){var r=Q()(e.selectMultipleLayerKeyIdsArray);if(!(r.length>0)){var a=$(".h5-canvas-view").data("scale")||1,o='<div class="h5ds-control">\n        <span class="h5ds-control-border1" style="border: '.concat(1/a,'px solid #fff;"></span>\n\t\t\t\t<span class="h5ds-control-border2" style="border: ').concat(1/a,'px dashed #000;"></span>\n      </div>'),i=[];e.getLayersDOM().each((function(){var e=$(this),t={left:e.offset().left,top:e.offset().top,width:e.width()*a,height:e.height()*a,dom:e};t.center={x:t.left+t.width/2,y:t.top+t.height/2},e.hasClass("layer-temporary-lock")||e.closest(".layer-combinbox")[0]||i.push(t)})),$(".layer-group-select")[0]||$(".h5-layout").append('<div class="layer-group-select"></div>');var s,c,l,u,d=$(".layer-group-select");$(document).on("mousemove.h5ds.layerGroup",(function(e){s=Math.abs(e.pageX-n.pageX),c=Math.abs(e.pageY-n.pageY),u=e.pageX>n.pageX?n.pageX:e.pageX,l=e.pageY>n.pageY?n.pageY:e.pageY,d.css({top:l,left:u,width:s,height:c,display:s+c===0?"none":"block"}),i.forEach((function(e){var t=e.center,n=t.x,r=t.y;n>u&&n<u+s&&r>l&&r<l+c?e.dom.find(".h5ds-control")[0]||e.dom.append(o):e.dom.find(".h5ds-control").remove()}))})).on("mouseup.h5ds.layerGroup",(function(){var n=e.getPageDOM().find(".h5ds-control");0!==n.length&&t(function(e){var t=[];return e.each((function(){var e=$(this).closest(".layer");t.push(e.data("keyid"))})),t}(n)),i=null,$(document).off("mousemove.h5ds.layerGroup"),$(document).off("mouseup.h5ds.layerGroup"),d.remove()}))}}}))}var Ze=n(44),Je=n(18),Qe=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n=t(e).toLowerCase();return(r="application/font-woff",{woff:r,woff2:r,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[n]||"";var r},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):function(e){return new Promise((function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),r=n.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=n.charCodeAt(o);t(new Blob([a],{type:"image/png"}))}))}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var a=n.createElement("a");return n.body.appendChild(a),r.href=t,a.href=e,a.href},getAndEncode:function(e){ot.impl.options.cacheBust?e+=/\?/.test(e)?"&":"?"+(new Date).getTime():e+=/\?/.test(e)?"&":"?dom-to-image";if(rt[e])return Promise.resolve(rt[e]);return new Promise((function(t){var n,r=new XMLHttpRequest;if(r.onreadystatechange=function(){return o.apply(this,arguments)},r.ontimeout=function(){n?t(n):i("timeout of 30000ms occured while fetching resource: "+e)},r.responseType="blob",r.timeout=3e4,r.open("GET",e,!0),r.send(),ot.impl.options.imagePlaceholder){var a=ot.impl.options.imagePlaceholder.split(/,/);a&&a[1]&&(n=a[1])}function o(){return(o=ue()(ce.a.mark((function a(){var o;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(4===r.readyState){a.next=2;break}return a.abrupt("return");case 2:if(200===r.status){a.next=5;break}return n?t(n):i("cannot fetch resource: "+e+", status: "+r.status),a.abrupt("return");case 5:return a.next=7,Qe.fileCtx(r.response,e);case 7:o=a.sent,t(o);case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function i(e){console.error(e),t("")}}))},uid:(e=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++}),delay:function(e){return function(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},asArray:function(e){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise((function(t,n){var r=new Image;r.setAttribute("crossOrigin","anonymous"),r.onload=function(){t(r)},r.onerror=n,r.src=e}))},width:function(e){var t=n(e,"border-left-width"),r=n(e,"border-right-width");return e.scrollWidth+t+r},height:function(e){var t=n(e,"border-top-width"),r=n(e,"border-bottom-width");return e.scrollHeight+t+r},fileCtx:function(e,t){if(rt[t])return Promise.resolve(rt[t]);return new Promise((function(n){var r=new FileReader;r.onloadend=function(){var e=r.result.split(/,/)[1];rt[t]=e,n(e)},r.readAsDataURL(e)}))}};var e;function t(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function n(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}}(),et=function(){var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,t,n){return a.apply(this,arguments)},shouldProcess:t,impl:{readUrls:n,inline:r}};function t(t){return-1!==t.search(e)}function n(t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n[1]);return r.filter((function(e){return!Qe.isDataUrl(e)}))}function r(e,t,n,r){return Promise.resolve(t).then((function(e){return n?Qe.resolveUrl(e,n):e})).then(r||Qe.getAndEncode).then((function(e){return Qe.dataAsUrl(e,Qe.mimeType(t))})).then((function(n){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+Qe.escape(e)+")(['\"]?\\))","g")}(t),"$1"+n+"$3")}))}function a(){return(a=ue()(ce.a.mark((function e(a,o,i){var s,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(){return!t(a)}()){e.next=3;break}return e.abrupt("return",Promise.resolve(a));case 3:if(-1===(s=a.split(" ")[0]).indexOf("url(")){e.next=20;break}if(-1===(s=s.replace(/"|'|url|\(|\)/g,"")).indexOf("data:image")){e.next=10;break}a=s,e.next=20;break;case 10:if(!rt[s+"?dom-to-image"]){e.next=15;break}c=rt[s+"?dom-to-image"],a=a.replace(s,c),e.next=20;break;case 15:return e.next=17,ut(s+"?dom-to-image");case 17:c=e.sent,rt[s+"?dom-to-image"]=c,a=a.replace(s,c);case 20:return e.abrupt("return",Promise.resolve(a).then(n).then((function(e){var t=Promise.resolve(a);return e.forEach((function(e){t=t.then((function(t){return r(t,e,o,i)}))})),t})));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}(),tt=function(){return{resolveAll:function(){return e(document).then((function(e){return Promise.all(e.map((function(e){return e.resolve()})))})).then((function(e){return e.join("")}))},impl:{readAll:e}};function e(){return Promise.resolve(Qe.asArray(document.styleSheets)).then((function(e){var t=[];return e.forEach((function(e){if(e.href&&["//at.alicdn.com/","antd.min.css","h5ds-ui","jquery.contextMenu.min.css","/editor/style.css"].find((function(t){return-1!==e.href.indexOf(t)})))return t;try{Qe.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(t){e.href,t.toString()}})),t})).then((function(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return et.shouldProcess(e.style.getPropertyValue("src"))}))})).then((function(t){var n={};return t.map(e).filter((function(e){return-1===e.url.indexOf("//at.alicdn.com/t/font_")&&(-1===e.url.indexOf("SourceHanSansCN-Normal.otf")&&(n[e.url]?void 0:(n[e.url]=!0,!0)))}))}));function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return et.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")},url:e.style.getPropertyValue("src")}}}}(),nt=function(){return{inlineAll:t,impl:{newImage:e}};function e(e){return{inline:function(t){return Qe.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||Qe.getAndEncode).then((function(t){return Qe.dataAsUrl(t,Qe.mimeType(e.src))})).then((function(t){return new Promise((function(n,r){e.onload=n,e.onerror=r,e.src=t}))}))}}}function t(e){return n.apply(this,arguments)}function n(){return(n=ue()(ce.a.mark((function n(r){var a,o;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=function(e){var t=e.style.getPropertyValue("background");return t?et.inlineAll(t).then((function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))})).then((function(){return e})):Promise.resolve(e)},r instanceof Element){n.next=3;break}return n.abrupt("return",Promise.resolve(r));case 3:if(!(r instanceof SVGImageElement)){n.next=9;break}return n.next=6,ut(r.href.baseVal+"?dom-to-image");case 6:return a=n.sent,r.setAttribute("href",a),n.abrupt("return",Promise.resolve(r));case 9:return n.abrupt("return",o(r).then(ue()(ce.a.mark((function n(){var a,o,i,s;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r instanceof HTMLImageElement)){n.next=4;break}return n.abrupt("return",e(r).inline());case 4:a=[],o=0;case 6:if(!(o<Qe.asArray(r.childNodes).length)){n.next=15;break}return i=Qe.asArray(r.childNodes)[o],n.next=10,t(i);case 10:s=n.sent,a.push(s);case 12:o++,n.next=6;break;case 15:return n.abrupt("return",a);case 16:case"end":return n.stop()}}),n)})))));case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}(),rt={},at={imagePlaceholder:void 0,cacheBust:!1},ot={toSvg:it,toPng:function(e,t){return st(e,t||{}).then((function(e){return e.toDataURL()}))},toJpeg:function(e,t){return st(e,t=t||{}).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))},toBlob:function(e,t){return st(e,t||{}).then(Qe.canvasToBlob)},toPixelData:function(e,t){return st(e,t||{}).then((function(t){return t.getContext("2d").getImageData(0,0,Qe.width(e),Qe.height(e)).data}))},clearCache:function(){rt={}},impl:{fontFaces:tt,images:nt,util:Qe,inliner:et,options:{}}};function it(e,t){return function(e){void 0===e.imagePlaceholder?ot.impl.options.imagePlaceholder=at.imagePlaceholder:ot.impl.options.imagePlaceholder=e.imagePlaceholder;void 0===e.cacheBust?ot.impl.options.cacheBust=at.cacheBust:ot.impl.options.cacheBust=e.cacheBust}(t=t||{}),Promise.resolve(e).then((function(e){return function e(t,n,r){return r||!n||n(t)?Promise.resolve(t).then((function(e){if(e instanceof HTMLCanvasElement)return Qe.makeImage(e.toDataURL());return e.cloneNode(!1)})).then((function(e){return a(t,e,n)})).then((function(e){return function(e,t){return t instanceof Element?Promise.resolve().then(n).then(r).then(a).then(o).then((function(){return t})):t;function n(){var n,r;n=window.getComputedStyle(e),r=t.style,n.cssText?r.cssText=n.cssText:function(e,t){Qe.asArray(e).forEach((function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))}))}(n,r)}function r(){[":before",":after"].forEach((function(n){!function(n){var r=window.getComputedStyle(e,n),a=r.getPropertyValue("content");if(""===a||"none"===a)return;var o=Qe.uid();t.className=t.className+" "+o;var i=document.createElement("style");i.appendChild(function(e,t,n){var r="."+e+":"+t,a=n.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(n):function(e){return Qe.asArray(e).map((function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")})).join("; ")+";"}(n);return document.createTextNode(r+"{"+a+"}")}(o,n,r)),t.appendChild(i)}(n)}))}function a(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function o(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach((function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)})))}}(t,e)})):Promise.resolve();function a(t,n,r){var a=t.childNodes;return 0===a.length?Promise.resolve(n):o(n,Qe.asArray(a),r).then((function(){return n}));function o(t,n,r){var a=Promise.resolve();return n.forEach((function(n){a=a.then((function(){return e(n,r)})).then((function(e){e&&t.appendChild(e)}))})),a}}}(e,t.filter,!0)})).then(ct).then(lt).then((function(e){t.bgcolor&&(e.style.backgroundColor=t.bgcolor);t.width&&(e.style.width=t.width+"px");t.height&&(e.style.height=t.height+"px");t.style&&Object.keys(t.style).forEach((function(n){e.style[n]=t.style[n]}));return e})).then((function(n){return function(e,t,n){return Promise.resolve(e).then((function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)})).then(Qe.escapeXhtml).then((function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"})).then((function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+n+'">'+e+"</svg>"})).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}))}(n,t.width||Qe.width(e),t.height||Qe.height(e))}))}function st(e,t){return it(e,t).then(Qe.makeImage).then(Qe.delay(100)).then((function(n){var r=$("<div></div>");r.append($(n)),r.html();var a=function(e){var n=document.createElement("canvas");if(n.width=t.width||Qe.width(e),n.height=t.height||Qe.height(e),t.bgcolor){var r=n.getContext("2d");r.fillStyle=t.bgcolor,r.fillRect(0,0,n.width,n.height)}return n}(e);return a.getContext("2d").drawImage(n,0,0),a}))}function ct(e){return tt.resolveAll().then((function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e}))}function lt(e){return nt.inlineAll(e).then((function(){return e}))}function ut(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var e=r.naturalWidth,n=r.naturalHeight,a=$('<canvas width="'+e+'" height="'+n+'"></canvas>')[0];a.getContext("2d").drawImage(r,0,0,e,n,0,0,e,n),t(a.toDataURL())},r.onerror=function(n){console.error("图片转base64失败！"),t(e)},r.src=e}))}window.domtoimage=ot;var dt,pt,ft,ht,mt,gt,yt,vt,bt,wt,xt,Et,_t,kt,St,Ot,Ct,Dt,Pt,It,At,jt,Tt,Nt,Lt,Rt,Mt,zt,Bt,Ht,Ft,Wt,$t,Yt,Xt,Vt,Ut,Gt,qt,Kt,Zt,Jt,Qt,en,tn,nn,rn,an,on,sn,cn,ln,un,dn,pn,fn,hn,mn,gn,yn,vn,bn,wn,xn,En,_n,kn,Sn,On,Cn,Dn,Pn,In,An,jn,Tn=ot;function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rn=new(dt=function(){function e(){var t=this;Y()(this,e),this.appData=null,this.selectEventTempValue=null,he()(this,"selectZimuKeyid",pt,this),this.selectFrameIndex=0,this.copyLayersData=null,this.copyAnimateData=null,this.plugins={},this.options={},this.layerData=null,this.historyCache=[],this.historyIndex=0,this.getOrientation=function(){return t.appData.orientation||"portrait"},this.$control=null,this.control=null,this.controlChange=function(e){t.$control||(t.$control=$(".h5-canvas-view").children(".h5ds-control")),t.$control.css(Ln({},e))},he()(this,"setOrientation",ft,this),he()(this,"ruleLine",ht,this),he()(this,"drawPathAnimate",mt,this),he()(this,"designScale",gt,this),he()(this,"fullLoading",yt,this),he()(this,"setFullLoading",vt,this),he()(this,"updateHistoryList",bt,this),he()(this,"gridOption",wt,this),he()(this,"forceUpdateSetting",xt,this),he()(this,"showAnimateItemId",Et,this),he()(this,"showEventItemId",_t,this),he()(this,"insertPageIndex",kt,this),he()(this,"selectMultipleLayerKeyIdsArray",St,this),he()(this,"scale",Ot,this),he()(this,"reRenderView",Ct,this),he()(this,"playAnimateKey",Dt,this),he()(this,"popupIndex",Pt,this),he()(this,"pageIndex",It,this),he()(this,"fixedIndex",At,this),he()(this,"pageTab",jt,this),he()(this,"settingType",Tt,this),he()(this,"containerPosition",Nt,this),he()(this,"showPanelName",Lt,this),he()(this,"showModalName",Rt,this),he()(this,"showModal",Mt,this),this.setControl=function(e){e&&(t.selectMultipleLayerKeyIdsArray=[e]),t.selectMultipleLayerKeyIdsArray.length>0&&qe(Q()(t.selectMultipleLayerKeyIdsArray),t.getLayersDOM)},he()(this,"showPanel",zt,this),he()(this,"getAppData",Bt,this),he()(this,"changeTabPane",Ht,this),he()(this,"destroyControl",Ft,this),he()(this,"forceUpdateSet",Wt,this),he()(this,"setSettingType",$t,this),he()(this,"cancelSelectPageIndex",Yt,this),he()(this,"getSelectPageIndex",Xt,this),he()(this,"setPageIndex",Vt,this),he()(this,"getPageData",Ut,this),he()(this,"getPopupData",Gt,this),he()(this,"getFixedData",qt,this),he()(this,"resetSelectPageKeyid",Kt,this),he()(this,"getSelectPageData",Zt,this),he()(this,"savePage2Image",Jt,this),this.resetLayerDataKeyid=function(e){e.keyid=j.util.randomID(),e.eventId=j.util.randomID(),e.animate.forEach((function(e){e.keyid=j.util.randomID()}))},this.sortLayers=function(e,t,n){var r=e[t];e.splice(t,1),e.splice(n,0,r)},this.sortAnimate=function(e,t,n){var r=e[t];e.splice(t,1),e.splice(n,0,r),U.a.resetAnimate(e)},this.sortPages=function(e,n){var r=t.appData.pages[e];t.appData.pages.splice(e,1),t.appData.pages.splice(n,0,r)},he()(this,"getLayersDOM",Qt,this),he()(this,"getLayerDOM",en,this),he()(this,"getPageDOM",tn,this),this.getNullPage=function(){return{id:null,className:null,keyid:j.util.randomID(),name:"未命名",desc:"页面描述",style:{height:ie.b.appHeight,width:ie.b.appWidth},layers:[],animate:[],slider:{autoplay:!1,lock:!1,time:5}}},he()(this,"zoomOutCanvas",nn,this),he()(this,"zoomInCanvas",rn,this),he()(this,"autoScale",an,this),this.setWindowSize=function(e,n){var r=t.getSelectPageData();t.setContainerPosition((e-r.style.width)/2,(n-r.style.height)/2),t.autoScale(),window.pubSubEditor.publish("h5ds.destoryControl")},he()(this,"updateCanvas",on,this),he()(this,"asyncUpdateCanvas",sn,this),he()(this,"playAnimate",cn,this),he()(this,"pauseAnimate",ln,this),he()(this,"cancelSelectLayer",un,this),he()(this,"exChangeLayer",dn,this),he()(this,"updateLayout",pn,this),he()(this,"getSelectLayersData",fn,this),he()(this,"getSelectLayerIndex",hn,this),this.triggerDeleteLayerCallBackInLayers=function(){var e=ue()(ce.a.mark((function e(n){var r,a,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=17;break}r=0;case 2:if(!(r<n.length)){e.next=17;break}if("h5ds_combin"!==(a=n[r]).pid){e.next=9;break}return e.next=7,t.triggerDeleteLayerCallBackInLayers(a.data);case 7:e.next=14;break;case 9:if(!a||!a.pid){e.next=14;break}if(!(o=t.plugins.pluginsKey[a.pid].deleteLayerCallBack)){e.next=14;break}return e.next=14,o(a);case 14:r++,e.next=2;break;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.triggerAddLayerBeforeInLayers=function(){var e=ue()(ce.a.mark((function e(n){var r,a,o,i,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n&&n.length>0)){e.next=27;break}r=0;case 2:if(!(r<n.length)){e.next=24;break}if("h5ds_combin"!==(a=n[r]).pid){e.next=13;break}return e.next=7,t.triggerAddLayerBeforeInLayers(a.data);case 7:if(o=e.sent){e.next=11;break}return console.error("添加错误",o),e.abrupt("return",!1);case 11:e.next=21;break;case 13:if(!(i=t.plugins.pluginsKey[a.pid].addLayerBefore)){e.next=21;break}return e.next=17,i.bind(t)(a);case 17:if(s=e.sent){e.next=21;break}return console.error("添加错误",s),e.abrupt("return",!1);case 21:r++,e.next=2;break;case 24:case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.triggerAddLayerCallBackInLayers=function(){var e=ue()(ce.a.mark((function e(n){var r,a,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=16;break}r=0;case 2:if(!(r<n.length)){e.next=16;break}if("h5ds_combin"!==(a=n[r]).pid){e.next=8;break}t.triggerAddLayerCallBackInLayers(a.data),e.next=13;break;case 8:if(!a||!a.pid){e.next=13;break}if(!(o=t.plugins.pluginsKey[a.pid].addLayerCallBack)){e.next=13;break}return e.next=13,o(a);case 13:r++,e.next=2;break;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.totalPidCount=function(e){var t={};return e.forEach((function(e){!function e(n){n.forEach((function(n){t[n.pid]?t[n.pid]++:t[n.pid]=1,"h5ds_combin"===n.pid&&e(n.data)}))}(e.layers)})),t},he()(this,"deleteLayer",mn,this),he()(this,"copyLayer",gn,this),he()(this,"copyPage",yn,this),he()(this,"getLayerDataByPids",vn,this),he()(this,"deletePage",bn,this),he()(this,"getLayerData",wn,this),this.getLayerPlugin=function(e){return window.H5DS_GLOBAL.plugins[e]},he()(this,"insertLayer",xn,this),he()(this,"addLayer",En,this),this.getSoundDuration=function(e){return new Promise((function(t,n){var r=new Ze.Howl({src:[e],autoplay:!1,loop:!1,volume:1,onload:function(){r._duration,t(r._duration)},onloaderror:function(e){n(e)}})}))},this.addLayerByPid=function(){var e=ue()(ce.a.mark((function e(n,r){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getNewLayerDataByPid(n),!r){e.next=4;break}return e.next=4,r(a,t);case 4:t.addLayer(a),t.setHistory();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he()(this,"combinLayers",_n,this),he()(this,"addLayers",kn,this),he()(this,"uncombinLayers",Sn,this),he()(this,"replayPage",On,this),he()(this,"addPage",Cn,this),he()(this,"destroy",Dn,this),he()(this,"setHistory",Pn,this),he()(this,"setHistoryDebounce",In,this),he()(this,"undo",An,this),he()(this,"redo",jn,this)}return V()(e,[{key:"setViewScale",value:function(e,t){this.scale=e,t&&t()}},{key:"setContainerPosition",value:function(e,t){this.containerPosition={left:e,top:t}}},{key:"setContainerToCenter",value:function(){var e=$(".h5-canvas"),t=e.width(),n=e.height(),r=this.getSelectPageData();r&&this.setContainerPosition((t-r.style.width)/2,(n-r.style.height)/2)}},{key:"getNewLayerDataByPid",value:function(e){for(var t=this.plugins.pluginsKey[e],n=t.LayerJSON,r=t.config,a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];var s=Ln(Ln({},pe()(n,o)),r);return s.keyid=j.util.randomID(),s.eventId=j.util.randomID(),j.util.isEmpty(s.set)&&(s.set={hide:!1,lock:!1,lockWideHigh:!1,noEvent:!1}),s}}]),e}(),pt=ge()(dt.prototype,"selectZimuKeyid",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=ge()(dt.prototype,"setOrientation",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=ue()(ce.a.mark((function t(n){var r,a,o,i,s,c;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.appData.orientation=n,"portrait"===n?(r=320,a=514):(r=514,a=320),o=e.appData,i=o.pages,s=o.fixeds,c=o.popups,[].concat(Q()(i),Q()(s),Q()(c)).forEach((function(e){e.style.height=a,e.style.width=r})),t.next=6,e.options.saveApp({data:e.appData,appId:e.options.appId});case 6:location.reload();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),ht=ge()(dt.prototype,"ruleLine",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mt=ge()(dt.prototype,"drawPathAnimate",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gt=ge()(dt.prototype,"designScale",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.25}}),yt=ge()(dt.prototype,"fullLoading",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{visible:!1,tips:"loading",noBackground:!0}}}),vt=ge()(dt.prototype,"setFullLoading",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.fullLoading=Object.assign({visible:!1,tips:"loading",noBackground:!0},t)}}}),bt=ge()(dt.prototype,"updateHistoryList",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.util.randomID()}}),wt=ge()(dt.prototype,"gridOption",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{show:!1,gridAdsorb:!1,gridSize:5}}}),xt=ge()(dt.prototype,"forceUpdateSetting",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{pageHeight:j.util.randomID(),other:j.util.randomID(),animate:j.util.randomID(),event:j.util.randomID(),editor:j.util.randomID(),offset:j.util.randomID(),positionSize:j.util.randomID()}}}),Et=ge()(dt.prototype,"showAnimateItemId",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=ge()(dt.prototype,"showEventItemId",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=ge()(dt.prototype,"insertPageIndex",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=ge()(dt.prototype,"selectMultipleLayerKeyIdsArray",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ot=ge()(dt.prototype,"scale",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ct=ge()(dt.prototype,"reRenderView",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Dt=ge()(dt.prototype,"playAnimateKey",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Pt=ge()(dt.prototype,"popupIndex",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),It=ge()(dt.prototype,"pageIndex",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),At=ge()(dt.prototype,"fixedIndex",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),jt=ge()(dt.prototype,"pageTab",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"page"}}),Tt=ge()(dt.prototype,"settingType",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=ge()(dt.prototype,"containerPosition",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{top:0,left:0}}}),Lt=ge()(dt.prototype,"showPanelName",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Rt=ge()(dt.prototype,"showModalName",[ye.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mt=ge()(dt.prototype,"showModal",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.showModalName=t}}}),zt=ge()(dt.prototype,"showPanel",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.showPanelName===t?e.showPanelName="":e.showPanelName=t,Ge.showTemplates=!1}}}),Bt=ge()(dt.prototype,"getAppData",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.appData}}}),Ht=ge()(dt.prototype,"changeTabPane",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){Object(ye.transaction)((function(){e.pageTab=t,e.destroyControl()}))}}}),Ft=ge()(dt.prototype,"destroyControl",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=$(".h5-canvas-view").find(".h5ds-control");t[0]&&(t.remove(),t=null,Rn.$control=null),Object(ye.transaction)((function(){e.settingType=null,e.showAnimateItemId=null,e.showEventItemId=null,e.selectMultipleLayerKeyIdsArray=[]}))}}}),Wt=ge()(dt.prototype,"forceUpdateSet",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t?e.forceUpdateSetting[t]=j.util.randomID():e.forceUpdateSetting={offset:j.util.randomID(),other:j.util.randomID(),page:j.util.randomID(),background:j.util.randomID(),music:j.util.randomID(),animate:j.util.randomID(),event:j.util.randomID(),editor:j.util.randomID(),positionSize:j.util.randomID()}}}}),$t=ge()(dt.prototype,"setSettingType",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t===e.settingType?e.settingType="":e.settingType=t}}}),Yt=ge()(dt.prototype,"cancelSelectPageIndex",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){switch(e.pageTab){case"page":e.pageIndex=null;break;case"popup":e.popupIndex=null;break;case"fixed":e.fixedIndex=null}}}}),Xt=ge()(dt.prototype,"getSelectPageIndex",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=null;switch(e.pageTab){case"page":t=e.pageIndex;break;case"popup":t=e.popupIndex;break;case"fixed":t=e.fixedIndex}return t}}}),Vt=ge()(dt.prototype,"setPageIndex",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){Object(ye.transaction)((function(){switch(e.pageTab){case"page":e.pageIndex=t;break;case"popup":e.popupIndex=t;break;case"fixed":e.fixedIndex=t}e.reRenderView=j.util.randomID(),window.pubSubEditor.publish("h5ds.destoryControl")}))}}}),Ut=ge()(dt.prototype,"getPageData",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return j.util.isEmpty(t)&&(t=e.pageIndex),e.appData.pages[t]}}}),Gt=ge()(dt.prototype,"getPopupData",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return j.util.isEmpty(t)&&(t=e.popupIndex),e.appData.popups[t]}}}),qt=ge()(dt.prototype,"getFixedData",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return j.util.isEmpty(t)&&(t=e.fixedIndex),e.appData.fixeds[t]}}}),Kt=ge()(dt.prototype,"resetSelectPageKeyid",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.getSelectPageData().keyid=j.util.randomID()}}}),Zt=ge()(dt.prototype,"getSelectPageData",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pageTab,r=null;switch(n){case"page":r=e.getPageData(t);break;case"popup":r=e.getPopupData(t);break;case"fixed":r=e.getFixedData(t)}return r}}}),Jt=ge()(dt.prototype,"savePage2Image",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=ue()(ce.a.mark((function t(n){var r,a,o,i,s,c,l,u,d,p,f,h,m;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.scale,a=void 0===r?2:r,o=n.target,i=n.noLoading,s=n.type,c=void 0===s?"toPng":s,l=n.quality,u=void 0===l?.9:l,d=null,i||(d=Ve.message.loading("loading...",0)),p=e.getSelectPageData(),f=p.style.width*a,h=p.style.height*a,t.next=8,Tn[c](o||document.querySelector(".h5-canvas-preview"),{quality:u,width:f,height:h,cacheBust:!1,style:{"transform-origin":"0 0",transform:"scale(".concat(a,")")},filter:function(e){return-1===["h5ds-control"].indexOf(e.className)}});case 8:return m=t.sent,d&&d(),t.abrupt("return",m);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Qt=ge()(dt.prototype,"getLayersDOM",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.getPageDOM().children(".h5ds-page").children(".h5ds-page-box").children(".h5ds-page-inner").children(".h5ds-page-layers").children(".layer")}}}),en=ge()(dt.prototype,"getLayerDOM",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){j.util.isEmpty(t)&&(t=e.getSelectLayerIndex());var n=e.getLayersDOM();return j.util.isEmpty(t)?n:n.eq(t)}}}),tn=ge()(dt.prototype,"getPageDOM",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pageTab,n=null;switch(t){case"page":case"popup":n=$("#h5PagePreview");break;case"fixed":n=$("#h5Fixed".concat(e.fixedIndex,"Preview"))}return n}}}),ge()(dt.prototype,"setViewScale",[ye.action],Object.getOwnPropertyDescriptor(dt.prototype,"setViewScale"),dt.prototype),nn=ge()(dt.prototype,"zoomOutCanvas",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=j.util.toFixed(e.scale-.1,1);t<.1||e.setViewScale(t)}}}),rn=ge()(dt.prototype,"zoomInCanvas",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=j.util.toFixed(e.scale+.1,1);t>4||e.setViewScale(t)}}}),an=ge()(dt.prototype,"autoScale",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=window.innerWidth-Ge.excludeViewWidth,n=window.innerHeight-60,r=e.getSelectPageData(),a=1,o=1;r.style.width>t&&(a=j.util.toFixed((t-100)/r.style.width,1)),r.style.height>n&&(o=j.util.toFixed((n-100)/r.style.height,1)),e.scale=a<o?a:o,e.scale}}}),on=ge()(dt.prototype,"updateCanvas",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.reRenderView=j.util.randomID(),t||e.setHistoryDebounce()}}}),sn=ge()(dt.prototype,"asyncUpdateCanvas",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return j.util.debounce((function(t,n){e.updateCanvas(n),t&&t()}),500)}}),cn=ge()(dt.prototype,"playAnimate",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){window.pubSubEditor.publish("h5ds.destoryControl"),e.playAnimateKey=j.util.randomID(),$(window).trigger("h5ds.playAnimate")}}}),ln=ge()(dt.prototype,"pauseAnimate",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){$("#h5PagePreview").find(".element-animate").each((function(){this.style.animationPlayState="paused"})),$(window).trigger("h5ds.fps.frame",{frame:e.selectFrameIndex}),window.pubSubEditor.publish("h5ds.clearTime"),$(window).trigger("h5ds.pauseAnimate")}}}),un=ge()(dt.prototype,"cancelSelectLayer",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){Object(ye.transaction)((function(){e.selectZimuKeyid=null,e.cancelSelectPageIndex(),e.layerData=null,j.util.isEmpty(t)||(e.pageIndex=t)}))}}}),dn=ge()(dt.prototype,"exChangeLayer",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){if(t<0||n<0)return console.error("交换数据错误 i -> j",t,n),!1;var r=e.getSelectPageData();if(r){var a=r.layers;new Array(Math.abs(t-n)).fill(1).forEach((function(){if(t<n){var e=[a[t+1],a[t]];a[t]=e[0],a[t+1]=e[1],t++}else{var r=[a[t],a[t-1]];a[t-1]=r[0],a[t]=r[1],t--}})),e.updateCanvas(),Ge.updateComponent("timeline")}else Ve.message.error("数据异常")}}}),pn=ge()(dt.prototype,"updateLayout",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){Ge.updateComponent.apply(Ge,arguments)}}}),fn=ge()(dt.prototype,"getSelectLayersData",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(0!==e.selectMultipleLayerKeyIdsArray.length){if(e.selectMultipleLayerKeyIdsArray.length>1){var t=[],n=e.getSelectPageData().layers;return e.selectMultipleLayerKeyIdsArray.forEach((function(e){t.push(n.find((function(t){return t.keyid===e})))})),t}var r=te()(e.selectMultipleLayerKeyIdsArray,1)[0];return[e.getSelectPageData().layers.find((function(e){return e.keyid===r}))]}console.warn("未选中任何图层")}}}),hn=ge()(dt.prototype,"getSelectLayerIndex",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(0!==e.selectMultipleLayerKeyIdsArray.length){if(!(e.selectMultipleLayerKeyIdsArray.length>1)){var t=te()(e.selectMultipleLayerKeyIdsArray,1)[0],n=(e.getSelectPageData()||{}).layers;return!!n&&n.findIndex((function(e){return e.keyid===t}))}console.warn("选中了多个图层")}else console.warn("未选中任何图层")}}}),mn=ge()(dt.prototype,"deleteLayer",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=ue()(ce.a.mark((function t(n){var r,a,o,i,s,c,l;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.selectMultipleLayerKeyIdsArray.length>1)){t.next=12;break}for(a=e.getSelectPageData(),o=[],i=function(t){var n=e.selectMultipleLayerKeyIdsArray[t];r=a.layers.findIndex((function(e){return e.keyid===n}));var i=a.layers.splice(r,1);o.push(i)},s=0;s<e.selectMultipleLayerKeyIdsArray.length;s++)i(s);return t.next=7,e.triggerDeleteLayerCallBackInLayers(o);case 7:return e.layerData=null,e.reRenderView=j.util.randomID(),e.destroyControl(),e.setHistoryDebounce(),t.abrupt("return");case 12:if(r=j.util.isEmpty(n)?e.getSelectLayerIndex():n,!j.util.isEmpty(r)){t.next=16;break}return console.error("未选中任何图层"),t.abrupt("return");case 16:return c=e.getSelectPageData(),l=c.layers.splice(r,1),t.next=20,e.triggerDeleteLayerCallBackInLayers(l);case 20:e.layerData=null,e.reRenderView=j.util.randomID(),e.destroyControl(),e.setHistoryDebounce();case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),gn=ge()(dt.prototype,"copyLayer",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return ue()(ce.a.mark((function t(){var n,r,a,o,i;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.selectMultipleLayerKeyIdsArray.length>1)){t.next=3;break}return Ve.message.error("只能复制一个图层"),t.abrupt("return");case 3:if(n=e.getLayerData()){t.next=7;break}return Ve.message.error("必须选择一个图层进行复制"),t.abrupt("return");case 7:return r=e.getSelectPageData(),a=r.layers.findIndex((function(t){return t.keyid===e.selectMultipleLayerKeyIdsArray[0]})),o=j.util.randomID(),i={},Object.assign(i,j.util.cloneDeep(n),{keyid:o,eventId:j.util.randomID()}),t.next=14,e.triggerAddLayerBeforeInLayers([i]);case 14:if(t.sent){t.next=16;break}return t.abrupt("return");case 16:return t.next=18,e.triggerAddLayerCallBackInLayers([i]);case 18:r.layers.splice(a||0,0,i),e.layerData=null,e.reRenderView=j.util.randomID(),e.destroyControl(),e.setHistoryDebounce(),e.selectMultipleLayerKeyIdsArray=[o],setTimeout((function(){qe(Q()(e.selectMultipleLayerKeyIdsArray),e.getLayersDOM)}),0);case 25:case"end":return t.stop()}}),t)})))}}),yn=ge()(dt.prototype,"copyPage",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=ue()(ce.a.mark((function t(n){var r,a,o,i,s;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.getSelectPageData(n),a=e.getSelectPageIndex(),o=null,i=0,t.t0=e.pageTab,t.next="page"===t.t0?7:"popup"===t.t0?10:13;break;case 7:return o=e.appData.pages,i=e.pageIndex,t.abrupt("break",13);case 10:return o=e.appData.popups,i=e.popupIndex,t.abrupt("break",13);case 13:if(o){t.next=16;break}return Ve.message.error("拷贝失败，页面类型不支持拷贝"),t.abrupt("return");case 16:return s=Object.assign(j.util.cloneDeep(r),{keyid:j.util.randomID(),eventId:j.util.randomID()}),t.next=19,e.triggerAddLayerBeforeInLayers(s.layers);case 19:if(t.sent){t.next=21;break}return t.abrupt("return");case 21:return t.next=23,e.triggerAddLayerCallBackInLayers(s.layers);case 23:o.splice(i,0,s),e.cancelSelectPageIndex(),e.layerData=null,e.setPageIndex(a+1),e.setHistory(),Ge.updateComponent("pageList","timeline","setting");case 29:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),vn=ge()(dt.prototype,"getLayerDataByPids",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.getSelectPageData(),r=[];return n.layers.forEach((function(e){t.includes(e.keyid)&&r.push(e)})),r}}}),bn=ge()(dt.prototype,"deletePage",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=ue()(ce.a.mark((function t(n,r){var a,o,i;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("pages"===r&&e.appData[r].length<=1)){t.next=3;break}return Ve.message.error("至少保留一个页面"),t.abrupt("return");case 3:return a=e.appData[r].splice(n,1),o=te()(a,1),i=o[0],t.next=6,e.triggerDeleteLayerCallBackInLayers(null==i?void 0:i.layers);case 6:e.cancelSelectPageIndex(),e.layerData=null,t.t0=r,t.next="pages"===t.t0?11:"fixeds"===t.t0?13:"popups"===t.t0?15:17;break;case 11:return e.pageIndex=0,t.abrupt("break",17);case 13:return e.fixedIndex=0,t.abrupt("break",17);case 15:return e.popupIndex=0,t.abrupt("break",17);case 17:e.reRenderView=j.util.randomID(),e.setHistory(),Ge.updateComponent("pageList","timeline","setting");case 20:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),wn=ge()(dt.prototype,"getLayerData",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.getSelectPageData(),n=e.getSelectLayerIndex();return-1===n?(console.error("keyid变化导致元素选中异常"),!1):t?t.layers[n]:(console.warn("未选中页面，获取layer数据为null"),!1)}}}),xn=ge()(dt.prototype,"insertLayer",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r=e.getSelectPageData();r?(r.layers.splice(n,0,t),Object(ye.transaction)((function(){e.reRenderView=j.util.randomID(),e.selectMultipleLayerKeyIdsArray=[t.keyid]})),setTimeout((function(){qe(Q()(e.selectMultipleLayerKeyIdsArray),e.getLayersDOM)}),10),Ge.updateComponent("timeline","setting")):Ve.message.error("未选择页面")}}}),En=ge()(dt.prototype,"addLayer",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=ue()(ce.a.mark((function t(n,r){var a,o,i,s,c;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.getSelectPageData()){t.next=4;break}return Ve.message.error("未选择页面"),t.abrupt("return");case 4:return r||(n.keyid=j.util.randomID()),n.eventId=j.util.randomID(),n.uncenter||(o=e.containerPosition.top-($("#h5LayoutCanvas").height()-a.style.height)/2,i=n.style,s=i.width,c=i.height,n.style.left=(a.style.width-s)/2,n.style.top=(a.style.height-c)/2-o),Object(Je.g)([n]),t.next=10,e.triggerAddLayerBeforeInLayers([n]);case 10:if(t.sent){t.next=12;break}return t.abrupt("return");case 12:return t.next=14,e.triggerAddLayerCallBackInLayers([n]);case 14:a.layers.unshift(n),Object(ye.transaction)((function(){e.reRenderView=j.util.randomID(),e.selectMultipleLayerKeyIdsArray=[n.keyid]})),setTimeout((function(){qe(Q()(e.selectMultipleLayerKeyIdsArray),e.getLayersDOM)}),10),Ge.updateComponent("timeline","setting");case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),_n=ge()(dt.prototype,"combinLayers",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(e.selectMultipleLayerKeyIdsArray.length<=1)Ve.message.error("最少选择2个图层进行合并");else{var t=e.getSelectPageData(),n=t.layers.map((function(t,n){return e.selectMultipleLayerKeyIdsArray.includes(t.keyid)?{layer:t,key:n}:null})).filter((function(e){return e})).sort((function(e,t){return e.key-t.key})),r=[],a=[],o=[],i=[];n.forEach((function(e){var t=G.rectParamObj(j.util.cloneDeep(e.layer));i.push(e.key),a.push(t.top),a.push(t.top+t.boxHeight),o.push(t.left),o.push(t.left+t.boxWidth),r.push(Object.assign(j.util.cloneDeep(e.layer),{keyid:j.util.randomID()}))}));var s=Math.min.apply(Math,a),c=Math.min.apply(Math,o),l=Math.max.apply(Math,o)-c,u=Math.max.apply(Math,a)-s;r.forEach((function(e){e.style.left-=c,e.style.top-=s}));var d=e.plugins.pluginsKey.h5ds_combin,p=Ln(Ln({},d.config),new d.LayerJSON);p.keyid=j.util.randomID(),p.eventId=j.util.randomID(),p.style.top=s,p.style.left=c,p.originstyle.width=l,p.originstyle.height=u,p.style.width=l,p.style.height=u,p.data=r,Object(ye.transaction)((function(){var n=Math.min.apply(Math,i);e.selectMultipleLayerKeyIdsArray.forEach((function(e){var n=t.layers.findIndex((function(t){return t.keyid===e}));t.layers.splice(n,1)})),e.insertLayer(p,n),e.setHistory()}))}}}}),kn=ge()(dt.prototype,"addLayers",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,left:0},a=e.getSelectPageData();Object(ye.transaction)((function(){t.reverse().forEach((function(e){(e=j.util.cloneDeep(e)).keyid=j.util.randomID(),e.style.left+=r.left,e.style.top+=r.top,a.layers.splice(n,0,e)})),e.deleteLayer(n+t.length)}))}}}),Sn=ge()(dt.prototype,"uncombinLayers",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(1===e.selectMultipleLayerKeyIdsArray.length){var t=e.getLayerData();if("h5ds_combin"===t.pid){var n=e.getSelectPageData().layers.findIndex((function(t){return t.keyid===e.selectMultipleLayerKeyIdsArray[0]}));t.data.map((function(e){e.keyid=j.util.randomID()})),e.addLayers(t.data,n,G.rectParamObj(t))}else Ve.message.error("合并图层才可以解除合并")}else Ve.message.error("只能选择一个图层")}}}),On=ge()(dt.prototype,"replayPage",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=ue()(ce.a.mark((function t(n){var r;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n?"string"==typeof n&&(n=JSON.parse(n)):((n=e.getNullPage()).style.width*=2,n.style.height*=2),n.keyid=j.util.randomID(),n.eventId=j.util.randomID(),Object(Je.g)(n.layers),t.next=6,e.triggerAddLayerBeforeInLayers(n.layers);case 6:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,e.triggerAddLayerCallBackInLayers(n.layers);case 10:if(r=e.getSelectPageIndex(),"page"!==e.pageTab){t.next=15;break}e.appData.pages[r]=n,t.next=25;break;case 15:if("popup"!==e.pageTab){t.next=19;break}e.appData.popups[r]=n,t.next=25;break;case 19:if("fixed"!==e.pageTab){t.next=23;break}e.appData.fixeds[r]=n,t.next=25;break;case 23:return console.error("数据类型异常pageTab:",e.pageTab),t.abrupt("return");case 25:Object(ye.transaction)((function(){Ge.updateComponent("setting","pageList","timeline"),e.reRenderView=j.util.randomID(),e.script=j.util.randomID(),e.pageIndex=r,e.setHistory(),setTimeout((function(){$(window).trigger("h5ds.tocenter")}),100)}));case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Cn=ge()(dt.prototype,"addPage",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=ue()(ce.a.mark((function t(n){var r;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("fixed"!==e.pageTab){t.next=3;break}return Ve.message.warn("浮动层不可添加页面"),t.abrupt("return");case 3:return n?"string"==typeof n&&(n=JSON.parse(n)):n=e.getNullPage(),"landscape"===e.getOrientation()&&(n.style.height=ie.b.appWidth,n.style.width=ie.b.appHeight),n.keyid=j.util.randomID(),n.eventId=j.util.randomID(),Object(Je.g)(n.layers),t.next=10,e.triggerAddLayerBeforeInLayers(n.layers);case 10:if(t.sent){t.next=12;break}return t.abrupt("return");case 12:return t.next=14,e.triggerAddLayerCallBackInLayers(n.layers);case 14:if(r=null,"page"!==e.pageTab){t.next=20;break}r=j.util.isEmpty(e.insertPageIndex)?e.appData.pages.length:e.insertPageIndex+1,e.appData.pages.splice(r,0,n),t.next=27;break;case 20:if("popup"!==e.pageTab){t.next=25;break}r=j.util.isEmpty(e.insertPageIndex)?e.appData.popups.length:e.insertPageIndex+1,e.appData.popups.splice(r,0,n),t.next=27;break;case 25:return console.error("数据类型异常pageTab:",e.pageTab),t.abrupt("return");case 27:Object(ye.transaction)((function(){Ge.updateComponent("setting","pageList","timeline"),e.reRenderView=j.util.randomID(),e.script=j.util.randomID(),e.pageIndex=r,e.setHistory()}));case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Dn=ge()(dt.prototype,"destroy",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){Object(ye.transaction)((function(){e.pageIndex=0,e.layerData=null,e.appData=null}))}}}),Pn=ge()(dt.prototype,"setHistory",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t={};t.pageIndex=e.pageIndex,t.data=j.util.cloneDeep(e.appData),e.historyCache.length>ie.b.historyMax&&e.historyCache.splice(0,1),e.historyCache.push(t),e.historyCache.length>0&&(e.historyIndex=e.historyCache.length-1),Ye.local.set("H5DS_APP_DATA",e.appData)}}}),In=ge()(dt.prototype,"setHistoryDebounce",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return j.util.debounce((function(){e.setHistory(),Ge.keys.pageList=j.util.randomID()}),300)}}),An=ge()(dt.prototype,"undo",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){window.pubSubEditor.publish("h5ds.destoryControl"),e.historyCache.length>0?Object(ye.transaction)((function(){e.historyIndex-1<0||(e.historyIndex--,e.appData=e.historyCache[e.historyIndex].data,e.pageIndex=e.historyCache[e.historyIndex].pageIndex,e.reRenderView=j.util.randomID(),e.forceUpdateSet(),Ge.updateComponent("pageList","script"))})):console.error("没有操作记录")}}}),jn=ge()(dt.prototype,"redo",[ye.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){window.pubSubEditor.publish("h5ds.destoryControl"),e.historyCache.length>0?e.historyIndex<e.historyCache.length-1&&Object(ye.transaction)((function(){e.historyIndex++,e.appData=e.historyCache[e.historyIndex].data,e.pageIndex=e.historyCache[e.historyIndex].pageIndex,e.reRenderView=j.util.randomID(),e.forceUpdateSet(),Ge.updateComponent("pageList","script")})):console.error("没有操作记录")}}}),dt),Mn={editor:Rn,layout:Ge};if(!re.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!ye.spy)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var zn=n(36),Bn=n.n(zn),Hn=n(45),Fn=Object(Hn.b)("observerBatching");function Wn(e){e()}var $n=!1;function Yn(){return $n}function Xn(e){return Object(ye.getDependencyTree)(e)}var Vn,Un=1e4,Gn=new Set;function qn(){void 0===Vn&&(Vn=setTimeout(Kn,1e4))}function Kn(){Vn=void 0;var e=Date.now();Gn.forEach((function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,Gn.delete(t))})),Gn.size>0&&qn()}var Zn=!1,Jn=[];var Qn={};function er(e){return"observer"+e}function tr(e,t,n){if(void 0===t&&(t="observed"),void 0===n&&(n=Qn),Yn())return e();var r,a=function(e){return function(){Zn?Jn.push(e):e()}}((n.useForceUpdate||Hn.d)()),o=ae.a.useRef(null);if(!o.current){var i=new ye.Reaction(er(t),(function(){s.mounted?a():(i.dispose(),o.current=null)})),s=function(e){return{cleanAt:Date.now()+Un,reaction:e}}(i);o.current=s,r=o,Gn.add(r),qn()}var c=o.current.reaction;return ae.a.useDebugValue(c,Xn),ae.a.useEffect((function(){var e;return e=o,Gn.delete(e),o.current?o.current.mounted=!0:(o.current={reaction:new ye.Reaction(er(t),(function(){a()})),cleanAt:1/0},a()),function(){o.current.reaction.dispose(),o.current=null}}),[]),function(e){Zn=!0,Jn=[];try{var t=e();Zn=!1;var n=Jn.length>0?Jn:void 0;return ae.a.useLayoutEffect((function(){n&&n.forEach((function(e){return e()}))}),[n]),t}finally{Zn=!1}}((function(){var t,n;if(c.track((function(){try{t=e()}catch(e){n=e}})),n)throw n;return t}))}var nr=function(){return(nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function rr(e,t){if(Yn())return e;var n,r,a,o=nr({forwardRef:!1},t),i=e.displayName||e.name,s=function(t,n){return tr((function(){return e(t,n)}),i)};return s.displayName=i,n=o.forwardRef?Object(re.memo)(Object(re.forwardRef)(s)):Object(re.memo)(s),r=e,a=n,Object.keys(r).forEach((function(e){ar[e]||Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(r,e))})),n.displayName=i,n}var ar={$$typeof:!0,render:!0,compare:!0,type:!0};function or(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:tr(r)}function ir(e,t,n,r,a){var o="children"===t?"render":"children",i="function"==typeof e[t],s="function"==typeof e[o];return i&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+n):i||s?null:new Error("Invalid prop `"+a+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}or.propTypes={children:ir,render:ir},or.displayName="Observer";var sr,cr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i};function lr(e,t){if(!t||void 0!==e){0;var n=cr(ae.a.useState((function(){return Object(ye.observable)(e,{},{deep:!1})})),1)[0];return Object(ye.runInAction)((function(){Object.assign(n,e)})),n}}function ur(e,t){var n=lr(t,!0);return ae.a.useState((function(){var t=Object(ye.observable)(e(n));return Object(Hn.c)(t)&&Object(ye.runInAction)((function(){Object.keys(t).forEach((function(e){var n,r,a=t[e];"function"==typeof a&&(t[e]=(n=a,r=t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(ye.transaction)((function(){return n.apply(r,e)}))}))}))})),t}))[0]}(sr=zn.unstable_batchedUpdates)||(sr=Wn),Object(ye.configure)({reactionScheduler:sr}),Object(Hn.a)()[Fn]=!0;var dr=0;var pr={};function fr(e){return pr[e]||(pr[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+dr+")";return dr++,t}(e)),pr[e]}function hr(e,t){if(mr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(t,n[a])||!mr(e[n[a]],t[n[a]]))return!1;return!0}function mr(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var gr={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};function yr(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var vr=fr("patchMixins"),br=fr("patchedDefinition");function wr(e,t){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];t.locks++;try{var i;return null!=e&&(i=e.apply(this,a)),i}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,a)}))}}function xr(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];wr.call.apply(wr,[this,e,t].concat(r))}}function Er(e,t,n){var r=function(e,t){var n=e[vr]=e[vr]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(e,t);if(!a||!a[br]){var o=e[t],i=function e(t,n,r,a,o){var i,s=xr(o,a);return(i={})[br]=!0,i.get=function(){return s},i.set=function(o){if(this===t)s=xr(o,a);else{var i=e(this,n,r,a,o);Object.defineProperty(this,n,i)}},i.configurable=!0,i.enumerable=r,i}(e,t,a?a.enumerable:void 0,r,o);Object.defineProperty(e,t,i)}}var _r=ye.$mobx||"$mobx",kr=fr("isMobXReactObserver"),Sr=fr("isUnmounted"),Or=fr("skipRender"),Cr=fr("isForcingUpdate");function Dr(e){var t=e.prototype;if(e[kr]){var n=Pr(t);console.warn("The provided component class ("+n+") \n                has already been declared as an observer component.")}else e[kr]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==re.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==Ar)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=Ar;jr(t,"props"),jr(t,"state");var r=t.render;return t.render=function(){return Ir.call(this,r)},Er(t,"componentWillUnmount",(function(){var e;if(!0!==Yn()&&(null===(e=this.render[_r])||void 0===e||e.dispose(),this[Sr]=!0,!this.render[_r])){var t=Pr(this);console.warn("The reactive render of an observer class component ("+t+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),e}function Pr(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function Ir(e){var t=this;if(!0===Yn())return e.call(this);yr(this,Or,!1),yr(this,Cr,!1);var n=Pr(this),r=e.bind(this),a=!1,o=new ye.Reaction(n+".render()",(function(){if(!a&&(a=!0,!0!==t[Sr])){var e=!0;try{yr(t,Cr,!0),t[Or]||re.Component.prototype.forceUpdate.call(t),e=!1}finally{yr(t,Cr,!1),e&&o.dispose()}}}));function i(){a=!1;var e=void 0,t=void 0;if(o.track((function(){try{t=Object(ye._allowStateChanges)(!1,r)}catch(t){e=t}})),e)throw e;return t}return o.reactComponent=this,i[_r]=o,this.render=i,i.call(this)}function Ar(e,t){return Yn()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!hr(this.props,e)}function jr(e,t){var n=fr("reactProp_"+t+"_valueHolder"),r=fr("reactProp_"+t+"_atomHolder");function a(){return this[r]||yr(this,r,Object(ye.createAtom)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return ye._allowStateReadsStart&&ye._allowStateReadsEnd&&(e=Object(ye._allowStateReadsStart)(!0)),a.call(this).reportObserved(),ye._allowStateReadsStart&&ye._allowStateReadsEnd&&Object(ye._allowStateReadsEnd)(e),this[n]},set:function(e){this[Cr]||hr(this[n],e)?yr(this,n,e):(yr(this,n,e),yr(this,Or,!0),a.call(this).reportChanged(),yr(this,Or,!1))}})}var Tr="function"==typeof Symbol&&Symbol.for,Nr=Tr?Symbol.for("react.forward_ref"):"function"==typeof re.forwardRef&&Object(re.forwardRef)((function(e){return null})).$$typeof,Lr=Tr?Symbol.for("react.memo"):"function"==typeof re.memo&&Object(re.memo)((function(e){return null})).$$typeof;function Rr(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Lr&&e.$$typeof===Lr)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Nr&&e.$$typeof===Nr){var t=e.render;if("function"!=typeof t)throw new Error("render property of ForwardRef was not a function");return Object(re.forwardRef)((function(){var e=arguments;return Object(re.createElement)(or,null,(function(){return t.apply(void 0,e)}))}))}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(re.Component,e)?Dr(e):rr(e)}function Mr(){return(Mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var zr=ae.a.createContext({});function Br(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children"]),r=ae.a.useContext(zr),a=ae.a.useRef(Mr({},r,n)).current;return ae.a.createElement(zr.Provider,{value:a},t)}function Hr(e,t,n,r){var a,o,i,s=ae.a.forwardRef((function(n,r){var a=Mr({},n),o=ae.a.useContext(zr);return Object.assign(a,e(o||{},a)||{}),r&&(a.ref=r),ae.a.createElement(t,a)}));return r&&(s=Rr(s)),s.isMobxInjector=!0,a=t,o=s,i=Object.getOwnPropertyNames(Object.getPrototypeOf(a)),Object.getOwnPropertyNames(a).forEach((function(e){gr[e]||-1!==i.indexOf(e)||Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(a,e))})),s.wrappedComponent=t,s.displayName=function(e,t){var n,r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";n=t?"inject-with-"+t+"("+r+")":"inject("+r+")";return n}(t,n),s}function Fr(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function Wr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"==typeof arguments[0]){var r=arguments[0];return function(e){return Hr(r,e,r.name,!0)}}return function(e){return Hr(Fr(t),e,t.join("-"),!1)}}Br.displayName="MobXProvider";if(!re.Component)throw new Error("mobx-react requires React to be available");if(!ye.observable)throw new Error("mobx-react requires mobx to be available");n(273);var $r=n(254),Yr=n.n($r),Xr=n(111),Vr=n.n(Xr);n(277);function Ur(){return ae.a.createElement("section",{className:"h5-header-section"},ae.a.createElement("a",{onClick:function(){Rn.options.backUrl&&(location.href=Rn.options.backUrl)},className:"h5-arrow"},ae.a.createElement("i",{className:"h5font ico-left"})),ae.a.createElement("div",{className:"h5-logo"},ae.a.createElement("a",{href:"https://www.h5ds.com/home",target:"_blank",rel:"noopener noreferrer"},ae.a.createElement("div",{className:"h5-logo-inner"},ae.a.createElement("img",{src:ie.b.headerLogo})))))}var Gr=n(13),qr=n.n(Gr);var Kr=function(e){e.name;var t=Object(re.useState)(!1),n=te()(t,2),r=n[0],a=n[1],o=ur((function(){return Rn})),i=function(){var e=ue()(ce.a.mark((function e(){var t,n,r,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Rn.appData,n=Rn.options,r=Xe.a.getPidByData(t),a=Object.assign(j.util.cloneDeep(t),{plugins:r}),!n.saveApp){e.next=10;break}return e.next=6,n.saveApp({data:a,plugins:r,appId:n.appId,updateTime:+new Date});case 6:Rn.updateHistoryList=j.util.randomID(),Ve.message.success("保存成功！",1),e.next=11;break;case 10:console.error("未配置saveApp<Promise>");case 11:Ye.local.set("H5DS_APP_DATA",a);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(e){Q()(Rn.selectMultipleLayerKeyIdsArray);var t=Rn.getLayerDataByPids(Q()(Rn.selectMultipleLayerKeyIdsArray));if(0!==t.length){if(1===t.length){var n=Rn.appData.style,r=n.width,a=n.height,o=te()(t,1)[0];switch(e.key){case"left":o.style.left=0;break;case"right":o.style.left=r-o.style.width;break;case"top":o.style.top=0;break;case"bottom":o.style.top=a-o.style.height;break;case"center":o.style.left=(r-o.style.width)/2;break;case"vertical":o.style.top=(a-o.style.height)/2}Rn.controlChange({top:o.style.top,left:o.style.left})}else!function(e,t,n){var r=[];switch(t.forEach((function(e){r.push({layer:e,box:G.rectParamObj(e)})})),e.key){case"left":r.sort((function(e,t){return e.box.left-t.box.left}));var a=0;r.forEach((function(e,t){0===t?a=e.box.left:e.layer.style.left=a+e.box.boxWidth/2-e.box.width/2}));break;case"right":r.sort((function(e,t){return t.box.left+t.box.boxWidth-(e.box.left+e.box.boxWidth)}));var o=0;r.forEach((function(e,t){0===t?o=e.box.left+e.box.boxWidth:e.layer.style.left=o-e.box.boxWidth/2-e.box.width/2}));break;case"top":r.sort((function(e,t){return e.box.top-t.box.top}));var i=0;r.forEach((function(e,t){0===t?i=e.box.top:e.layer.style.top=i+e.box.boxHeight/2-e.box.height/2}));break;case"bottom":r.sort((function(e,t){return t.box.top+t.box.boxHeight-(e.box.top+e.box.boxHeight)}));var s=0;r.forEach((function(e,t){0===t?s=e.box.top+e.box.boxHeight:e.layer.style.top=s-e.box.boxHeight/2-e.box.height/2}));break;case"center":r.sort((function(e,t){return e.box.left-t.box.left}));var c=0;r.forEach((function(e,t){var n=e.layer.style,r=n.top,a=n.height;0===t?c=r+a/2:e.layer.style.top=c-a/2}));break;case"vertical":r.sort((function(e,t){return e.layer.style.top-t.layer.style.top}));var l=0;r.forEach((function(e,t){var n=e.layer.style,r=n.left,a=n.width;0===t?l=r+a/2:e.layer.style.left=l-a/2}));break;case"horizontal-space":r.sort((function(e,t){return e.layer.style.left-t.layer.style.left}));var u=r[r.length-1],d=u.layer.style.left+u.layer.style.width-r[0].layer.style.left,p=0;r.forEach((function(e){p+=e.layer.style.width}));var f=(d-p)/(r.length-1);r.forEach((function(e,t){if(0!==t){var n=r[t-1];e.layer.style.left=n.layer.style.left+n.layer.style.width+f}}));break;case"vertical-space":r.sort((function(e,t){return e.layer.style.top-t.layer.style.top}));var h=r[r.length-1],m=h.layer.style.top+h.layer.style.height-r[0].layer.style.top,g=0;r.forEach((function(e){g+=e.layer.style.height}));var y=(m-g)/(r.length-1);r.forEach((function(e,t){if(0!==t){var n=r[t-1];e.layer.style.top=n.layer.style.top+n.layer.style.height+y}}))}n.updateCanvas(),r.forEach((function(e){e.layer=null,e.box=null}))}(e,t,Rn);Rn.updateCanvas()}else Ve.message.error("未选中图层")};Object(re.useEffect)((function(){var e=setInterval((function(){i()}),6e4);return function(){clearInterval(e)}}),[]);var c=function(e){return[{key:"left",name:"左对齐",icon:"h5font ico-zuoduiqi",info:"Ctrl+Alt+L",disable:0===e},{key:"right",name:"右对齐",icon:"h5font ico-youduiqi",info:"Ctrl+Alt+R",disable:0===e},{key:"top",name:"顶对齐",icon:"h5font ico-dingduiqi",info:"Ctrl+Alt+T",disable:0===e},{key:"bottom",name:"底对齐",icon:"h5font ico-diduiqi",info:"Ctrl+Alt+B",disable:0===e},{key:"center",name:"水平居中",icon:"h5font ico-chuizhijuzhong-copy",info:"Ctrl+Alt+C",disable:0===e},{key:"vertical",name:"垂直居中",icon:"h5font ico-shuipingjuzhong",info:"Ctrl+Alt+V",disable:0===e},{key:"horizontal-space",name:"水平等间距",icon:"h5font ico-shuipingdengjianju",info:"",disable:1===e||0===e},{key:"vertical-space",name:"垂直等间距",icon:"h5font ico-chuizhidengjianju",info:"",disable:1===e||0===e}]}(o.selectMultipleLayerKeyIdsArray.length);return ae.a.createElement("section",{className:"h5-header-section"},ae.a.createElement("div",{className:"h5-header-menus h5-header-menus-help"},ae.a.createElement("span",{className:"h5-btn"},ae.a.createElement(Ve.Popover,{overlayClassName:"h5-popover",onVisibleChange:a,content:ae.a.createElement("ul",{className:qr()("h5-header-menus-align")},c.map((function(e){return ae.a.createElement("li",{key:e.key,className:qr()({"h5-align-disable":e.disable}),onClick:function(){return s(e)}},ae.a.createElement("i",{className:e.icon}),ae.a.createElement("span",null,e.name),ae.a.createElement("i",null,e.info))}))),title:null,trigger:"click",visible:r},ae.a.createElement("span",null,ae.a.createElement("i",{className:"h5font ico-align"}),ae.a.createElement("p",null,"对齐")))),ae.a.createElement("span",{className:"h5-btn",id:"h5SaveApp",onClick:i},ae.a.createElement("i",{className:"h5font ico-baocun"}),ae.a.createElement("p",null,"保存")),ae.a.createElement("span",{className:"h5-btn",onClick:o.undo},ae.a.createElement("i",{className:"h5font ico-houtui"}),ae.a.createElement("p",null,"撤销")),ae.a.createElement("span",{className:"h5-btn",onClick:o.redo},ae.a.createElement("i",{className:"h5font ico-qianjin"}),ae.a.createElement("p",null,"重做")),ae.a.createElement("span",{className:"h5-btn",onClick:o.playAnimate},ae.a.createElement("i",{className:"h5font ico-bofang"}),ae.a.createElement("p",null,"播放")),ae.a.createElement("span",{className:"h5-scale"},ae.a.createElement("i",{onClick:Rn.zoomOutCanvas,className:"h5font ico-jian"}),ae.a.createElement("a",null,ae.a.createElement(or,null,(function(){return parseInt(100*o.scale,10)})),"% ",ae.a.createElement("br",null)," 缩放"),ae.a.createElement("i",{onClick:Rn.zoomInCanvas,className:"h5font ico-jia"}))))},Zr=n(8),Jr=n.n(Zr),Qr=n(7),ea=n.n(Qr),ta=n(3),na=n.n(ta);n(278),n(279);function ra(e){var t=e.value;return ae.a.createElement("div",{className:"h5-publish-step"},ae.a.createElement("section",{className:qr()("h5-publish-step-item",{"h5-publish-step-active":[1,2,3].includes(t)})},ae.a.createElement("div",null,ae.a.createElement("i",{className:"h5font ico-yulan"})),ae.a.createElement("div",{className:"h5-publish-step-name"},"预览"),ae.a.createElement("div",{className:"h5-publish-step-number"},"1")),ae.a.createElement("section",{className:qr()("h5-publish-step-bar",{"h5-publish-step-bar-active":[2,3].includes(t)})}),ae.a.createElement("section",{className:qr()("h5-publish-step-item",{"h5-publish-step-active":[2,3].includes(t)})},ae.a.createElement("div",null,ae.a.createElement("i",{className:"h5font ico-shezhifenxiang"})),ae.a.createElement("div",{className:"h5-publish-step-name"},"设置分享"),ae.a.createElement("div",{className:"h5-publish-step-number"},"2")),ae.a.createElement("section",{className:qr()("h5-publish-step-bar",{"h5-publish-step-bar-active":3===t})}),ae.a.createElement("section",{className:qr()("h5-publish-step-item",{"h5-publish-step-active":3===t})},ae.a.createElement("div",null,ae.a.createElement("i",{className:"h5font ico-fabuchenggong"})),ae.a.createElement("div",{className:"h5-publish-step-name"},"发布反馈"),ae.a.createElement("div",{className:"h5-publish-step-number"},"3")))}var aa=n(37);function oa(e,t){var n=e.editor,r=Object(re.useState)(0),a=te()(r,2),o=a[0],i=a[1],s=Object(re.useState)(null),c=te()(s,2),l=c[0],u=c[1];return Object(re.useImperativeHandle)(t,(function(){return{update:function(e){u(e)}}})),Object(re.useEffect)((function(){return null==l||l.swiperInstance.on("transitionEnd",(function(){i(null==l?void 0:l.swiperInstance.activeIndex)})),function(){null==l||l.swiperInstance.off("transitionEnd")}}),[l]),ae.a.createElement("div",{className:"h5-publish-buttons"},ae.a.createElement("a",{className:qr()("h5font ico-up",{"h5-publish-button-disabled":0===o}),onClick:function(){null==l||l.slidePrev()}}),ae.a.createElement("a",{className:qr()("h5font ico-down",{"h5-publish-button-disabled":o===n.appData.pages.length-1}),onClick:function(){null==l||l.slideNext()}}),ae.a.createElement("span",null,o+1,"/",n.appData.pages.length))}var ia=Object(re.forwardRef)(oa);function sa(e){var t=e.name,n=e.className,r=Object(re.useState)(),a=te()(r,2),o=a[0],i=a[1],s=function(){var e=new Date,t=e.getHours(),n=e.getMinutes();i("".concat(t,":").concat(n))};return Object(re.useEffect)((function(){s();var e=setInterval(s,6e4);return function(){clearInterval(e)}}),[]),ae.a.createElement("div",{className:n},ae.a.createElement("div",{className:"h5-phone-bar-top"},ae.a.createElement("span",{className:"h5-phone-bar-time"},o),ae.a.createElement("span",{className:"h5-phone-bar-detail"},ae.a.createElement("i",{className:"h5font ico-xinhao"}),ae.a.createElement("i",{className:"h5font ico-zhuangtailan-xinhaoruo"}),ae.a.createElement("i",{className:"h5font ico-dianchi"}))),ae.a.createElement("div",{className:"h5-phone-bar-bottom"},ae.a.createElement("a",{className:"h5-phone-bar-back h5font ico-left"}),ae.a.createElement("span",{className:"h5-phone-bar-name"},t),ae.a.createElement("a",{className:"h5-phone-bar-more h5font ico-gengduo1"})))}var ca=n(83),la=n.n(ca);function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var fa=function(e){Jr()(n,e);var t=pa(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).changePhone=function(e){r.setState({phone:e.target.value,swiperKey:j.util.randomID()})},r.onChange=function(e,t){var n=r.props.editor,a=n.appData,o=n.setHistory;a.slider[t]=e,r.appData=j.util.cloneDeep(a),o(),r.setState({swiperKey:j.util.randomID()})},r.renderEnd=function(){r.slideRef.update(r.swiperRef)},r.state={phone:"iphonex",swiperKey:1,swiperEnd:!1,url:""},r.appData=j.util.cloneDeep(e.editor.appData),r.h5type=j.util.getUrlData("h5type"),r}return V()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.editor.options,n=t.getPreviewToken,r=t.publishHost,a=t.appId;n&&n(a).then((function(t){t&&e.setState({url:"".concat(r,"?previewToken=").concat(t,"&").concat("template"===e.h5type?"templateId":"appId","=").concat(a)})}))}},{key:"render",value:function(){var e=this,t=this.props.editor,n=t.appData.slider,r={iphone6:{windowStyle:{width:255,height:410},phone:"h5-publish-phone6-bg",phoneBar:"h5-publish-phone6-bar"},iphonex:{windowStyle:{width:255,height:505},phone:"h5-publish-phonex-bg",phoneBar:"h5-publish-phonex-bar"}}[this.state.phone];return ae.a.createElement("div",{className:"h5-publish-layout"},ae.a.createElement("div",{className:"h5-publish-phone"},ae.a.createElement("div",{className:r.phone}),ae.a.createElement(sa,{name:t.appData.name,className:r.phoneBar}),this.props.visible&&ae.a.createElement(ae.a.Fragment,{key:this.state.phone},ae.a.createElement("div",{className:"h5-publish-".concat(this.state.phone,"-box"),style:da({},r.windowStyle)},ae.a.createElement(aa.H5Swiper,{scale:2,key:this.state.swiperKey,ref:function(t){return e.swiperRef=t},scrollAnimate:!0,windowStyle:r.windowStyle,data:this.appData,appId:t.options.appId,renderEnd:this.renderEnd,renderIn:ie.f.RENDER_IN_PREVIEW})),ae.a.createElement(ia,{key:this.state.swiperKey,ref:function(t){return e.slideRef=t},editor:t}))),ae.a.createElement("div",{className:"h5-publish-options",style:{top:-40}},ae.a.createElement(j.Mitem,{title:"预览设置"},ae.a.createElement(Ve.Radio.Group,{defaultValue:this.state.phone,onChange:this.changePhone,buttonStyle:"solid"},ae.a.createElement(Ve.Radio.Button,{value:"iphonex"},"iPhoneX"),ae.a.createElement(Ve.Radio.Button,{value:"iphone6"},"iPhone6"))),ae.a.createElement(j.Mitem,{title:"翻页设置",className:"h5-publish-block"},ae.a.createElement(j.Item,{title:"翻页动画"},ae.a.createElement(Ve.Radio.Group,{defaultValue:n.effect,onChange:function(t){return e.onChange(t.target.value,"effect")},buttonStyle:"solid"},ae.a.createElement(Ve.Radio.Button,{value:"slide"},"位移"),ae.a.createElement(Ve.Radio.Button,{value:"fade"},"淡入"),ae.a.createElement(Ve.Radio.Button,{value:"coverflow"},"3D流"),ae.a.createElement(Ve.Radio.Button,{value:"flip"},"翻牌"),ae.a.createElement(Ve.Radio.Button,{value:"cube"},"3D翻转"))),ae.a.createElement(j.Item,{title:"切换方向"},ae.a.createElement(Ve.Radio.Group,{defaultValue:n.direction||"vertical",onChange:function(t){return e.onChange(t.target.value,"direction")},buttonStyle:"solid"},ae.a.createElement(Ve.Radio.Button,{value:"vertical"},"纵向滑动"),ae.a.createElement(Ve.Radio.Button,{value:"horizontal"},"横向滑动"))),ae.a.createElement(j.Item,{title:"自动翻页"},ae.a.createElement(Ve.Switch,{defaultChecked:n.autoplay,onChange:function(t){return e.onChange(t,"autoplay")}})),n.autoplay&&ae.a.createElement(j.Item,{title:"翻页时间"},ae.a.createElement(j.SliderGroup,{step:1,max:50,value:n.time,onAfterChange:function(t){return e.onChange(t,"time")}}))),this.state.url&&ae.a.createElement(j.Mitem,{title:"临时预览二维码（10分钟有效）"},ae.a.createElement(la.a,{fgColor:"rgba(0,0,0,1)",bgColor:"rgba(255,255,255,1)",size:120,level:"Q",value:this.state.url})),ae.a.createElement("div",{"data-url":this.state.url},ae.a.createElement(Ve.Button,{size:"large",type:"primary",onClick:this.props.nextStep},"下一步"))))}}]),n}(re.Component);function ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var ma=function(e){Jr()(n,e);var t=ha(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).onChange=function(e,t){var n=r.props.editor,a=n.appData,o=n.setHistory;a[t]=e,r.forceUpdate(),o()},r.changeImg=function(){window.pubSubEditor.publish("h5ds.imageModal.show",(function(e){e.is_vip?r.props.editor.appData.vip_url=e.url:r.props.editor.appData.vip_url=void 0,r.onChange(e.url,"img")}))},r.toNext=function(){if(r.props.editor.options.vip)if(r.props.editor.options.checkVIPSource){var e=Object(Je.d)(r.props.editor.appData);r.props.editor.options.checkVIPSource(e,r.props.nextStep)}else r.props.nextStep();else r.props.nextStep()},r}return V()(n,[{key:"render",value:function(){var e=this,t=this.props.editor.appData;return ae.a.createElement("div",{className:"h5-publish-layout"},ae.a.createElement("div",{className:"h5-publish-phone"},ae.a.createElement("img",{style:{width:600,left:0},src:"https://cdn.h5ds.com/static/images/phonex-wx-bg-min.png",alt:"",className:"h5-publish-phonex-wx-bg"}),ae.a.createElement("div",{className:"h5-publish-phonex-wx-info"},ae.a.createElement("div",{className:"h5-publish-wx-info-name"},t.name),ae.a.createElement("img",{src:t.img,alt:""}),ae.a.createElement("div",{className:"h5-publish-wx-info-desc"},t.desc))),ae.a.createElement("div",{className:"h5-publish-options"},ae.a.createElement(j.Mitem,{title:"微信分享设置"},ae.a.createElement("div",{className:"h5-publish-wx"},ae.a.createElement("section",{className:"h5-publish-wx-img",onClick:this.changeImg},ae.a.createElement("img",{src:t.img,alt:""})),ae.a.createElement("section",{className:"h5-publish-wx-form"},ae.a.createElement("div",null,ae.a.createElement("span",null,"标题："),ae.a.createElement(Ve.Input,{value:t.name,onChange:function(t){return e.onChange(t.target.value,"name")}})),ae.a.createElement("div",null,ae.a.createElement("span",null,"描述："),ae.a.createElement(Ve.Input.TextArea,{value:t.desc,onChange:function(t){return e.onChange(t.target.value,"desc")}}))))),ae.a.createElement("div",null,ae.a.createElement(Ve.Button,{size:"large",onClick:this.props.prevStep},"上一步"),"   ",ae.a.createElement(Ve.Button,{size:"large",type:"primary",onClick:this.toNext},"下一步"))))}}]),n}(re.Component),ga=n(82),ya=n.n(ga),va=n(255),ba=n.n(va),wa=n(79);function xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Ea,_a=function(e){Jr()(r,e);var t,n=xa(r);function r(e){var t;return Y()(this,r),(t=n.call(this,e)).saveQrcodeImage=function(){ba()($(".h5-publish-qrcode-img canvas")[0],{name:"h5ds-qrcode",type:"png",quality:1})},t.downZIP=function(){var e=t.props.editor,n=e.options,r=e.appData,a=n.getUserInfo();n.vip&&!(null==a?void 0:a.vip_status)?$(document).trigger("openVip"):n.downPackage?n.downPackage(Object(wa.a)(),JSON.stringify(r)):alert("未配置下载参数downPackage")},t.state={url:null,status:0,type:"publish"},t.h5type=j.util.getUrlData("h5type"),t}return V()(r,[{key:"componentDidMount",value:(t=ue()(ce.a.mark((function e(){var t,n,r,a,o,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.editor,n=t.options,r=t.appData,a=Xe.a.getPidByData(r),o=Object.assign(j.util.cloneDeep(r),{plugins:a}),this.props.editor.updateHistoryList=j.util.randomID(),!n.publishApp){e.next=12;break}return e.next=8,n.publishApp({data:o,plugins:a,appId:n.appId,updateTime:+new Date});case 8:(i=e.sent)&&(console.warn("this.h5type",this.h5type),this.setState({type:i.type,status:1,url:"".concat(n.publishHost,"?").concat("template"===this.h5type?"templateId":"appId","=").concat(n.appId)})),e.next=13;break;case 12:console.error("未配置publishApp<Promise>");case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.url,n=e.status,r=e.type,a=this.props.editor.options;return ae.a.createElement("div",{className:"h5-publish-layout"},0===n&&ae.a.createElement("div",{className:"h5-publish-layout-100",style:{textAlign:"center",height:461,padding:200}},ae.a.createElement(Ve.Spin,{tip:"发布中..."})),1===n&&ae.a.createElement("div",{className:"h5-publish-layout-100"},"publish"===r?ae.a.createElement("div",{className:"h5-publish-tips"},ae.a.createElement("div",{className:"h5-publish-tips-img"},ae.a.createElement("img",{src:"https://cdn.h5ds.com/static/images/publish-success.png",alt:""})),ae.a.createElement("h1",{style:{fontSize:"24px"}},"应用已发布成功"),ae.a.createElement("p",null,"发布后可以通过二维码或者链接进行推广")):ae.a.createElement("div",{className:"h5-publish-tips"},ae.a.createElement("div",{className:"h5-publish-tips-img"},ae.a.createElement("img",{src:"https://cdn.h5ds.com/static/images/publish-wait.png",alt:""})),ae.a.createElement("h1",{style:{fontSize:"24px"}},"应用已提交审核"),ae.a.createElement("p",null,"审核通过后可以通过二维码或者链接进行推广")),ae.a.createElement("div",{className:"h5-publish-qrcode"},ae.a.createElement("div",{className:"h5-publish-qrcode-img"},t&&ae.a.createElement(la.a,{fgColor:"rgba(0,0,0,1)",bgColor:"rgba(255,255,255,1)",size:512,level:"Q",value:t})),ae.a.createElement("div",{className:"h5-publish-url"},t)),ae.a.createElement("div",{className:"h5-publish-btns"},"publish"===r&&ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(Ve.Button,{type:"primary",onClick:this.saveQrcodeImage},"下载二维码"),"       "),"publish"===r&&ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(Ve.Button,{onClick:function(){ya()(t),Ve.message.success("拷贝成功！")}},"拷贝链接地址"),"       "),a.downPackage&&ae.a.createElement(Ve.Button,{type:"primary",onClick:this.downZIP},"下载离线包"),ae.a.createElement(Ve.Button,{onClick:this.props.onCancel},"返回编辑"))),2===n&&ae.a.createElement("div",{className:"h5-publish-layout-100"},ae.a.createElement("div",{className:"h5-publish-tips"},ae.a.createElement("div",null,ae.a.createElement("img",{src:"https://cdn.h5ds.com/static/images/publish-wait.png",alt:""})),ae.a.createElement("h1",null,"应用已提交审核"),ae.a.createElement("p",null,"审核通过后即可正常访问")),ae.a.createElement("div",{className:"h5-publish-btns"},ae.a.createElement(Ve.Button,null,"返回编辑"))))}}]),r}(re.Component);function ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Sa=Wr("editor")(Ea=Rr(Ea=function(e){Jr()(n,e);var t=ka(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).setVisible=function(e){r.setState({visible:e,step:1})},r.handleOk=function(){},r.nextStep=function(){r.setState({step:r.state.step+1})},r.prevStep=function(){r.setState({step:r.state.step-1})},r.onCancel=function(){r.setVisible(!1)},r.previewApp=function(){$("#h5SaveApp").trigger("click"),r.setVisible(!0)},r.state={visible:!1,step:1},r}return V()(n,[{key:"render",value:function(){var e=this.state.step;return ae.a.createElement(ae.a.Fragment,null,ae.a.createElement("span",{onClick:this.previewApp,className:"h5-btn h5-header-publish-help"},ae.a.createElement("i",{className:"h5font ico-yulanfabu"}),ae.a.createElement("p",null,"预览/发布")),ae.a.createElement(Ve.Modal,{className:"ui-modal h5-publish-modal",footer:null,title:null,zIndex:999,visible:this.state.visible,onOk:this.handleOk,width:1200,style:{top:50},onCancel:this.onCancel},this.state.visible&&ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(ra,{value:e}),1===e?ae.a.createElement(fa,{prevStep:this.prevStep,nextStep:this.nextStep,visible:this.state.visible,editor:this.props.editor}):null,2===e?ae.a.createElement(ma,{prevStep:this.prevStep,nextStep:this.nextStep,visible:this.state.visible,editor:this.props.editor}):null,3===e?ae.a.createElement(_a,{onCancel:this.onCancel,visible:this.state.visible,editor:this.props.editor}):null)))}}]),n}(re.Component))||Ea)||Ea;n(283);function Oa(){var e=Object(re.useState)([]),t=te()(e,2),n=t[0],r=t[1],a=ae.a.createElement("div",{className:"h5ds-vipsource"},n.length?n.map((function(e){return ae.a.createElement("section",{key:e.keyid},"image"===e.ext&&ae.a.createElement("span",{className:"h5ds-vipsource-min",style:{backgroundImage:"url(".concat(e.url,")")}}),"sound"===e.ext&&ae.a.createElement("span",{className:"h5ds-vipsource-min"},ae.a.createElement("i",{className:"h5font ico-yinle"})),e.name,ae.a.createElement("span",{style:{fontSize:12}},"【",e.typeName,"】"))})):ae.a.createElement(Ve.Empty,{image:Ve.Empty.PRESENTED_IMAGE_SIMPLE}));return ae.a.createElement(Ve.Popover,{placement:"bottomRight",title:"项目中使用的VIP资源",content:a,trigger:"click",onVisibleChange:function(e){if(e){var t=Object(Je.d)(Rn.appData);r(t)}}},ae.a.createElement("span",{onClick:function(){},className:"h5-btn h5ds-vip-check"},ae.a.createElement("i",{className:"h5font ico-3dfanpai"}),ae.a.createElement("p",null,"VIP资源")))}function Ca(){var e=Object(re.useState)(!1),t=te()(e,2),n=t[0],r=t[1],a=function(){var e=ue()(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rn.options.saveApp({data:Rn.appData,appId:Rn.options.appId});case 2:location.reload(),Ve.message.success("清理成功！");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ae.a.createElement("section",{className:"h5-header-section"},Rn.options.vip&&ae.a.createElement(Oa,null),ae.a.createElement(Sa,null),ae.a.createElement(Ve.Popover,{overlayClassName:"h5-popover",onVisibleChange:r,content:ae.a.createElement("div",{className:"h5-header-submenus-setting"},ae.a.createElement(j.Item,{title:"PSD尺寸",titleWidth:70},ae.a.createElement(Ve.Radio.Group,{onChange:function(e){Rn.designScale=e.target.value},size:"small",defaultValue:Rn.designScale,buttonStyle:"solid"},ae.a.createElement(Ve.Radio.Button,{value:1},"1:1"),ae.a.createElement(Ve.Radio.Button,{value:2},"640px"),ae.a.createElement(Ve.Radio.Button,{value:2.25},"720px"),ae.a.createElement(Ve.Radio.Button,{value:2.34375},"750px"),ae.a.createElement(Ve.Radio.Button,{value:3.375},"1080px"))),ae.a.createElement(j.Item,{title:"屏幕模式",titleWidth:70},ae.a.createElement(Ve.Radio.Group,{onChange:function(e){return Rn.setOrientation(e.target.value)},size:"small",defaultValue:Rn.getOrientation(),buttonStyle:"solid"},ae.a.createElement(Ve.Radio.Button,{value:"portrait"},"竖屏"),ae.a.createElement(Ve.Radio.Button,{value:"landscape"},"横屏"))),ae.a.createElement(j.Item,{title:"设置标尺",titleWidth:70},ae.a.createElement(Ve.Switch,{defaultChecked:!0,onChange:function(e){Rn.ruleLine=e}})),ae.a.createElement(j.Item,{title:"切换主题",titleWidth:70},ae.a.createElement(Ve.Radio.Group,{onChange:function(e){Ge.setTheme(e.target.value),Ye.local.set("H5DS_WEB_THEME",e.target.value)},size:"small",defaultValue:Ge.getTheme(),buttonStyle:"solid"},ae.a.createElement(Ve.Radio.Button,{value:"default"},"默认主题"),ae.a.createElement(Ve.Radio.Button,{value:"dark"},"黑暗模式"))),ae.a.createElement(j.Item,{title:"清理缓存",titleWidth:70},ae.a.createElement(Ve.Button,{onClick:a,size:"small"},"确认清理"))),title:null,placement:"bottomRight",trigger:"click",visible:n},ae.a.createElement("span",{className:"h5-btn"},ae.a.createElement("i",{className:"h5font ico-shezhi"}),ae.a.createElement("p",null,"设置"))))}var Da=function(){return ae.a.createElement("div",{className:"h5-header"},ae.a.createElement(Ur,null),ae.a.createElement(Kr,{name:"H5DS.COM"}),ae.a.createElement(Ca,null))};n(284);var Pa,Ia=function(){var e=Object(re.useState)(!1),t=te()(e,2),n=t[0],r=t[1],a=ur((function(){return Rn})),o=function(){window.pubSubEditor.publish("h5ds.imageSource.show",function(){var e=ue()(ce.a.mark((function e(t,n){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rn.addLayerByPid("h5ds_img",function(){var e=ue()(ce.a.mark((function e(r){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.util.imgLazy(t.url);case 2:a=e.sent,r.crop=null,r.data.naturalWidth=a.naturalWidth,r.data.naturalHeight=a.naturalHeight,r.data.src=t.url,r.style.width=a.naturalWidth/Rn.designScale,r.style.height=a.naturalHeight/Rn.designScale,t.is_vip?r.vip_url=t.url:r.vip_url=void 0,n&&(r.uncenter=!0,r.style.top=n.y,r.style.left=n.x);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())};return ae.a.createElement("div",{className:"h5-sidebar"},ae.a.createElement(or,null,(function(){return ae.a.createElement("section",{className:"h5-top"},ae.a.createElement("span",{onClick:function(){Rn.showPanelName=!1,Ge.showTemplates=!Ge.showTemplates},className:qr()("h5-btn",{"h5-btn-active":!0===Ge.showTemplates})},ae.a.createElement("i",{className:"h5font ico-3dmoxing"}),ae.a.createElement("p",null,"模板")),ae.a.createElement("span",{onClick:function(){return Rn.showPanel("textSource")},className:qr()("h5-btn",{"h5-btn-active":"textSource"===a.showPanelName})},ae.a.createElement("i",{className:"h5font ico-wenzi"}),ae.a.createElement("p",null,"文本")),ae.a.createElement("span",{onClick:o,className:qr()("h5-btn",{"h5-btn-active":"imageSource"===a.showPanelName})},ae.a.createElement("i",{className:"h5font ico-tupian"}),ae.a.createElement("p",null,"图片")),ae.a.createElement("span",{onClick:function(){return Rn.showPanel("shapeSource")},className:qr()("h5-btn",{"h5-btn-active":"shapeSource"===a.showPanelName})},ae.a.createElement("i",{className:"h5font ico-chouti"}),ae.a.createElement("p",null,"形状")),ae.a.createElement("span",{onClick:function(){return Rn.showPanel("soundSource")},className:qr()("h5-btn",{"h5-btn-active":"soundSource"===a.showPanelName})},ae.a.createElement("i",{className:"h5font ico-yinpin"}),ae.a.createElement("p",null,"音频")),ae.a.createElement("span",{onClick:function(){return Rn.showPanel("videoSource")},className:qr()("h5-btn",{"h5-btn-active":"videoSource"===a.showPanelName})},ae.a.createElement("i",{className:"h5font ico-shipin"}),ae.a.createElement("p",null,"视频")),ae.a.createElement("span",{onClick:function(){return Rn.showPanel("pluginSource")},className:qr()("h5-btn",{"h5-btn-active":"pluginSource"===a.showPanelName})},ae.a.createElement("i",{className:"h5font ico-gengduo"}),ae.a.createElement("p",null,"更多")))})),ae.a.createElement("section",{className:"h5-bottom"},ae.a.createElement(Ve.Popover,{onVisibleChange:r,content:ae.a.createElement("ul",null,ae.a.createElement("li",null,"delete 删除"),ae.a.createElement("li",null,"ctrl+s 保存预览APP"),ae.a.createElement("li",null,"ctrl+c 复制图层"),ae.a.createElement("li",null,"ctrl+v 粘贴图层"),ae.a.createElement("li",null,"ctrl+z 撤销"),ae.a.createElement("li",null,"ctrl+y 恢复"),ae.a.createElement("li",null,"ctrl+y 恢复"),ae.a.createElement("li",null,"ctrl+p 播放动画"),ae.a.createElement("li",null,"ctrl+h 显示网格"),ae.a.createElement("li",null,"ctrl+g 合并图层"),ae.a.createElement("li",null,"ctrl+u 取消合并"),ae.a.createElement("li",null,"ctrl+上/下/左/右 大范围移动"),ae.a.createElement("li",null,"上/下/左/右 小范围移动")),title:null,placement:"rightBottom",trigger:"click",visible:n},ae.a.createElement("span",{className:"h5-btn"},ae.a.createElement("i",{title:"快捷键",className:"h5font ico-kuaijiejian"}))),ae.a.createElement("span",{className:"h5-btn"},ae.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"http://wpa.qq.com/msgrd?v=1&uin=".concat(Rn.options.qq,"&site=qq&menu=yes")},ae.a.createElement("i",{title:"在线客服",className:"h5font ico-kefu"})))))},Aa=(n(285),n(286),n(59)),ja=n.n(Aa);function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function La(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Ra=Wr("editor")(Pa=Rr(Pa=function(e){Jr()(n,e);var t=La(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).updateNavigatorPosition=function(){var e=r.props.editor,t=e.scale,n=e.setControl,a=r.props,o=a.viewSize,i=a.selectPageData;r.setState({navigatorPosition:{left:(o.width-i.style.width*t)/2,top:(o.height-i.style.height*t)/2}},n)},r.debounceUpdateNavigatorPosition=j.util.debounce(r.updateNavigatorPosition,100),r.resetMXMY=function(e,t){var n=r.props,a=n.viewSize,o=n.selectPageData,i=n.editor,s=o.style.width/r.navigatorCanvasWidth*i.scale,c=((a.width-o.style.width)/2-t)/s,l=((a.height-o.style.height)/2-e)/s;r.limitLeft>0&&Math.abs(c)<=r.limitLeft||(c=c>0?r.limitLeft:-r.limitLeft),r.limitTop>0&&Math.abs(l)<=r.limitTop||(l=l>0?r.limitTop:-r.limitTop),r.transformArray=[c,l],r.setState({transform:"translate(".concat(c,"px, ").concat(l,"px)")})},r.onMouseDown=function(e){e.stopPropagation();var t=e.pageX,n=e.pageY,a=r.props,o=a.viewSize,i=a.selectPageData,s=r.props.editor.scale,c=i.style.width/r.navigatorCanvasWidth*s,l=r.transformArray||[0,0],u=te()(l,2),d=u[0],p=u[1],f=(o.width-i.style.width)/2,h=(o.height-i.style.height)/2,m=$(".h5-canvas-view");$(document).on(r.drag.move,(function(e){e.stopPropagation(),r.drag.touch&&(e=r.drag.touchEvent(e));var a=e.pageX-t+d,s=e.pageY-n+p;r.limitLeft>0&&Math.abs(a)<=r.limitLeft||(a=a>0?r.limitLeft:-r.limitLeft),r.limitTop>0&&Math.abs(s)<=r.limitTop||(s=s>0?r.limitTop:-r.limitTop),r.transformArray=[a,s],r.setState({transform:"translate(".concat(a,"px, ").concat(s,"px)")}),f=(o.width-i.style.width)/2-a*c,h=(o.height-i.style.height)/2-s*c,m.css({left:f,top:h})})).on(r.drag.end,(function(){r.props.editor.setContainerPosition(f,h),$(document).off(r.drag.move),$(document).off(r.drag.end)}))},r.setLimit=function(){var e=r.props.selectPageData,t=r.props.editor.scale,n=e.style.width/r.navigatorCanvasWidth,a=r.state.navigatorPosition,o=a.top,i=a.left,s=r.extraSize/n;o=-o/n/t+s,i=-i/n/t+s,r.limitTop=o>0?o:0,r.limitLeft=i>0?i:0},r.onMousewheel=function(e,t){var n=r.props.editor.scale;(n=e>0?j.util.toFixed(n-.1,1):j.util.toFixed(n+.1,1))<.1||n>4||(r.toCenter(n,t),r.updateNavigatorPosition())},r.toCenter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=r.props,a=n.viewSize,o=n.selectPageData;r.props.editor.setViewScale(e,t),r.props.editor.setContainerPosition((a.width-o.style.width)/2,(a.height-o.style.height)/2)},r.drag=O(),r.limitTop=0,r.limitLeft=0,r.transformArray=null,r.extraSize=100,r.navigatorCanvasWidth=40,r.state={navigatorPosition:{top:0,left:0},transform:"translate(0px, 0px)"},r.prevScale=e.editor.scale,r.prevViewSize=Na({},e.viewSize),r}return V()(n,[{key:"componentDidMount",value:function(){var e=this;$(".fps-navigator").on("mousewheel",(function(t){t.stopPropagation(),e.onMousewheel(t.originalEvent.deltaY,e.setLimit),e.transformArray=null,e.setState({transform:"translate(0px, 0px)"})})),$(window).on("h5ds.tocenter",(function(){e.toCenter()})),this.updateNavigatorPosition();var t=this.props.viewSize;this.prevViewSize=Na({},t);var n=this.props.selectPageData;this.props.editor.setContainerPosition((t.width-n.style.width)/2,(t.height-n.style.height)/2)}},{key:"componentWillUnmount",value:function(){$(".fps-navigator").off("mousewheel"),$(window).off("h5ds.tocenter")}},{key:"render",value:function(){var e=this.props,t=e.viewSize,n=e.selectPageData,r=this.props.editor,a=r.scale;r.appData,r.plugins;ja()(t,this.prevViewSize)&&a===this.prevScale||(this.prevViewSize=t,this.prevScale=a,this.debounceUpdateNavigatorPosition());var o=n.style.width/this.navigatorCanvasWidth,i=n.style.height/o,s=this.extraSize/o,c=this.state.navigatorPosition,l=c.top,u=c.left;return this.setLimit(),ae.a.createElement("div",{style:{width:this.navigatorCanvasWidth+2*s,height:i+2*s},className:"fps-navigator","data-scale":o},ae.a.createElement("div",{className:"fps-nav-control",onMouseDown:this.onMouseDown,style:{top:-l/o/a+s,left:-u/o/a+s,width:t.width/o/a,height:t.height/o/a,transform:this.state.transform}}),ae.a.createElement("div",{style:{width:this.navigatorCanvasWidth,height:i,top:s,left:s},className:"fps-nav-canvas",id:"fps_nav_canvas"}))}}]),n}(re.Component))||Pa)||Pa;n(287);function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ba(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Ha=function(e){Jr()(n,e);var t=Ba(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).filterLine=function(){var e=[];r.state.guides.forEach((function(t){"col"===t.type?t.style.left>=0&&t.style.left<=r.props.canvasWidth&&e.push(t):t.style.top>=0&&t.style.top<=r.props.canvasHeight&&e.push(t)})),r.setState({guides:e})},r.guidesMousedown=function(e,t){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var n=e.pageX,a=e.pageY,o=t.style.left,i=t.style.top,s=r.state.guides;$(document).on("mousemove.h5ds.ruler.line",(function(e){"col"===t.type?t.style.left=e.pageX-n+o:t.style.top=e.pageY-a+i,r.setState({guides:s})})).on("mouseup.h5ds.rulerline",(function(){if("row"===t.type){var e=$(".h5-canvas-view").position().left;t.value=(t.style.left-e)/r.props.phoneScale}else{var n=$(".h5-canvas-view").position().top;t.value=(t.style.top-n)/r.props.phoneScale}r.filterLine(),$(document).off("mousemove.h5ds.ruler.line mouseup.h5ds.ruler.line")}))},r.rowMousedown=function(e){e.stopPropagation();var t={id:j.util.randomID(),type:"row",style:{left:0,top:0,height:1,width:$(".h5-canvas").width()}},n=r.state.guides;n.push(t);var a=e.pageY;$(document).on("mousemove.h5ds.ruler",(function(e){t.style.top=e.pageY-a,r.setState({guides:n})})).on("mouseup.h5ds.ruler",(function(){var e=$(".h5-canvas-view").position().top;t.value=(t.style.top-e)/r.props.phoneScale,r.filterLine(),$(document).off("mousemove.h5ds.ruler mouseup.h5ds.ruler")}))},r.colMousedown=function(e){e.stopPropagation();var t={id:j.util.randomID(),type:"col",style:{left:0,top:0,width:1,height:2e3}},n=r.state.guides;n.push(t);var a=e.pageX,o=$(".h5-canvas-view").position().left;$(document).on("mousemove.h5ds.ruler",(function(e){t.style.left=e.pageX-a,r.setState({guides:n})})).on("mouseup.h5ds.ruler",(function(){t.value=(t.style.left-o)/r.props.phoneScale,r.filterLine(),$(document).off("mousemove.h5ds.ruler mouseup.h5ds.ruler")}))},r.state={guides:[]},r}return V()(n,[{key:"componentDidMount",value:function(){var e=this;$(document).on("mousedown.h5ds.h5dsRulerCol","#h5dsRulerCol",this.colMousedown),$(document).on("mousedown.h5ds.h5dsRulerRow","#h5dsRulerRow",this.rowMousedown),window.pubSubEditor.subscribe("h5ds.ruler.drawline",(function(t){if(e.data===JSON.stringify(t))return!1;e.data=JSON.stringify(t);var n=t.type,r=t.value,a=t.phoneScale,o=e.state.guides;o.forEach((function(e){"col"===n&&"row"===e.type?e.style.top=r+e.value*a:"row"===n&&"col"===e.type&&(e.style.left=r+e.value*a)})),e.setState({guides:o})}))}},{key:"componentWillUnmount",value:function(){$(document).off("mousedown.h5ds.h5dsRulerCol mousedown.h5ds.h5dsRulerRow"),window.pubSubEditor.unsubscribe("h5ds.ruler.drawline")}},{key:"render",value:function(){var e=this;return ae.a.createElement(ae.a.Fragment,null,this.state.guides.map((function(t){return ae.a.createElement("li",{onMouseDown:function(n){return e.guidesMousedown(n,t)},className:"h5ds-ruler-guides h5ds-ruler-guides-"+t.type,key:t.id,style:za({},t.style)})})))}}]),n}(re.Component);function Fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Wa=function(e){Jr()(n,e);var t=Fa(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).drawLine=function(e,t,n,a,o){var i=r.props.phoneScale;if(o=parseInt(o,10),window.pubSubEditor.publish("h5ds.ruler.drawline",{type:a,value:o,phoneScale:i}),e?e.clearRect(0,0,n.width,n.height):(e=t.getContext("2d")).font="9px normal",e.strokeStyle="#748392",e.fillStyle="#748392","row"===a){var s=parseInt((n.width-o)/r.calibration,10);if(s<0)return;new Array(s||0).fill(1).forEach((function(t,n){var a=n*r.calibration+.5;e.beginPath(),e.moveTo(a+o,0),e.lineTo(a+o,n%r.eachWidth==0?r.maxLine:r.minLine),e.stroke(),e.closePath(),n%r.eachWidth==0&&e.fillText(parseInt(n*r.calibration/i,10),a+o,r.lineWidth-4),n<o/r.calibration&&0!==n&&(e.beginPath(),e.moveTo(o-a,0),e.lineTo(o-a,n%r.eachWidth==0?r.maxLine:r.minLine),e.stroke(),e.closePath(),n%r.eachWidth==0&&e.fillText(parseInt(-n*r.calibration/i,10),o-a,r.lineWidth-4))}))}else{var c=parseInt((n.height-o)/r.calibration,10)+500;if(c<0)return;new Array(c||0).fill(1).forEach((function(t,n){var a=n*r.calibration+.5;e.beginPath(),e.moveTo(0,a+o),e.lineTo(n%r.eachWidth==0?r.maxLine:r.minLine,a+o),e.stroke(),e.closePath(),n%r.eachWidth==0&&(e.save(),e.translate(r.lineWidth-10,a+o),e.rotate(Math.PI/2),e.fillText(parseInt(n*r.calibration/i,10),0,0),e.restore()),n<o/r.calibration&&0!==n&&(e.beginPath(),e.moveTo(0,o-a),e.lineTo(n%r.eachWidth==0?r.maxLine:r.minLine,o-a),e.stroke(),e.closePath(),n%r.eachWidth==0&&(e.save(),e.translate(r.lineWidth-10,o-a),e.rotate(Math.PI/2),e.fillText(parseInt(-n*r.calibration/i),0,0),e.restore()))}))}return e},r.drawRowLine=function(e,t){r.rowCtx=r.drawLine(r.rowCtx,r.rowRef,{width:t,height:r.lineWidth},"row",e)},r.drawColLine=function(e,t){r.colCtx=r.drawLine(r.colCtx,r.colRef,{width:r.lineWidth,height:t},"col",e)},r.lineWidth=24,r.eachWidth=5,r.size=10,r.minLine=5,r.maxLine=12,r.calibration=r.size*e.phoneScale,r}return V()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.canvasHeight,r=t.canvasWidth,a=t.phoneScale,o=t.top,i=t.left;this.calibration=this.size*a,this.drawRowLine(i,r),this.drawColLine(o,n),window.pubSubEditor.subscribe("h5ds.rulerline.position",(function(t){t.left&&e.drawRowLine(t.left,r),t.top&&e.drawColLine(t.top,n)}))}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.canvasHeight,n=e.canvasWidth,r=e.phoneScale,a=e.top,o=e.left;this.size=1/r*10,this.calibration=this.size*r,this.drawRowLine(o,n),this.drawColLine(a,t)}},{key:"componentWillUnmount",value:function(){window.pubSubEditor.unsubscribe("h5ds.rulerline.position")}},{key:"render",value:function(){var e=this,t=this.props,n=t.canvasHeight,r=t.canvasWidth,a=t.phoneScale;return ae.a.createElement("div",{className:"h5ds-ruler-line"},ae.a.createElement("canvas",{id:"h5dsRulerCol",ref:function(t){return e.colRef=t},width:this.lineWidth,height:n}),ae.a.createElement("canvas",{id:"h5dsRulerRow",ref:function(t){return e.rowRef=t},width:r,height:this.lineWidth}),ae.a.createElement(Ha,{canvasHeight:n,canvasWidth:r,phoneScale:a}))}}]),n}(re.Component);n(288);var $a=function(e){var t=e.height,n=e.width,r=e.scale,a=void 0===r?1:r,o=e.changeSize,i=e.changeSizeEnd,s=Object(re.useState)(t),c=te()(s,2),l=c[0],u=c[1],d=Object(re.useState)(n),p=te()(d,2),f=p[0],h=p[1],m=Rn.getOrientation();return ae.a.createElement("div",{onMouseDown:"portrait"===m?function(e){e.stopPropagation();var n=e.pageY,r=l;$(document).on("mousemove.h5ds.setPageHei",(function(e){(r=parseInt(t+(e.pageY-n)/a,10))<514&&(r=514),h(r),o(r)})).on("mouseup.h5ds.setPageHei",(function(){i(r),$(document).off("mousemove.h5ds.setPageHei mouseup.h5ds.setPageHei")}))}:function(e){e.stopPropagation(),e.stopPropagation();var t=e.pageX,r=l;$(document).on("mousemove.h5ds.setPageHei",(function(e){(r=parseInt(n+(e.pageX-t)/a,10))<514&&(r=514),u(r),o(r)})).on("mouseup.h5ds.setPageHei",(function(){i(r),$(document).off("mousemove.h5ds.setPageHei mouseup.h5ds.setPageHei")}))},className:qr()("h5-set-container-size","h5-set-container-size-".concat(m))},ae.a.createElement("i",{className:"h5font ico-shangxialashen"}),"portrait"===m?ae.a.createElement("p",null,l,"px"):ae.a.createElement("p",null,f,"px"))};n(289);var Ya,Xa=function(e){var t=e.height,n=e.width,r=Rn.getOrientation(),a="portrait"===r?t:n,o="portrait"===r?n/320:1;return ae.a.createElement("div",{className:"h5ds-canvas-lines",style:{height:t,width:320,transform:"rotate(".concat("portrait"===r?0:-90,"deg) scale(").concat(o,")"),transformOrigin:"portrait"===r?"0px 0px":"center"}},ae.a.createElement("div",{className:"h5ds-canvas-lines-iphone678"}),ae.a.createElement("div",{style:{top:(a-640)/2<0?(a-640)/2:0},className:"h5ds-canvas-lines-iphoneX"}))},Va=n(20);function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Ka,Za=Wr("editor","layout")(Ya=Rr(Ya=function(e){Jr()(n,e);var t=qa(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).initControlCallback=function(e){var t=r.props.editor;if(t.showAnimateItemId=null,!(t.selectMultipleLayerKeyIdsArray.length>1)){r.$nowlayer=t.getLayerDOM();var n=t.getPageDOM().find(".h5ds-control");if(n[0]&&(n.remove(),n=null),r.$nowlayer&&r.$nowlayer[0])if(r.layer=t.getLayerData(),r.layer){var a=t.plugins.pluginsKey[r.layer.pid];if(a){var o=a.editorConfig||{};if(t.control=r.$nowlayer.data("layerStyle",Ga({},r.layer.style)).data("layerLock",r.layer.set.lock).control({lockWideHigh:r.layer.set.lockWideHigh,setHeight:!1!==o.height,setWidth:!1!==o.width,movex:!1!==o.top,movey:!1!==o.left,rotate:!1!==o.rotate,autosize:!1!==o.size,fixedsize:!1!==o.zoom}),e){var i=e.pageX,s=e.pageY;t.control.controlStartFun(null,{event:{pageX:i,pageY:s},target:$(".h5ds-control")[0],lock:r.layer.set.lock})}r.$nowlayer.off("controlStart.h5ds.canvas").on("controlStart.h5ds.canvas",(function(e,t){if(!t)return!1;r.$elementInner||(r.$elementInner=r.$nowlayer.children(".element").children(".element-flip").children());var n=r.$elementInner.width(),a=r.$elementInner.height();r.startWidth=r.$nowlayer.width(),r.startHeight=r.$nowlayer.height(),r.startScale=[r.startWidth/n,r.startHeight/a]})),r.$nowlayer.off("controlResizeTick.h5ds.canvas").on("controlResizeTick.h5ds.canvas",(function(e,t){if(!t)return!1;["h5ds_img"].includes(r.layer.pid)&&r.$elementInner.css({transform:"scale(".concat(t.width/r.startWidth*r.startScale[0],", ").concat(t.height/r.startHeight*r.startScale[1],")")}),["h5ds_combin"].includes(r.layer.pid)&&r.$elementInner.children().css({transform:"scale(".concat(t.width/r.layer.originstyle.width,", ").concat(t.height/r.layer.originstyle.height,")")})})),r.$nowlayer.off("change.h5ds.canvas").on("change.h5ds.canvas",(function(e,n){if(r.$elementInner&&(n.transform||r.$elementInner.css({transform:""}),r.$elementInner=null),!n)return!1;if(void 0!==n.top&&void 0!==n.left&&(isNaN(n.top)||isNaN(n.left)))return!1;if(!r.layer)return null;for(var a in n)switch(a){case"left":r.layer.style.left=n[a];break;case"top":r.layer.style.top=n[a];break;case"width":r.layer.style.width=n[a];break;case"height":r.layer.style.height=n[a];break;case"transform":r.layer.style.transform=n.transform}t.updateCanvas(),t.forceUpdateSet("positionSize"),t.controlChange(Ga({},r.layer.style))}))}else console.error("插件异常",r.layer.pid)}else console.error("图层数据异常");else console.warn("未选择layer")}},r.clickControl=function(e,t,n){t.stopPropagation();var a=r.props.editor,o=a.getLayersDOM;a.showAnimateItemId=null,t&&t.ctrlKey?Object(ye.transaction)((function(){if(a.selectMultipleLayerKeyIdsArray.includes(n)){var e=a.selectMultipleLayerKeyIdsArray.findIndex((function(e){return e===n}));a.selectMultipleLayerKeyIdsArray.splice(e,1)}else a.selectMultipleLayerKeyIdsArray.push(n);a.selectMultipleLayerKeyIdsArray=Q()(new Set(a.selectMultipleLayerKeyIdsArray)),function(e,t){var n=parseFloat($(".h5-canvas-view").transform("scale"))||1,r='<div class="h5ds-control">\n    <span class="h5ds-control-border1" style="border: '.concat(1/n,'px solid #fff;"></span>\n\t\t<span class="h5ds-control-border2" style="border: ').concat(1/n,'px dashed #000;"></span>\n  </div>');$(".h5ds-control").remove(),e().each((function(){var e=$(this);t.includes(e.data("keyid"))&&(e.find(".h5ds-control")[0]||e.append(r))}))}(o,a.selectMultipleLayerKeyIdsArray)})):$(t.currentTarget).find(".h5ds-control")[0]||n!==a.selectMultipleLayerKeyIdsArray[0]&&(a.selectMultipleLayerKeyIdsArray=[n],r.initControlCallback({pageX:t.pageX,pageY:t.pageY}))},r.initControlEvent=function(){$(document).on("mousedown.h5ds.destoryControl",(function(e){$(e.target).closest(".h5ds-text-temp-textarea")[0]||$(e.target).closest(".layer")[0]||$(e.target).closest(".h5-canvas-start-draw-line")[0]||$(e.target).closest(".fps-navigator")[0]||!$(e.target).closest(".h5-canvas")[0]||window.pubSubEditor.publish("h5ds.destoryControl")})),window.pubSubEditor.subscribe("h5ds.destoryControl",(function(e){r.props.editor.control&&(r.props.editor.control.distory(),r.props.editor.control=null),1!==r.props.editor.selectMultipleLayerKeyIdsArray.length&&$("#h5CanvasPreview").find(".h5ds-control").remove(),Object(ye.transaction)((function(){r.props.editor.$control=null,r.props.editor.selectZimuKeyid=null,r.props.editor.drawPathAnimate=!1,r.props.editor.settingType=null,r.props.editor.showAnimateItemId=null,r.props.editor.showEventItemId=null,r.props.editor.selectMultipleLayerKeyIdsArray=[]}))})),window.pubSubEditor.subscribe("h5ds.initControl",(function(){r.initControlCallback()}))},r.changeMusic=function(){r.props.editor.setSettingType("appBackgroundMusic")},r.pageRef=ae.a.createRef(),r}return V()(n,[{key:"componentDidMount",value:function(){var e=this.props.editor;Ke(e,(function(t){e.selectMultipleLayerKeyIdsArray=Q()(t)}));var t=e.getLayersDOM;!function(e,t,n){$(".h5-canvas-preview").on("mousedown.h5ds.group",".h5ds-control",(function(r){var a={},o=Q()(n.selectMultipleLayerKeyIdsArray),i=parseFloat($(".h5-canvas-view").transform("scale"))||1;if(!(o.length<=1)){r.stopPropagation();var s=e().layers,c=t();s.forEach((function(e){o.includes(e.keyid)&&(a[e.keyid]={x:parseInt(e.style.left,10),y:parseInt(e.style.top,10)})})),$(document).on("mousemove.h5ds.group",(function(e){e.stopPropagation();var t=e.pageX-r.pageX,n=e.pageY-r.pageY;o.forEach((function(e){c.each((function(){e===$(this).data("keyid")&&$(this).css({left:a[e].x+t/i,top:a[e].y+n/i})}))}))})).on("mouseup.h5ds.group",(function(e){var t=e.pageX-r.pageX,c=e.pageY-r.pageY;s.forEach((function(e){o.includes(e.keyid)&&(e.style.left=a[e.keyid].x+t/i,e.style.top=a[e.keyid].y+c/i)})),$(document).off("mousemove.h5ds.group mouseup.h5ds.group"),n.setHistory()}))}}))}(e.getSelectPageData,t,e),this.initControlEvent()}},{key:"componentWillUnmount",value:function(){$(".h5-canvas").off("mousedown.h5ds.layerGroup"),$(".h5-canvas-preview").off("mousedown.h5ds.group"),window.pubSubEditor.unsubscribe("h5ds.destoryControl"),window.pubSubEditor.unsubscribe("h5ds.initControl"),$(document).off("mousedown.h5ds.destoryControl"),this.$nowlayer&&(this.$nowlayer.off("change.h5ds.canvas"),this.$nowlayer.off("controlResizeTick.h5ds.canvas"),this.$nowlayer.off("controlStart.h5ds.canvas"))}},{key:"render",value:function(){var e=this.props.editor,t=e.getPageData,n=e.getFixedData,r=e.getSelectPageIndex,a=e.getPopupData,o=e.plugins,i=e.pageTab,s=e.playAnimateKey,c=e.appData,l=this.props.selectPageData,u=n(0),d=n(1),p=a(),f=t(),h=r();if(!f)return null;var m=null;return"popup"!==i?m=ae.a.createElement(Va.d,{orientation:c.orientation,ref:this.pageRef,isRenderThis:!0,initControl:this.clickControl,plugins:o,data:f,renderIn:ie.f.RENDER_IN_CANVAS,windowStyle:{width:f.style.width,height:f.style.height}}):"popup"===i&&p&&(m=ae.a.createElement(Va.e,{orientation:c.orientation,key:p.keyid,initControl:this.clickControl,plugins:o,isRenderThis:!0,data:p,scale:1,renderIn:ie.f.RENDER_IN_CANVAS,windowStyle:{width:ie.b.appWidth,height:ie.b.appHeight}})),ae.a.createElement("div",{id:"h5CanvasPreview",className:"h5-canvas-preview",style:Object.assign({},Ga({},c.style),Ga({},f.style),{height:l.style.height,width:l.style.width})},ae.a.createElement(ae.a.Fragment,{key:s},!c.music.disabled&&ae.a.createElement(Va.f,c.music),ae.a.createElement("div",{className:qr()("h5-fixed0-preview",{"h5-canvas-preview-noevent":"fixed"!==i||0!==h}),id:"h5Fixed0Preview"},ae.a.createElement(Va.a,{orientation:c.orientation,initControl:this.clickControl,plugins:o,isRenderThis:!0,data:u,renderIn:ie.f.RENDER_IN_CANVAS,windowStyle:{width:u.style.width,height:u.style.height}})),ae.a.createElement("div",{className:qr()("h5-page-preview",{"h5-canvas-preview-noevent":"fixed"===i,"h5-canvas-preview-popup":"popup"===i}),id:"h5PagePreview"},m),ae.a.createElement("div",{className:qr()("h5-fixed1-preview",{"h5-canvas-preview-noevent":"fixed"!==i||1!==h}),id:"h5Fixed1Preview"},ae.a.createElement(Va.a,{orientation:c.orientation,initControl:this.clickControl,plugins:o,isRenderThis:!0,data:d,renderIn:ie.f.RENDER_IN_CANVAS,windowStyle:{width:d.style.width,height:d.style.height}}))))}}]),n}(re.Component))||Ya)||Ya;n(290);function Ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Qa,eo=Wr("editor")(Ka=Rr(Ka=function(e){Jr()(n,e);var t=Ja(n);function n(){return Y()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){var e=this.props,t=e.width,n=void 0===t?0:t,r=e.height,a=void 0===r?0:r,o=this.props.editor.gridOption,i=o.gridSize,s=o.gridAdsorb,c=o.show;return ae.a.createElement("div",{className:qr()("h5ds-grid","h5ds-js-grid",{"h5ds-grid-show":c}),"data-adsorb":s,"data-size":i},ae.a.createElement("ul",{className:"h5ds-grid-row"},new Array(a||0).fill(1).map((function(e,t){return ae.a.createElement("li",{key:t,style:{top:i*t}})}))),ae.a.createElement("ul",{className:"h5ds-grid-col"},new Array(n||0).fill(1).map((function(e,t){return ae.a.createElement("li",{key:t,style:{left:i*t}})}))))}}]),n}(re.Component))||Ka)||Ka;function to(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var no,ro=Wr("editor","layout")(Qa=Rr(Qa=function(e){Jr()(n,e);var t=to(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).contextMenuAction=function(t){var n=e.props.editor,r=n.getSelectLayerIndex,a=n.exChangeLayer,o=n.getSelectPageData,i=n.getSelectLayersData,s=n.updateCanvas,c=n.getLayersDOM,l=n.resetLayerDataKeyid,u=n.deleteLayer,d=r(),p=o();if(p)switch(t){case"zindex-top":0===d?Ve.message.warn("已经在最顶层了"):a(d,0);break;case"zindex-bottom":d===p.layers.length-1?Ve.message.warn("已经在最底层了"):a(d,p.layers.length-1);break;case"zindex-prev":0===d?Ve.message.warn("已经在最顶层了"):a(d,d-1);break;case"zindex-next":d===p.layers.length-1?Ve.message.warn("已经在最底层了"):a(d,d+1);break;case"layer-copy":var f=i();f?(e.props.editor.copyLayersData=j.util.cloneDeep(f),Ye.local.set("h5ds-copy-data",f),Ve.message.success("图层数据已拷贝")):Ve.message.error("请先选择图层");break;case"layer-paste":var h=e.props.editor.copyLayersData;if(h=j.util.cloneDeep(h)||Ye.local.get("h5ds-copy-data"),Ye.local.set("h5ds-copy-data",""),!h)return void Ve.message.error("请先复制图层数据");h.forEach((function(e){l(e)})),p.layers=[].concat(Q()(h),Q()(p.layers)),s(),e.props.layout.updateComponent("timeline"),e.props.editor.selectMultipleLayerKeyIdsArray=h.map((function(e){return e.keyid})),setTimeout((function(){qe(h.map((function(e){return e.keyid})),c)}),0);break;case"layer-delete":u();break;case"app-save":$("#h5SaveApp").trigger("click");break;case"layer-combin":e.props.editor.combinLayers();break;case"layer-uncombin":e.props.editor.uncombinLayers();break;case"animate-copy":var m=i();if(1!==m.length)Ve.message.error("只能选择一个图层的动画进行拷贝");else{if(0===m[0].animate.length)return void Ve.message.error("没有动画可以拷贝");e.props.editor.copyAnimateData=j.util.cloneDeep(m[0].animate),Ve.message.success("动画拷贝成功！")}break;case"animate-paste":var g=i(),y=e.props.editor.copyAnimateData;if(!y)return void Ve.message.error("请先拷贝动画");g.forEach((function(e){var t=j.util.cloneDeep(y);t.keyid=j.util.randomID(),e.animate=t})),s(),e.props.layout.updateComponent("timeline")}else Ve.message.error("数据异常")},e}return V()(n,[{key:"shortcuts",value:function(){var e=this;$(document).on("keydown.shortcuts",(function(t){var n=(t=window.event||t).keyCode;if(0===$("input:focus").length&&0===$("textarea:focus").length&&0===$('[contenteditable="true"]:focus').length){var r=j.util.getPlatform();if(("Win"===r&&t.ctrlKey||"Mac"===r&&t.metaKey)&&-1!==[83,90,89,189,187,80,75,71,72,67,85,86].indexOf(n))switch(t.preventDefault(),t.stopPropagation(),n){case 83:e.contextMenuAction("app-save");break;case 90:e.props.editor.undo();break;case 89:e.props.editor.redo();break;case 80:e.props.editor.playAnimate();break;case 71:e.contextMenuAction("layer-combin");break;case 85:e.contextMenuAction("layer-umcombin");break;case 86:e.contextMenuAction("layer-paste");break;case 67:e.contextMenuAction("layer-copy")}else{if(46===n)return t.preventDefault(),void e.contextMenuAction("layer-delete");if(-1===[38,40,37,39].indexOf(n));else{t.preventDefault(),t.stopPropagation();var a=1;t.shiftKey&&(a=20);var o=e.props.editor.getSelectLayersData();switch(n){case 38:o.forEach((function(e){e.style.top+=-a}));break;case 37:o.forEach((function(e){e.style.left+=-a}));break;case 39:o.forEach((function(e){e.style.left+=a}));break;case 40:o.forEach((function(e){e.style.top+=a}))}e.props.editor.updateCanvas()}}}}))}},{key:"componentDidMount",value:function(){var e=this,t=$(".h5-canvas");t.contextMenu({selector:".h5ds-control",autoHide:!0,zIndex:2e3,items:$.contextMenu.fromMenu($("#H5LayerContextMenu")),build:function(){setTimeout((function(){var t=e.props.editor,n=t.selectMultipleLayerKeyIdsArray,r=t.getLayerData,a=$(".context-menu-rootMenuData").find(".context-menu-item");if(n.length>1)[0,1,2,3,7,9,10].forEach((function(e){a.eq(e).addClass("h5-contextmenu-disable")}));else{var o=[8];"h5ds_combin"!==r().pid&&o.push(9),o.forEach((function(e){a.eq(e).addClass("h5-contextmenu-disable")}))}$(".context-menu-rootMenuData")}),10)}}),t[0].oncontextmenu=function(){return!1},$("body").on("click.contextmenu_item",".h5-contextmenu-item",(function(t){var n=$(t.currentTarget).data("action");e.contextMenuAction(n)})),this.shortcuts()}},{key:"componentWillUnmount",value:function(){$("body").off("click.contextmenu_item"),$.contextMenu("destroy"),$(document).off("keydown.shortcuts")}},{key:"render",value:function(){return ae.a.createElement("ul",{id:"H5LayerContextMenu",className:"h5-contextmenu"},ae.a.createElement("li",{key:"0",className:"h5-contextmenu-item","data-action":"zindex-top"},ae.a.createElement("i",{className:"h5font ico-dingceng"}),"置顶"),ae.a.createElement("li",{key:"1",className:"h5-contextmenu-item","data-action":"zindex-bottom"},ae.a.createElement("i",{className:"h5font ico-diceng"}),"置底"),ae.a.createElement("li",{key:"2",className:"h5-contextmenu-item","data-action":"zindex-prev"},ae.a.createElement("i",{className:"h5font ico-shangyiyiceng"}),"上移一层"),ae.a.createElement("li",{key:"3",className:"h5-contextmenu-item","data-action":"zindex-next"},ae.a.createElement("i",{className:"h5font ico-xiayiyiceng"}),"下移一层"),ae.a.createElement("li",{key:"4",className:"h5-contextmenu-item","data-action":"layer-copy"},ae.a.createElement("i",{className:"h5font ico-fuzhi"}),"复制图层"),ae.a.createElement("li",{key:"5",className:"h5-contextmenu-item","data-action":"layer-paste"},ae.a.createElement("i",{className:"h5font ico-zhantie"}),"粘贴图层"),ae.a.createElement("li",{key:"6",className:"h5-contextmenu-item","data-action":"layer-delete"},ae.a.createElement("i",{className:"h5font ico-shanchu"}),"删除图层"),ae.a.createElement("li",{key:"7",className:"h5-contextmenu-item","data-action":"layer-save"},ae.a.createElement("i",{className:"h5font ico-baocun"}),"保存图层"),ae.a.createElement("li",{key:"8",className:"h5-contextmenu-item","data-action":"layer-combin"},ae.a.createElement("i",{className:"h5font ico-zuhe"}),"合并图层"),ae.a.createElement("li",{key:"9",className:"h5-contextmenu-item","data-action":"layer-uncombin"},ae.a.createElement("i",{className:"h5font ico-da-san"}),"打散图层"),ae.a.createElement("li",{key:"10",className:"h5-contextmenu-item","data-action":"animate-copy"},ae.a.createElement("i",{className:"h5font ico-csstexiao"}),"拷贝动画"),ae.a.createElement("li",{key:"11",className:"h5-contextmenu-item","data-action":"animate-paste"},ae.a.createElement("i",{className:"h5font ico-donghua"}),"粘贴动画"))}}]),n}(re.Component))||Qa)||Qa;n(291);function ao(e){var t=e.children,n=Object(re.useState)({x:0,y:0}),r=te()(n,2),a=r[0],o=r[1];return Bn.a.createPortal(ae.a.createElement(Vr.a,{axis:"y",position:a,handle:".h5-draw-path-title",onDrag:function(e,t){return o({x:t.x,y:t.y})},bounds:"#h5Layout"},ae.a.createElement("div",{className:"h5-draw-path-box"},ae.a.createElement("div",{className:"h5-draw-path-title"},"帧动画设置"),t)),document.getElementById("h5Layout"))}function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function so(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var co,lo=Wr("editor","layout")(no=Rr(no=function(e){Jr()(n,e);var t=so(n);function n(e){var r;Y()(this,n),(r=t.call(this,e)).getStartPoint=function(e){var t=r.props.editor.scale,n=$(".h5-canvas-view"),a=n.offset().left,o=n.offset().top;return{x:(e.pageX-a)/t+r.svgSize/2-r.offsetX,y:(e.pageY-o)/t+r.svgSize/2-r.offsetY}},r.getPointOffset=function(){var e=r.layerData.style,t=e.left+e.width/2,n=e.top+e.height/2;r.offsetX=t,r.offsetY=n},r.getPath=function(e){var t=r.offsetX,n=r.offsetY;return ae.a.createElement(ae.a.Fragment,null,e.map((function(r,a){if(0===a)return ae.a.createElement(ae.a.Fragment,{key:r.id},ae.a.createElement("path",{d:"M".concat(r.x+t," ").concat(r.y+n," L").concat(r.cp1.x+t," ").concat(r.cp1.y+n),stroke:"yellow",strokeDasharray:"5,5",fill:"none"}));var o=e[a-1];return ae.a.createElement(ae.a.Fragment,{key:r.id},ae.a.createElement("path",{d:"M".concat(o.x+t," ").concat(o.y+n," C ").concat(o.cp1.x+t," ").concat(o.cp1.y+n,", ").concat(r.cp2.x+t," ").concat(r.cp2.y+n,", ").concat(r.x+t," ").concat(r.y+n),strokeWidth:"1",stroke:"yellow",fill:"none"}),ae.a.createElement("path",{d:"M".concat(r.x+t," ").concat(r.y+n," L").concat(r.cp1.x+t," ").concat(r.cp1.y+n),stroke:"yellow",strokeDasharray:"5,5",fill:"none"}),ae.a.createElement("path",{d:"M".concat(r.x+t," ").concat(r.y+n," L").concat(r.cp2.x+t," ").concat(r.cp2.y+n),stroke:"yellow",strokeDasharray:"5,5",fill:"none"}))})))},r.deletePoint=function(e,t){if(t&&t.stopPropagation(),0!==e){var n=r.state.points;n.splice(e,1),r.setState({points:n})}else Ve.message.error("起点不可删除")},r.surePath=function(){if(!0===r.props.editor.drawPathAnimate)r.layerData.animate.push({keyid:j.util.randomID(),name:"path_"+j.util.randomID(),tips:"路径动画",type:"path",duration:1,timing:"linear",delay:0,count:1,direction:"normal",fillMode:"forwards",paths:j.util.cloneDeep(r.state.points).map((function(e){var t=r.svgSize/2;return e.x-=t,e.y-=t,e.cp1.x-=t,e.cp1.y-=t,e.cp2.x-=t,e.cp2.y-=t,e}))});else{var e=r.layerData.animate.findIndex((function(e){return e.keyid===r.props.editor.drawPathAnimate}));r.layerData.animate[e].paths=j.util.cloneDeep(r.state.points).map((function(e){var t=r.svgSize/2;return e.x-=t,e.y-=t,e.cp1.x-=t,e.cp1.y-=t,e.cp2.x-=t,e.cp2.y-=t,e}))}U.a.resetAnimate(r.layerData.animate),Object(ye.transaction)((function(){r.props.editor.updateCanvas(),r.props.editor.forceUpdateSet("animate"),r.props.layout.updateComponent("timeline"),r.props.editor.drawPathAnimate=null}))},r.onChangeRotate=function(e,t){t.rotate=e,r.setState({points:r.state.points})},r.onChangeScale=function(e,t){t.scale=e,r.setState({points:r.state.points})},r.onChangeOpacity=function(e,t){t.opacity=e,r.setState({points:r.state.points})},r.copyPoint=function(e,t,n){var a=j.util.cloneDeep(n);a.id=j.util.randomID(),r.state.points.splice(t,0,a),r.setState({points:r.state.points})};var a=e.editor.getLayerData();if(!a)return console.error("未选择任何图层"),ea()(r);r.layerData=a,r.svgSize=3e3;var o=r.svgSize/2,i=r.svgSize/2,s={id:j.util.randomID(),x:o,y:i,cp1:{x:o,y:i},cp2:{x:o,y:i},scale:1,opacity:1,rotate:0};a.animate,r.props.editor.drawPathAnimate;var c=a.animate.find((function(e){return e.keyid===r.props.editor.drawPathAnimate}));return r.getPointOffset(),r.state={points:c?j.util.cloneDeep(c.paths).map((function(e){var t=r.svgSize/2;return e.x+=t,e.y+=t,e.cp1.x+=t,e.cp1.y+=t,e.cp2.x+=t,e.cp2.y+=t,e})):[s]},r}return V()(n,[{key:"componentDidMount",value:function(){var e=this;$(".h5-canvas-start-draw-line").on("mousedown.drawLine",(function(t){t.stopPropagation(),t.button,t.target.getAttribute("class"),t.ctrlKey,e.getPointOffset();var n=e.getStartPoint(t),r=~~t.target.getAttribute("data-index"),a=t.target.getAttribute("data-type"),o=!1,i=j.util.getPlatform();if(("Win"===i&&t.ctrlKey||"Mac"===i&&t.metaKey)&&(o=!0),["h5-svgrect-next","h5-svgrect-prev"].includes(t.target.getAttribute("class"))){if(2===t.button)return void e.deletePoint(r);var s={x:0,y:0},c=e.state.points[r],l=io({},c.cp1),u=io({},c.cp2),d=io({},c);$(document).on("mousemove.dragRect",(function(i){var p=i.pageX-t.pageX,f=i.pageY-t.pageY;s.x=n.x+p,s.y=n.y+f,o&&r?(c.x=d.x+p,c.y=d.y+f,c.cp1.x=l.x+p,c.cp1.y=l.y+f,c.cp2.x=u.x+p,c.cp2.y=u.y+f):(c["cp"+a].x=s.x,c["cp"+a].y=s.y),e.setState({points:Q()(e.state.points)})})).on("mouseup.dragRect",(function(){$(document).off("mousemove.dragRect mouseup.dragRect")}))}else if("h5-svgcircle"===t.target.getAttribute("class")&&r){if(2===t.button)return void e.deletePoint(r);if(0===r)return;var p={x:0,y:0},f=e.state.points[r],h=io({},f.cp1),m=io({},f.cp2);$(document).on("mousemove.dragCircle",(function(a){var o=a.pageX-t.pageX,i=a.pageY-t.pageY;p.x=n.x+o,p.y=n.y+i,f.x=p.x,f.y=p.y,f.cp1.x=h.x+o,f.cp1.y=h.y+i,f.cp2.x=m.x+o,f.cp2.y=m.y+i,0!==r?e.setState({points:Q()(e.state.points)}):console.warn("开始点不可拖动")})).on("mouseup.dragCircle",(function(){$(document).off("mousemove.dragCircle mouseup.dragCircle")}))}else{if(2===t.button)return null;var g=e.state.points;g.push({id:j.util.randomID(),x:n.x,y:n.y,scale:1,rotate:0,opacity:1,cp1:{x:n.x,y:n.y},cp2:{x:n.x,y:n.y}}),e.setState({points:Q()(g)})}}))}},{key:"componentWillUnmount",value:function(){$(".h5-canvas-start-draw-line").off("mousedown.drawLine")}},{key:"render",value:function(){var e=this;if(this.props.editor.drawPathAnimate){var t=this.state.points;if(!t)return null;var n=Ve.Collapse.Panel;return ae.a.createElement("div",{className:"h5-draw-path-animate"},ae.a.createElement(ao,null,ae.a.createElement(Ve.Collapse,{accordion:!0},t.map((function(t,r){return ae.a.createElement(n,{key:t.id,header:"第".concat(r+1,"关键帧"),extra:ae.a.createElement(ae.a.Fragment,null,ae.a.createElement("i",{onClick:function(n){return e.copyPoint(n,r,t)},className:"h5font ico-fuzhi"}),ae.a.createElement(Ve.Divider,{type:"vertical"}),ae.a.createElement("i",{onClick:function(t){return e.deletePoint(r,t)},className:"h5font ico-shanchu"}))},ae.a.createElement("div",{className:"h5-draw-path-item"},ae.a.createElement("span",null,"坐标:"),"x: ",parseInt(t.x-e.svgSize/2,10)," *  y: ",parseInt(t.y-e.svgSize/2,10)),ae.a.createElement("div",{className:"h5-draw-path-item"},ae.a.createElement("span",null,"缩放:"),ae.a.createElement(j.SliderGroup,{value:t.scale,max:4,width:200,onAfterChange:function(n){return e.onChangeScale(n,t)}})),ae.a.createElement("div",{className:"h5-draw-path-item"},ae.a.createElement("span",null,"旋转:"),ae.a.createElement(j.SliderGroup,{step:1,min:-360,max:360,value:t.rotate,width:200,onAfterChange:function(n){return e.onChangeRotate(n,t)}})),ae.a.createElement("div",{className:"h5-draw-path-item"},ae.a.createElement("span",null,"透明:"),ae.a.createElement(j.SliderGroup,{value:t.opacity,width:200,onAfterChange:function(n){return e.onChangeOpacity(n,t)}})))}))),ae.a.createElement("div",{className:"h5-draw-path-item"},ae.a.createElement(Ve.Button,{type:"primary",block:!0,onClick:this.surePath,className:"h5-draw-path-sure"},"确定"))),ae.a.createElement("svg",{width:this.svgSize+ie.b.appWidth,height:this.svgSize+ie.b.appHeight,style:{top:-this.svgSize/2,left:-this.svgSize/2},xmlns:"http://www.w3.org/2000/svg",version:"1.1"},this.getPath(t),t.map((function(t,n){return ae.a.createElement("g",{key:t.id},ae.a.createElement("circle",{"data-index":n,className:"h5-svgcircle",xmlns:"http://www.w3.org/2000/svg",cx:t.x+e.offsetX,cy:t.y+e.offsetY,r:5,stroke:"#000",strokeWidth:"1",fill:"#fff"}),0!==n&&ae.a.createElement("rect",{"data-index":n,"data-type":"2",className:"h5-svgrect-next",width:10,height:10,x:t.cp2.x+e.offsetX-5,y:t.cp2.y+e.offsetY-5,stroke:"#000",strokeWidth:"1",fill:"#fff"}),ae.a.createElement("rect",{"data-index":n,"data-type":"1",className:"h5-svgrect-prev",width:10,height:10,x:t.cp1.x+e.offsetX-5,y:t.cp1.y+e.offsetY-5,stroke:"#000",strokeWidth:"1",fill:"#fff"}))}))))}return null}}]),n}(re.Component))||no)||no;function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var ho=Wr("editor","layout")(co=Rr(co=function(e){Jr()(n,e);var t=fo(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).changeSize=function(e){var t=r.props.editor.getSelectPageData();"portrait"===r.props.editor.getOrientation()?t.style.height=e:t.style.width=e,Object(ye.transaction)((function(){r.props.editor.reRenderView=j.util.randomID(),r.props.editor.forceUpdateSetting.pageHeight=j.util.randomID()}))},r.changeSizeEnd=function(e){var t=r.props.editor,n=t.getSelectPageData,a=t.setHistory,o=t.getOrientation,i=n();"portrait"===o()?i.style.height=e:i.style.width=e,a(),r.setState({navigatorKey:+new Date})},r.state={navigatorKey:1},r.navigatorRef=ae.a.createRef(),r}return V()(n,[{key:"componentDidMount",value:function(){var e=this;$("#h5Layout").on("mousewheel",(function(t,n,r,a){var o=j.util.getPlatform();if("Win"===o&&t.ctrlKey||"Mac"===o&&t.metaKey)return t.preventDefault(),t.returnValue=!1,void(a>0?e.props.editor.zoomInCanvas():e.props.editor.zoomOutCanvas());if($(t.target).closest("#h5LayoutCanvas")[0]){var i=e.props.editor.getOrientation();a>0?"portrait"===i?e.props.editor.containerPosition.top+=50:e.props.editor.containerPosition.left+=50:"portrait"===i?e.props.editor.containerPosition.top-=50:e.props.editor.containerPosition.left-=50,e.navigatorRef.current.resetMXMY(e.props.editor.containerPosition.top,e.props.editor.containerPosition.left)}}))}},{key:"componentWillUnmount",value:function(){$("#h5Layout").off("mousewheel"),$(document).off("keydown.zoom")}},{key:"render",value:function(){var e=this.props.layout,t=e.timelineHeight,n=e.headerHeight,r=e.excludeViewWidth,a=this.props.editor,o=a.containerPosition,i=a.scale,s=a.reRenderView,c=a.getOrientation,l=a.getSelectPageData,u=a.drawPathAnimate,d=l();if(!d)return null;var p={height:window.innerHeight-t-n,width:window.innerWidth-r},f=d.style,h=f.width,m=f.height,g={top:m*(1-i)/2+o.top,left:h*(1-i)/2+o.left};return ae.a.createElement("div",{className:qr()("h5-canvas",{"h5-canvas-start-draw-line":u}),"data-orientation":c()},ae.a.createElement("div",{style:po(po(po({},o),{height:d.style.height,width:d.style.width}),{},{transform:"scale(".concat(i,")")}),"data-scale":i,className:"h5-canvas-view"},u&&ae.a.createElement(lo,{key:u}),ae.a.createElement(Za,{selectPageData:d,reRenderView:s,editor:this.props.editor,ref:this.canvasRef,appId:this.appId}),ae.a.createElement($a,{key:m,height:m,width:h,scale:i,changeSize:this.changeSize,changeSizeEnd:this.changeSizeEnd}),ae.a.createElement(Xa,{height:m,width:h}),ae.a.createElement(eo,{height:m,width:h}),ae.a.createElement("div",{style:{height:m},className:"h5-canvas-border"})),this.props.editor.ruleLine&&ae.a.createElement(Wa,po({canvasHeight:p.height,canvasWidth:p.width,phoneScale:i},g)),ae.a.createElement(Ra,{selectPageData:d,key:this.state.navigatorKey,ref:this.navigatorRef,viewSize:po({},p)}),ae.a.createElement(ro,null))}}]),n}(re.Component))||co)||co;n(292),n(293);var mo=function(){return ae.a.createElement("div",{className:"h5-add-page"},ae.a.createElement(Ve.Button,{icon:ae.a.createElement("i",{className:"h5font ico-jia"}),onClick:function(){return Ge.showTemplates=!0},block:!0}," 添加页面"))},go=n(21),yo=n.n(go);n(294);function vo(){var e=Object(re.useRef)();return Object(re.useEffect)((function(){!function(e){if(e){var t=e.parentNode||document.body,n=e.cloneNode(!0);new MutationObserver((function(r){r.forEach((function(r){var a=r.target,o=r.removedNodes[0];if(a===e){var i=n.cloneNode(!0);t.replaceChild(i,e),e=i}else o===e&&(e=e.cloneNode(!0),t.appendChild(e))}))})).observe(document.body,{attributes:!0,childList:!0,subtree:!0})}}(e.current)}),[]),ae.a.createElement("div",{ref:e,style:{zIndex:100,position:"absolute",width:"100%",height:"100%",top:0,left:0},onClick:function(){return $(document).trigger("openVip")}})}function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xo,Eo=function(){var e=Object(re.useState)(!1),t=te()(e,2),n=t[0],r=t[1],a=Rn.appData.loader,o=Object(re.useState)(wo({},a)),i=te()(o,2),s=i[0],c=i[1],l=function(){for(var e in s)Rn.appData.loader[e]=s[e];Rn.setHistory(),r(!1)},u=function(e,t){s[t]=e,c(wo({},s))},d=function(){window.pubSubEditor.publish("h5ds.imageModal.show",(function(e){e.is_vip?s.vip_background=e.url:s.vip_background=void 0,u(e.url,"backgroundImage")}))};return void 0===s.logoSize&&(s.logoSize=1),ae.a.createElement("div",{className:"h5-loading-page"},ae.a.createElement(Ve.Button,{onClick:function(){return r(!0)},icon:ae.a.createElement("i",{className:"h5font ico-loading"}),block:!0}," 加载页面"),ae.a.createElement(Ve.Modal,{className:"ui-modal",footer:null,title:null,visible:n,onOk:l,width:1200,onCancel:function(){return r(!1)}},ae.a.createElement("div",{className:"h5-loading-modal"},ae.a.createElement("div",{className:"h5-loading-phone"},ae.a.createElement("img",{src:"https://cdn.h5ds.com/static/images/phonex-bg.png",alt:"",className:"h5-loading-phone-bg"}),ae.a.createElement("div",{className:"h5-loading-phone-preivew"},ae.a.createElement(Va.c,yo()({},s,{defaultPercent:1})))),ae.a.createElement("div",{className:"h5-loading-setting"},Rn.options.vip&&!function(){var e=!1;Rn.options.getUserInfo&&(Rn.options.getUserInfo().vip_status&&(e=!0));return e}()&&ae.a.createElement(vo,null),ae.a.createElement(j.Mitem,{title:"LOGO设置"},ae.a.createElement("div",{className:"h5-loading-img",onClick:function(){window.pubSubEditor.publish("h5ds.imageModal.show",(function(e){e.is_vip?s.vip_url=e.url:s.vip_url=void 0,u(e.url,"logo")}))}},ae.a.createElement("div",{className:"h5-loading-img-inner"},ae.a.createElement("a",{onClick:function(e){e.stopPropagation(),u("","logo")},className:"h5font ico-guanbi"}),ae.a.createElement("img",{src:s.logo,alt:""})),ae.a.createElement("h2",null,"更换LOGO")),ae.a.createElement("div",{style:{width:400}},ae.a.createElement(j.Tags,{data:[{value:"",name:"无",key:1},{value:"rollOneCount",name:"旋转",key:2},{value:"rubberBand",name:"弹性",key:3},{value:"flash",name:"闪烁",key:4},{value:"swing",name:"摇摆",key:5},{value:"flip",name:"翻转",key:6},{value:"tada",name:"放大抖动",key:7}],onChange:function(e){return u(e.value,"logoAnimate")},value:s.logoAnimate}))),ae.a.createElement(j.Mitem,{title:"LOGO大小"},ae.a.createElement(j.SliderGroup,{value:s.logoSize,onChange:function(e){return u(e,"logoSize")}})),ae.a.createElement(j.Mitem,{title:"背景色设置"},ae.a.createElement(j.ColorGroup,{value:s.backgroundColor,onChange:function(e){return u(e,"backgroundColor")}})),ae.a.createElement(j.Mitem,{title:"添加背景图"},s.backgroundImage?ae.a.createElement("div",{className:"h5-add-loading-background-image"},ae.a.createElement("a",{onClick:function(){u("","backgroundImage")},className:"h5font ico-guanbi"}),ae.a.createElement("img",{onClick:d,src:s.backgroundImage,alt:""})):ae.a.createElement("a",{onClick:d,className:"h5-add-loading-background h5font ico-jia"})),ae.a.createElement(j.Mitem,{title:"显示进度条"},ae.a.createElement(Ve.Switch,{checked:s.progress,onChange:function(e){return u(e,"progress")}})),s.progress&&ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Mitem,{title:"进度条颜色"},ae.a.createElement(j.ColorGroup,{value:s.progressColor,onChange:function(e){return u(e,"progressColor")}}))),ae.a.createElement(j.Mitem,null,ae.a.createElement(Ve.Button,{onClick:function(){return r(!1)}},"取消"),"       ",ae.a.createElement(Ve.Button,{onClick:l,type:"primary"},"确定"))))))};function _o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var ko=Wr("editor","layout")(xo=Rr(xo=function(e){Jr()(n,e);var t=_o(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).scrollYBack=j.util.debounce((function(e){var t=e?e.target.scrollTop:r.scrollyRef.scrollTop,n=parseInt(r.scrollyRef.offsetHeight/260,10)+2,a=parseInt(t/260,10)-1;r.setState({topHiddenCount:a,bottomHiddenCount:a+n})}),100),r.selectPage=function(e){r.props.editor.setPageIndex(e),r.forceUpdate(),r.props.layout.updateComponent("timeline","setting"),setTimeout((function(){r.props.editor.setContainerToCenter()}),0)},r.insertPage=function(e){e===r.props.editor.insertPageIndex?Object(ye.transaction)((function(){r.props.layout.showTemplates=!1,r.props.editor.insertPageIndex=null})):Object(ye.transaction)((function(){r.props.layout.showTemplates=!0,r.props.editor.insertPageIndex=e}))},r.savePage=function(){var e=ue()(ce.a.mark((function e(t,n){var a,o,i,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.props.editor,o=a.options,i=a.savePage2Image,!o.savePage){e.next=6;break}return e.next=4,i({scale:1,target:$(".h5-pagelist").find(".h5-item").eq(n).find(".h5-item-preview-min")[0]});case 4:s=e.sent,o.savePage({url:s,data:j.util.cloneDeep(t)});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.state={topHiddenCount:0,bottomHiddenCount:1/0},r}return V()(n,[{key:"componentDidMount",value:function(){var e=this;this.scrollyRef.addEventListener("scroll",this.scrollYBack),this.scrollYBack(),$(".h5-pagelist-list").on("uniqend",(function(t,n){var r=e.props.editor,a=r.sortPages,o=r.updateCanvas,i=r.setPageIndex,s=r.cancelSelectPageIndex;a(n.from,n.to),s(),i(n.to),o(),e.props.layout.updateComponent("timeline","setting","pageList")}))}},{key:"componentWillUnmount",value:function(){this.scrollyRef.removeEventListener("scroll",this.scrollYBack),$(".h5-pagelist-list").off("uniqend")}},{key:"render",value:function(){var e=this;this.props.layout.keys.pageList;var t=this.props.editor,n=t.getSelectPageIndex,r=t.appData,a=t.plugins,o=t.copyPage,i=t.deletePage,s=t.insertPageIndex,c=n(),l=this.props,u=l.className,d=l.unset,p=l.pageType,f=this.state,h=f.bottomHiddenCount,m=f.topHiddenCount;return ae.a.createElement("div",{ref:function(t){return e.scrollyRef=t},className:qr()("h5-pagelist-list h5-uniqlist",u)},r[p].map((function(t,n){return ae.a.createElement("div",{className:qr()("h5-item h5-uniqlist-item",{"h5-item-active":n===c}),"data-keyid":t.keyid,key:t.keyid},ae.a.createElement("div",{className:"h5-item-active-box h5-uniqlist-handle"},ae.a.createElement("i",{className:"h5font ico-luyinqueding"})),n<m||n>h?null:ae.a.createElement(ae.a.Fragment,null,ae.a.createElement("div",{className:"h5-item-prevew h5-uniqlist-handle",onClick:function(){return e.selectPage(n)}},ae.a.createElement("div",{className:"h5-item-preview-min"},ae.a.createElement(Va.d,{key:t.keyid,windowStyle:{width:ie.b.appWidth,height:ie.b.appHeight},plugins:a,data:t,orientation:r.orientation,stopAnimateInStep:100,renderIn:ie.f.RENDER_IN_PAGELIST}))),ae.a.createElement("div",{className:qr()("h5-item-set",{"h5-item-set-disable":d})},ae.a.createElement("a",{title:"复制页面",onClick:function(){return o(n)},className:"h5font ico-fuzhi"}),ae.a.createElement(Ve.Popconfirm,{placement:"rightTop",title:"确认删除该页面？",onConfirm:function(){return i(n,p)},okText:"确认",cancelText:"取消"},ae.a.createElement("a",{title:"删除页面",className:"h5font ico-shanchu"})),ae.a.createElement("a",{onClick:function(){return e.savePage(t,n)},title:"收藏页面",className:"h5font ico-shoucang"}),ae.a.createElement("a",{onClick:function(){return e.insertPage(n)},title:"插入页面",className:qr()("h5font ico-charu",{"h5-ico-shoucang-save":s===n})})),ae.a.createElement("div",{className:"h5-item-index"},n<9?"0".concat(n+1):n+1)))})))}}]),n}(re.Component))||xo)||xo;var So=function(){return ae.a.createElement("div",{className:"h5-tab-panel-page"},ae.a.createElement(mo,null),ae.a.createElement(Eo,null),ae.a.createElement(ko,{pageType:"pages"}))};var Oo=function(){return ae.a.createElement("div",{className:"h5-tab-panel-page"},ae.a.createElement(mo,null),ae.a.createElement(ko,{pageType:"popups",className:"h5-popup-list"}))};var Co=function(){return ae.a.createElement("div",{className:"h5-tab-panel-page"},ae.a.createElement(ko,{pageType:"fixeds",unset:!0,data:[1,2],className:"h5-fixed-list"}))},Do=Ve.Tabs.TabPane;var Po,Io=function(){var e=Object(re.useState)("page"),t=te()(e,2),n=t[0],r=t[1];return ae.a.createElement("div",{className:"h5-pagelist"},ae.a.createElement(Ve.Tabs,{animated:!1,className:"ui-tabs",activeKey:n,onChange:function(e){Rn.changeTabPane(e),r(e),setTimeout((function(){Rn.setContainerToCenter()}),0)}},ae.a.createElement(Do,{tab:"页面列表",key:"page"},"page"===n?ae.a.createElement(So,null):null),ae.a.createElement(Do,{tab:"弹窗页面",key:"popup"},"popup"===n?ae.a.createElement(Oo,null):null),ae.a.createElement(Do,{tab:"浮动页面",key:"fixed"},"fixed"===n?ae.a.createElement(Co,null):null)))};n(295);function Ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var jo,To=Wr("layout","editor")(Po=Rr(Po=function(e){Jr()(n,e);var t=Ao(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).hideTemplates=function(){Object(ye.transaction)((function(){e.props.layout.showTemplates=!1,e.props.editor.insertPageIndex=null}))},e}return V()(n,[{key:"componentDidMount",value:function(){var e=this;$(document).on("click.h5dsTemplatePlanelClose",(function(t){e.props.layout.showTemplates&&($(t.target).closest(".h5-layout-canvas")[0]||$(t.target).closest(".h5-layout-timeline")[0])&&(e.props.layout.showTemplates=!1,e.props.editor.insertPageIndex=null)}))}},{key:"componentWillUnmount",value:function(){$(document).off("click.h5dsTemplatePlanelClose")}},{key:"render",value:function(){var e=this.props.layout.showTemplates,t=this.props.editor.options.template;return ae.a.createElement("div",{className:"h5-templates",style:{transform:"translateX(".concat(e?0:-300,"px)")}},ae.a.createElement("a",{onClick:this.hideTemplates,className:"h5-panel-fold"},ae.a.createElement("i",{className:"h5font ico-left"})),t&&ae.a.createElement(t,{show:e,editor:this.props.editor}))}}]),n}(re.Component))||Po)||Po;n(296);function No(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Lo=Wr("editor","layout")(jo=Rr(jo=function(e){Jr()(n,e);var t=No(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onClose=function(){e.props.editor.showPanelName=""},e}return V()(n,[{key:"componentDidMount",value:function(){var e=this;$(document).on("click.h5dsPlanelClose",(function(t){e.props.editor.showPanelName&&($(t.target).closest(".h5-layout-canvas")[0]||$(t.target).closest(".h5-layout-timeline")[0])&&(e.props.editor.showPanelName="")}))}},{key:"componentWillUnmount",value:function(){$(document).off("click.h5dsPlanelClose")}},{key:"render",value:function(){var e=this.props.editor,t=!!e.showPanelName,n=Object.keys(e.options.panel);return ae.a.createElement("div",{className:"h5-panel-source",style:{transform:"translateX(".concat(t?0:-301,"px)")}},ae.a.createElement("a",{onClick:this.onClose,className:"h5-panel-fold"},ae.a.createElement("i",{className:"h5font ico-left"})),n.map((function(t){var n,r=null;if((null==(n=e.options)?void 0:n.panel)&&(r=e.options.panel[t]),!r)return null;var a=e.showPanelName===t;return ae.a.createElement("div",{className:"h5-panel-source-box",key:t,"data-key":t,style:{display:a?"block":"none"}},ae.a.createElement(r,{type:"source",show:a,editor:e}))})))}}]),n}(re.Component))||jo)||jo;var Ro=function(){return ae.a.createElement("div",{className:"h5-panels"},ae.a.createElement(Io,null),ae.a.createElement(To,null),ae.a.createElement(Lo,null))};n(297),n(298);function Mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var zo,Bo=function(e){Jr()(n,e);var t=Mo(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).drawScale=function(e){e>5e4&&(e=5e4),r.ctx?r.ctx.clearRect(0,0,e,r.height):r.ctx=document.getElementById(r.id).getContext("2d"),r.ctx.font="9px normal",r.ctx.strokeStyle="#5b6b73",r.ctx.fillStyle="#5b6b73",new Array(e/10).fill(1).forEach((function(e,t){var n=t*r.eachScale-.5;r.ctx.beginPath(),r.ctx.moveTo(n,t%5==0?16:20),r.ctx.lineTo(n,24),r.ctx.stroke(),r.ctx.closePath(),0===t?r.ctx.fillText(t+"s",n+2,14):(t+1)%10==0&&r.ctx.fillText((t+1)/10+"s",n,14)}))},r.id="cavans_"+j.util.randomID(),r.height=24,r.eachScale=10,r}return V()(n,[{key:"componentDidMount",value:function(){this.drawScale(this.props.width)}},{key:"componentDidUpdate",value:function(){this.drawScale(this.props.width)}},{key:"render",value:function(){var e=this,t=this.props.width;return t>5e4&&(t=5e4),ae.a.createElement("div",{ref:function(t){return e.scaleLineRef=t},style:{width:t},className:"fps-scaleline"},ae.a.createElement("canvas",{id:this.id,width:t,height:this.height}))}}]),n}(re.Component),Ho=(n(299),n(31));function Fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Wo,$o=Wr("editor")(zo=Rr(zo=function(e){Jr()(n,e);var t=Fo(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).setFrameAnimate=function(e){e!==r.props.editor.selectFrameIndex&&(r.props.editor.selectFrameIndex=e,$(window).trigger("h5ds.fps.frame",{progress:e/r.maxFrameKey,maxFrame:r.maxFrameKey,frame:e}),r.$element||(r.$element=$(".h5-canvas-view").find(".element-animate"),r.$element.each((function(){this.style.animationPlayState="paused"}))),r.$element.each((function(){var t=$(this).attr("data-delay").split(",").map((function(t){return parseFloat(t)-.1*(e-1)}));this.style.animationDelay=t.map((function(e){return e+"s"})).join(",")})))},r.autoCursor=function(){r.timer=setTimeout((function(){r.props.editor.selectFrameIndex=r.state.cursorIndex+1,r.setState({cursorIndex:r.state.cursorIndex+1}),r.state.cursorIndex+1>10*r.state.maxTime||r.autoCursor()}),100)},r.clearTime=function(){for(var e in window.H5DS_GLOBAL.sounds||{})window.H5DS_GLOBAL.sounds[e].stop();r.timer&&(clearTimeout(r.timer),r.timer=null)},r.asyncOldAnimationDelay=function(){},r.cursorDown=function(e){var t=e.pageX,n=r.drag,a=10*(r.state.cursorIndex-1);r.clearTime(),r.$element=$(".h5-canvas-view").find(".element-animate"),r.$element.each((function(){this.style.animationPlayState="paused"})),r.maxFrameKey=Object(Ho.a)(r.props.pageData),$(".h5-canvas-view").hide(0).show(0),window.pubSubEditor.publish("h5ds.destoryControl"),$(document).on(n.move,(function(e){e.stopPropagation(),n.touch&&(e=n.touchEvent(e));var o=e.pageX-t+a;o<0&&(o=0);var i=o/10;r.setState({cursorIndex:i}),r.setFrameAnimate(i)})).on(n.end,(function(){$(document).off(n.move),$(document).off(n.end),r.$element=null}))},r.drag=O(),r.selectFrameIndex=null,r.state={cursorIndex:0,maxTime:60},r.playAnimateKey=r.props.editor.playAnimateKey,r}return V()(n,[{key:"componentDidUpdate",value:function(){if(this.props.editor.playAnimateKey!==this.playAnimateKey){this.playAnimateKey=this.props.editor.playAnimateKey,this.clearTime();var e=Object(Ho.a)(this.props.pageData);this.setState({cursorIndex:1,maxTime:e/10},this.autoCursor)}}},{key:"componentDidMount",value:function(){var e=this;window.pubSubEditor.subscribe("h5ds.setFrameAnimateStart",(function(){e.$element=$(".h5-canvas-view").find(".element-animate"),e.$element.each((function(){this.style.animationPlayState="paused"})),$(".h5-canvas-view").hide(0).show(0)})),window.pubSubEditor.subscribe("h5ds.setFrameAnimate",(function(t){void 0===t&&(t=e.state.cursorIndex+1e-5),e.setState({cursorIndex:t}),e.setFrameAnimate(t)})),window.pubSubEditor.subscribe("h5ds.clearTime",(function(){e.clearTime()}))}},{key:"componentWillUnmount",value:function(){this.clearTime(),window.pubSubEditor.unsubscribe("h5ds.setFrameAnimateStart"),window.pubSubEditor.unsubscribe("h5ds.setFrameAnimate"),window.pubSubEditor.unsubscribe("h5ds.clearTime")}},{key:"render",value:function(){this.props.editor.playAnimateKey;var e=10*(this.state.cursorIndex-1);return e<0&&(e=0),ae.a.createElement("div",{onMouseDown:this.cursorDown,className:"h5-cursor",style:{transform:"translateX(".concat(e,"px)")}},ae.a.createElement("span",null))}}]),n}(re.Component))||zo)||zo;n(300);function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Uo,Go=Wr("editor")(Wo=Rr(Wo=function(e){Jr()(n,e);var t=Vo(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).dragFrameLine=function(t){var n=e.props,r=n.updateFrameLine,a=n.updateFrameLineEnd,o=n.nowAnimate,i=n.prevAnimate,s=n.nextAnimate,c=O(),l=t.pageX;e.dragFrameLineCallback=!1;var u=o.delay;"h5ds_zimu"===e.props.layerData.pid&&(e.props.editor.selectZimuKeyid=o.keyid,window.pubSubEditor.publish("h5ds.setFrameAnimate",10*(o.delay+.1))),$(document).on(c.move,(function(t){t.stopPropagation(),c.touch&&(t=c.touchEvent(t));var n=t.pageX-l||0;if(!(Math.abs(n)<3)){var a=Math.round(n/10),d=u+a/10;i?d<=i.duration*i.count+i.delay&&(d=i.duration*i.count+i.delay):d<=0&&(d=0),s&&d+o.duration*o.count>s.delay&&(d=s.delay-o.duration*o.count),o.delay=d,e.forceUpdate(),e.dragFrameLineCallback=!0,r()}})).on(c.end,(function(t){t.stopPropagation(),e.dragFrameLineCallback&&a(Xo({},o)),$(document).off(c.move),$(document).off(c.end)}))},e.dragKeyFrame=function(t,n){t.stopPropagation();var r=e.props,a=r.layerData,o=r.updateFrameLine,i=r.updateFrameLineEnd,s=r.nowAnimate,c=r.prevAnimate,l=r.nextAnimate,u=O(),d=t.pageX;e.dragKeyFrameCallbackRun=!1;var p=s.delay,f=s.duration;$(document).on(u.move,(function(t){t.stopPropagation(),u.touch&&(t=u.touchEvent(t));var r=t.pageX-d;if(!(Math.abs(r)<4)){e.dragKeyFrameCallbackRun=!0;var a,i,h=Math.round(r/10);if("start"===n){if(a=p+h/10,i=f-h/10,c){if(a<=c.duration*c.count+c.delay)return a=c.duration*c.count+c.delay,s.delay=a,e.forceUpdate(),void o()}else if(a<=0)return a=0,s.delay=a,e.forceUpdate(),void o();if(i<=.1)return i=.1,s.duration=i,e.forceUpdate(),void o();s.delay=a,s.duration=i}else i=f+h/10/s.count,l&&i+s.delay>=l.delay&&(i=l.delay-s.delay),i<=.1&&(i=.1),s.duration=i;e.forceUpdate(),o()}})).on(u.end,(function(t){t.stopPropagation(),e.dragKeyFrameCallbackRun&&i(a.keyid),$(document).off(u.move),$(document).off(u.end)}))},e}return V()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.nowAnimate,r=t.layerData;n.count===1/0&&(n.count=1e3);var a=n.count*n.duration;return"h5ds_text"===r.pid&&n.interval&&(a+=n.interval*(r.data.data.length-1)),ae.a.createElement("div",{onMouseDown:this.dragFrameLine,style:{left:100*n.delay,width:100*a},className:qr()("h5-frameline",{"h5-frameline-step":"step"===n.type,"h5-frameline-path":"path"===n.type,"h5-frameline-out":"out"===n.type,"h5-frameline-em":"em"===n.type,"h5-frameline-sound":"h5ds_sound"===r.pid,"h5-frameline-video":"h5ds_video"===r.pid,"h5-frameline-zimu":"h5ds_zimu"===r.pid,"h5-frameline-zm-active":this.props.editor.selectZimuKeyid===n.keyid})},"h5ds_zimu"===r.pid&&ae.a.createElement("span",{className:"h5ds-zimu-frame"},n.value),"step"!==n.type&&ae.a.createElement(ae.a.Fragment,null,ae.a.createElement("i",{onMouseDown:function(t){return e.dragKeyFrame(t,"start")},className:"h5-ico-start"}),ae.a.createElement("i",{onMouseDown:function(t){return e.dragKeyFrame(t,"end")},className:"h5-ico-end"})))}}]),n}(re.Component))||Wo)||Wo;function qo(e){var t=e.layerData,n=e.layerIndex,r=e.updateFrameLine,a=e.updateFrameLineEnd,o=t.data.animate;return ae.a.createElement(ae.a.Fragment,null,t.animate.map((function(e,o){var i=0===o?null:t.animate[o-1],s=o<t.animate.length-1?t.animate[o+1]:null;return ae.a.createElement(Go,{key:e.keyid,layerIndex:n,layerData:t,updateFrameLine:r,updateFrameLineEnd:a,prevAnimate:i,nextAnimate:s,nowAnimate:e})})),o&&ae.a.createElement(Go,{key:o.keyid,layerIndex:n,layerData:t,updateFrameLine:r,updateFrameLineEnd:a,nowAnimate:o}))}function Ko(e){var t=e.layerData,n=e.layerIndex,r=e.updateFrameLine,a=e.updateFrameLineEnd,o=t.data,i=o.loop,s=o.keyid;return t.data.count=i?1/0:1,ae.a.createElement(Go,{key:s,layerIndex:n,layerData:t,updateFrameLine:r,updateFrameLineEnd:a,prevAnimate:null,nextAnimate:null,nowAnimate:t.data})}function Zo(e){var t=e.layerData,n=e.layerIndex,r=e.updateFrameLine,a=e.updateFrameLineEnd,o=t.data.texts;return ae.a.createElement(ae.a.Fragment,null,o.map((function(e,i){e.count=1;var s=0===i?null:o[i-1],c=i<o.length-1?o[i+1]:null;return ae.a.createElement(Go,{key:e.keyid,layerIndex:n,layerData:t,updateFrameLine:r,updateFrameLineEnd:a,prevAnimate:s,nextAnimate:c,nowAnimate:e})})))}function Jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Qo,ei=Wr("layout","editor")(Uo=Rr(Uo=function(e){Jr()(n,e);var t=Jo(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).scrollXBack=function(e){r.setState({scrollLeft:e.target.scrollLeft})},r.scrollYBack=j.util.debounce((function(e){var t=e?e.target.scrollTop:r.scrollyRef.scrollTop,n=parseInt(r.scrollyRef.offsetHeight/21,10)+4,a=parseInt(t/21,10)-2;r.setState({topHiddenCount:a,bottomHiddenCount:a+n})}),100),r.selectLayerEvent=function(e,t,n){if(r.cursorRef.clearTime(),$(e.currentTarget).find(".h5ds-layerlist-locklayer-active")[0])Ve.message.warn("图层已锁定");else{var a=r.props.editor,o=a.selectMultipleLayerKeyIdsArray,i=a.getSelectPageData,s=a.getLayersDOM;if(o=Q()(o),window.event.shiftKey){var c,l;o=[],r.tempSelectLayerIndex>n?(c=n,l=r.tempSelectLayerIndex):(l=n,c=r.tempSelectLayerIndex);for(var u=function(e){var t=i().layers,n=t.find((function(t,n){return n===e}));n?o.push(n.keyid):console.error("选择的数据异常",{minIndex:c,maxIndex:l,layers:t})},d=c;d<=l;d++)u(d);return r.props.editor.selectMultipleLayerKeyIdsArray=Q()(o),void qe(Q()(r.props.editor.selectMultipleLayerKeyIdsArray),s)}var p=j.util.getPlatform();if("Win"===p&&window.event.ctrlKey||"Mac"===p&&window.event.metaKey){var f=o.indexOf(t.keyid);return-1!==f?o.splice(f,1):o.push(t.keyid),r.props.editor.selectMultipleLayerKeyIdsArray=Q()(o),void qe(Q()(r.props.editor.selectMultipleLayerKeyIdsArray),s)}r.tempSelectLayerIndex=n,r.props.editor.selectMultipleLayerKeyIdsArray=[t.keyid],qe(Q()(r.props.editor.selectMultipleLayerKeyIdsArray),s)}},r.showLayer=function(e,t){t.set.hide?t.set.hide=!1:t.set.hide=!0,r.props.editor.updateCanvas(),r.props.layout.updateComponent("timeline")},r.lockLayer=function(e,t){var n;(null==(n=t.set)?void 0:n.lock)?t.set.lock=!1:t.set.lock=!0,r.props.editor.updateCanvas(),r.props.layout.updateComponent("timeline")},r.editorLayerName=function(e,t){r.state.editorLayerNameIndex===e?(t.name=r.layerNameInputRef.value,r.setState({editorLayerNameIndex:null}),r.props.editor.setHistory()):r.setState({editorLayerNameIndex:e})},r.updateFrameLine=function(){r.isDraging=!0},r.updateFrameLineEnd=function(){r.isDraging=!1,r.props.editor.forceUpdateSet("animate"),r.props.editor.updateCanvas()},r.updateSoundFrameLineEnd=function(e){r.isDraging=!1,r.props.editor.forceUpdateSet("editor"),r.props.editor.setHistory()},r.playAnimate=function(){r.props.editor.playAnimate()},r.state={scrollLeft:0,editorLayerNameIndex:null,topHiddenCount:0,bottomHiddenCount:1/0},r.maxFrameKey=0,r}return V()(n,[{key:"componentDidMount",value:function(){var e=this;this.scrollxRef.addEventListener("scroll",this.scrollXBack),this.scrollyRef.addEventListener("scroll",this.scrollYBack),this.scrollYBack(),$("#h5-timeline-uniqlist").on("uniqend",(function(t,n){var r=e.props.editor;(0,r.sortLayers)((0,r.getSelectPageData)().layers,n.from,n.to),e.props.editor.updateCanvas(),e.props.layout.updateComponent("timeline")}))}},{key:"componentWillUnmount",value:function(){this.scrollxRef.removeEventListener("scroll",this.scrollXBack),this.scrollyRef.removeEventListener("scroll",this.scrollYBack),$("#h5-timeline-uniqlist").off("uniqend")}},{key:"render",value:function(){var e=this;this.props.layout.keys.timeline;var t=this.props.layout.timelineHeight,n=this.props.editor,r=n.selectMultipleLayerKeyIdsArray,a=n.getSelectPageData,o=n.getLayerData,i=n.copyLayer,s=n.deleteLayer,c=n.combinLayers,l=n.uncombinLayers,u=this.state,d=u.scrollLeft,p=u.bottomHiddenCount,f=u.topHiddenCount,h=u.editorLayerNameIndex;if(!this.isDraging){var m=this.props.editor.getSelectPageData();this.maxFrameKey=Object(Ho.a)(m)+300}var g=10*this.maxFrameKey||3e3,y=a(),v=o();return this.timelineHeight!==t&&(this.scrollYBack(),this.timelineHeight=t),ae.a.createElement("div",{style:{height:t},className:"h5-timeline","data-maxframe":(this.maxFrameKey||300)-300},ae.a.createElement("div",{className:"h5-timehead"},ae.a.createElement("section",{className:"h5-section1"},ae.a.createElement("i",{onClick:function(){return s()},className:"h5font ico-shanchu",title:"删除图层"}),ae.a.createElement("i",{onClick:function(){return i()},className:"h5font ico-fuzhi",title:"复制图层"}),ae.a.createElement("i",{onClick:function(){return c()},className:qr()("h5font ico-zuhe",{"h5-timehead-disable":r.length<=1}),title:"合并图层"}),ae.a.createElement("i",{onClick:l,className:qr()("h5font ico-da-san",{"h5-timehead-disable":"h5ds_combin"!==(null==v?void 0:v.pid)}),title:"打散图层"}),ae.a.createElement("span",null,ae.a.createElement("i",{onClick:this.playAnimate,className:"h5font ico-bofang",title:"播放动画"})," ",ae.a.createElement("i",{onClick:this.props.editor.pauseAnimate,className:"h5font ico-zanting",title:"暂停动画"}))),ae.a.createElement("section",{className:"h5-section2"},ae.a.createElement("div",{style:{width:g,transform:"translateX(".concat(-d,"px)")},className:"h5-timeline-scale"},ae.a.createElement($o,{maxFrameKey:this.maxFrameKey,ref:function(t){return e.cursorRef=t},pageData:y}),ae.a.createElement(Bo,{width:g})))),ae.a.createElement("div",{className:"h5-timebody"},ae.a.createElement("div",{ref:function(t){return e.scrollyRef=t},className:"h5-calibration"},ae.a.createElement("div",{id:"h5-timeline-uniqlist",className:"h5-names h5-uniqlist"},y&&y.layers.map((function(t,n){var a,o,i,s;return ae.a.createElement("section",{"data-keyid":"_"+t.keyid,className:qr()("h5-line","h5-uniqlist-item",{"h5-line-active":r.includes(t.keyid)}),key:t.keyid},n<f||n>p?null:ae.a.createElement(ae.a.Fragment,null,ae.a.createElement("span",{onClick:function(r){return e.selectLayerEvent(r,t,n)},className:"h5-name h5-uniqlist-handle"},h===n?ae.a.createElement("input",{className:"h5-uniq-undrag",key:h,ref:function(t){return e.layerNameInputRef=t},defaultValue:t.name}):t.name),ae.a.createElement("span",{className:"h5-set"},ae.a.createElement("i",{onClick:function(){return e.editorLayerName(n,t)},className:qr()({"h5font ico-biaodan2":h!==n,"h5font ico-luyinqueding":h===n})}),ae.a.createElement("i",{onClick:function(){return e.showLayer(n,t)},className:qr()("h5font",{"ico-yanjing":!(null==(a=t.set)?void 0:a.hide),"ico-yanjingbiyan":null==(o=t.set)?void 0:o.hide})}),ae.a.createElement("i",{onClick:function(){return e.lockLayer(n,t)},className:qr()("h5font",{"ico-jiesuo":!(null==(i=t.set)?void 0:i.lock),"ico-suoding":null==(s=t.set)?void 0:s.lock})}))))}))),ae.a.createElement("div",{className:"h5-names-bg"}),ae.a.createElement("div",{className:"h5-scales"},ae.a.createElement("div",{style:{width:g,transform:"translateX(".concat(-d,"px)")},className:"h5-scales-inbox"},y&&y.layers.map((function(t,n){var a=["h5ds_sound","h5ds_video"].includes(t.pid);return"h5ds_zimu"===t.pid?ae.a.createElement("section",{key:t.keyid,onClick:function(r){return e.selectLayerEvent(r,t,n)},className:qr()("h5-line",{"h5-line-active":r.includes(t.keyid)})},n<f||n>p?null:ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(Zo,{layerData:t,layerIndex:n,updateFrameLine:e.updateFrameLine,updateFrameLineEnd:e.updateFrameLineEnd}))):ae.a.createElement("section",{key:t.keyid,onClick:function(r){return e.selectLayerEvent(r,t,n)},className:qr()("h5-line",{"h5-line-active":r.includes(t.keyid)})},n<f||n>p?null:ae.a.createElement(ae.a.Fragment,null,!a&&ae.a.createElement(qo,{layerData:t,layerIndex:n,updateFrameLine:e.updateFrameLine,updateFrameLineEnd:e.updateFrameLineEnd}),a&&ae.a.createElement(Ko,{layerData:t,layerIndex:n,updateFrameLine:e.updateFrameLine,updateFrameLineEnd:e.updateSoundFrameLineEnd})))}))))),ae.a.createElement("div",{className:"h5-scrollx"},ae.a.createElement("div",{className:"h5-scroll-box"}),ae.a.createElement("div",{className:"h5-scroller",ref:function(t){return e.scrollxRef=t}},ae.a.createElement("div",{style:{width:g},className:"h5-scroll-line"})))))}}]),n}(re.Component))||Uo)||Uo,ti=(n(301),"// 函数说明\nfunction demo() {\n  // ...\n}\n"),ni="// 通过id播放音频\ncore.playSound('id');\n",ri="var self = this;\n",ai="// 获取随机ID，默认长度8\nfunction randomID(randomLength) {\n  return Number(\n    Math.random()\n      .toString()\n      .substr(3, randomLength || 8) + Date.now()\n  ).toString(36);\n}\n",oi="// 页面销毁的时候触发\ncore.renderUnmount(function(pageData) {\n  console.log('页面销毁之前执行一次：', pageData);\n})\n",ii="// 页面初始化执行一次：\ncore.renderStart(function(pageData) {\n  console.log('页面初始化执行一次：', pageData);\n})\n",si="// 页面渲染之前执行：\ncore.renderBefore(function(pageData) {\n  console.log('页面渲染之前执行：', pageData);\n})\n",ci="// 页面渲染之后执行：\ncore.renderAfter(function(pageData) {\n  console.log('页面渲染之后执行：', pageData);\n})\n",li="// 更新当前页面\ncore.updatePage();\n",ui="// 通过id获取layerData数据\ncore.getLayerDataById('id');\n",di="// 通过class获取layerData数据\ncore.getLayerDataByClassName('className');\n",pi="/**\n * core[name] name参数如下：\n * appData<Object> // app数据\n * pageData<Object> // 页面数据\n * toPage<Function> // 跳转到指定页面 (number)\n * prevPage // 下一页\n * nextPage // 下一页\n * renderStart // 页面初始化开始\n * renderBefore // 页面渲染之前执行\n * renderAfter // 页面渲染之后执行\n * renderUnmount // 页面卸载之前执行\n * updatePage // 普通更新整个页面\n * updatePopups // 更新弹窗的视图\n * updateFixeds // 更新浮动层的视图\n * setWeiXinShare // 微信分享设置 { title, imgUrl, desc }\n * getLayerDataById // 通过id获取layerData\n * getLayerDataByClassName // 通过className获取layerData数组\n*/\n";function fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var hi,mi=Wr("editor","layout")(Qo=Rr(Qo=function(e){Jr()(n,e);var t=fi(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).changeCode=function(e,t,n,a){a.jscript=n,r.forceUpdate(),r.props.editor.setHistoryDebounce()},r.insertCode=function(e){r.codeRef.current.insertCode(a[e])},r.codeRef=Object(re.createRef)(),r}return V()(n,[{key:"render",value:function(){var e=this;this.props.layout.keys.script;var t=(0,this.props.editor.getSelectPageData)();return t?ae.a.createElement("div",{className:"fps-script"},ae.a.createElement("div",{className:"fps-script-icon"},ae.a.createElement("em",{onClick:function(){return e.insertCode("self")}},"self"),ae.a.createElement("em",{onClick:function(){return e.insertCode("playSoundCode")}},"playSound"),ae.a.createElement("em",{onClick:function(){return e.insertCode("renderStartCode")}},"renderStart"),ae.a.createElement("em",{onClick:function(){return e.insertCode("renderBeforeCode")}},"renderBefore"),ae.a.createElement("em",{onClick:function(){return e.insertCode("renderAfterCode")}},"renderAfter"),ae.a.createElement("em",{onClick:function(){return e.insertCode("renderUnmountCode")}},"renderUnmount"),ae.a.createElement("em",{onClick:function(){return e.insertCode("updatePageCode")}},"updatePage"),ae.a.createElement("em",{onClick:function(){return e.insertCode("getLayerDataByIdCode")}},"getLayerDataById"),ae.a.createElement("em",{onClick:function(){return e.insertCode("getLayerDataByClassNameCode")}},"getLayerDataByClassName"),ae.a.createElement("em",{onClick:function(){return e.insertCode("randomID")}},"randomID")),ae.a.createElement("div",{className:"fps-script-codes"},ae.a.createElement(j.CodeMirror,{ref:this.codeRef,value:t.jscript,options:{tabSize:4,mode:{name:"javascript",json:!0},theme:"dark"===this.props.layout.theme?"monokai":"xq-light",styleActiveLine:!0,lineNumbers:!0,line:!0,lineWrapping:!0},onBeforeChange:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.changeCode.apply(e,r.concat([t]))}}))):ae.a.createElement("div",{className:"fps-script"},ae.a.createElement("div",{className:"fps-script-null"},"未选中页面"))}}]),n}(re.Component))||Qo)||Qo;function gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var yi=Wr("editor")(hi=Rr(hi=function(e){Jr()(n,e);var t=gi(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).changeTab=function(e){r.setState({show:e})},r.state={show:"timeline"},r}return V()(n,[{key:"render",value:function(){var e=this,t=this.state.show,n=this.props.editor;return ae.a.createElement("div",{className:"fps-footer"},ae.a.createElement("div",{className:"fps-footer-tab"},ae.a.createElement("a",{onClick:function(){return e.changeTab("timeline")},className:qr()({"fps-active":"timeline"===t})},"时间轴"),ae.a.createElement("a",{onClick:function(){return e.changeTab("script")},className:qr()({"fps-active":"script"===t})},"JS脚本")),ae.a.createElement("div",{className:qr()("fps-item",{"fps-item-active":"timeline"===t})},ae.a.createElement(ei,null)),ae.a.createElement("div",{className:qr()("fps-item",{"fps-item-active":"script"===t})},"script"===t?ae.a.createElement(mi,{key:"".concat(n.pageIndex,"_").concat(n.popupIndex,"_").concat(n.fixedIndex,"_").concat(n.pageTab)}):null))}}]),n}(re.Component))||hi)||hi,vi=(n(302),n(55));n(256),n(257);var bi,wi=function(){var e=Object(re.useState)(!1),t=te()(e,2),n=t[0],r=t[1],a=Object(re.useState)(!1),o=te()(a,2),i=o[0],s=o[1],c=ur((function(){return Rn})),l=c.gridOption,u=function(){var e=ue()(ce.a.mark((function e(){var t,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rn.savePage2Image({scale:2,type:"toPng"});case 2:t=e.sent,(n=document.createElement("a")).download="h5_".concat(j.util.randomID(),".png"),n.href=t,n.click();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=c.options.updatePSD,p=function(e){return Rn.setFullLoading({visible:!0}),d.uploadStart&&d.uploadStart(e),!!(e.size/1024/1024<(d.maxSize||50))||(Ve.message.error("".concat(name,"大小不能超过2MB!")),Rn.setFullLoading({visible:!1}),!1)},f=function(){var e=ue()(ce.a.mark((function e(t){var n,r,a,o,i,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],t.code){e.next=31;break}r=Rn.getSelectPageData(),t.data.reverse(),a=0;case 5:if(!(a<t.data.length)){e.next=28;break}return o=t.data[a],n.push({url:o.storage.url,name:o.storage.filename,size:o.storage.size}),e.next=10,j.util.imgLazy(o.storage.url);case 10:i=e.sent,(s=new vi.a).name="图片",s.pid="h5ds_img",s.version="1.0.0",s.keyid=j.util.randomID(),s.eventId=j.util.randomID(),s.data.src=o.storage.url,s.data.naturalWidth=i.naturalWidth,s.data.naturalHeight=i.naturalHeight,s.style.top=o.y/Rn.designScale,s.style.left=o.x/Rn.designScale,s.style.width=o.width/Rn.designScale,s.style.height=o.height/Rn.designScale,r.layers.push(s);case 25:a++,e.next=5;break;case 28:Rn.updateCanvas(),e.next=32;break;case 31:Ve.message.error(t.message);case 32:return e.abrupt("return",n);case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=ue()(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.onChange&&d.onChange(t),"done"!==t.file.status){e.next=9;break}return e.next=4,f(t.file.response);case 4:return n=e.sent,e.next=7,d.uploadEnd(n,t.file.response);case 7:Rn.setFullLoading({visible:!1}),r(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return tr((function(){return ae.a.createElement("div",{className:"h5-toolbar"},ae.a.createElement("canvas",{style:{display:"none"},id:"recordVideo",width:640,height:1028}),ae.a.createElement("section",{className:"h5-top"},d&&ae.a.createElement("span",{onClick:function(){return r(!0)},className:"h5-btn",title:"导入PS文件"},ae.a.createElement("i",{className:"h5font ico-ps"})),ae.a.createElement("span",{onClick:function(){return c.setSettingType("appBackground")},className:qr()("h5-btn",{"h5-btn-active":"appBackground"===c.settingType}),title:"设置全局背景"},ae.a.createElement("i",{className:"h5font ico-beijing"})),ae.a.createElement("span",{onClick:function(){return c.setSettingType("appBackgroundMusic")},className:qr()("h5-btn",{"h5-btn-active":"appBackgroundMusic"===c.settingType}),title:"背景音乐"},ae.a.createElement("i",{className:"h5font ico-yinle"})),ae.a.createElement("span",{onClick:function(){return c.setSettingType("historySave")},className:qr()("h5-btn",{"h5-btn-active":"historySave"===c.settingType}),title:"历史记录"},ae.a.createElement("i",{className:"h5font ico-lishijilu"})),ae.a.createElement(Ve.Popover,{overlayClassName:"h5-popover",onVisibleChange:s,content:ae.a.createElement("div",{className:"h5-header-submenus-setting"},ae.a.createElement(j.Item,{title:"网格开关",titleWidth:70},ae.a.createElement(Ve.Switch,{checked:l.show,onChange:function(e){return l.show=e}})),ae.a.createElement(j.Item,{title:"网格密度",titleWidth:70},ae.a.createElement(Ve.Radio.Group,{size:"small",value:l.gridSize,onChange:function(e){return l.gridSize=e.target.value},buttonStyle:"solid"},[5,8,10,16,20,32,40,80].map((function(e){return ae.a.createElement(Ve.Radio.Button,{key:e,value:e},e)})))),ae.a.createElement(j.Item,{title:"网格吸附",titleWidth:70},ae.a.createElement(Ve.Switch,{checked:l.gridAdsorb,onChange:function(e){return l.gridAdsorb=e}}))),title:null,placement:"left",trigger:"click",visible:i},ae.a.createElement("span",{className:"h5-btn",title:"网格吸附"},ae.a.createElement("i",{className:"h5font ico-wangge"}))),ae.a.createElement("span",{onClick:u,className:"h5-btn",title:"截图"},ae.a.createElement("i",{className:"h5font ico-jietu"}))),ae.a.createElement(Ve.Modal,{visible:n,onCancel:function(){return r(!1)},footer:null,title:null},d&&ae.a.createElement("div",{className:"h5-toolbar-upload-psd"},ae.a.createElement(Ve.Upload.Dragger,{action:d.action,headers:{Authorization:d.token},beforeUpload:p,showUploadList:!1,name:d.name||"file",onChange:h},ae.a.createElement("p",{className:"ant-upload-drag-icon"},ae.a.createElement("i",{className:"h5font ico-jia"})),ae.a.createElement("p",{className:"ant-upload-text"},"点击或者拖拽文件到该区域上传"),ae.a.createElement("p",{className:"ant-upload-hint"},"只支持单个小于50M的PSD文件上传")),ae.a.createElement("h1",null,"上传须知"),ae.a.createElement("p",null,"1 建议上传单页PSD尺寸为",ae.a.createElement("em",null,"720*1080px"),"的PSD文件"),ae.a.createElement("p",null,"2 为保证上传速度，PSD文件大小不超过",ae.a.createElement("em",null,"50M")),ae.a.createElement("p",null,"3 为保证上传成功，图层数不超过",ae.a.createElement("em",null,"50个"),"，且每个图层不能够超过",ae.a.createElement("em",null,"5M")),ae.a.createElement("p",null,"4 必须使用",ae.a.createElement("em",null,"RGB/8"),"通道模式, 为保证图片质量，建议上传前尽量将效果合并至图层中。"))))}))},xi=(n(318),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Y()(this,e),this.set=Object.assign({gap:3},t),this.$lines=n||$(".h5ds-adsorb-line"),this.$outbox=r||$(".h5-canvas-view"),this.lines={xt:this.$lines.eq(0),xc:this.$lines.eq(1),xb:this.$lines.eq(2),yl:this.$lines.eq(3),yc:this.$lines.eq(4),yr:this.$lines.eq(5)},this.scale=parseFloat(this.$outbox.transform("scale"))||1,this.canvasRect=this.$outbox[0].getBoundingClientRect()}return V()(e,[{key:"correct",value:function(e){var t=this,n=[];return e.each((function(e,r){var a=$(r).transform("rotate"),o=$(r).find(".h5ds-adsorb-layer-item");if(a&&!o[0]){var i=r.getBoundingClientRect(),s=i.top,c=i.left,l=i.right,u=i.bottom,d=i.width,p=i.height;$(r).append('<div class="h5ds-adsorb-layer-item" style="\n        left: '.concat(-(l-c-r.offsetWidth)/2,"px;\n        top: ").concat(-(u-s-r.offsetHeight)/2,"px;\n        width: ").concat(d,"px;\n        height: ").concat(p,"px;\n        transform: rotate(-").concat(a,"deg) scale(").concat(1/t.scale,');\n        "></div>')),n.push($(r).find(".h5ds-adsorb-layer-item")[0])}else o[0]?n.push(o[0]):($(r).append('<div class="h5ds-default-layer-item" style="\n        width: '.concat(r.offsetWidth,"px;\n        height: ").concat(r.offsetHeight,'px;"></div>')),n.push(r))})),n}},{key:"clear",value:function(){$(".h5ds-adsorb-layer-item").remove(),$(".h5ds-default-layer-item").remove()}},{key:"check",value:function(e,t,n){var r=this,a=e[0].getBoundingClientRect();this.uncheck(),n.forEach((function(n){n.classList.remove("h5ds-adsorb-line-active");var o=r.canvasRect;if(n!==e[0]){var i=e.find(".h5ds-adsorb-layer-item");if(!i[0]||n!==i[0]){var s=n.getBoundingClientRect(),c=s.top,l=s.height,u=s.bottom,d=s.left,p=s.width,f=s.right,h=a.width/2,m=p/2,g=a.height/2,y=l/2,v={top:[{type:"xt-top",isNearly:r._isNearly(a.top,c),lineNode:r.lines.xt,lineValue:c,dragValue:c-o.top},{type:"xt-bottom",isNearly:r._isNearly(a.bottom,c),lineNode:r.lines.xt,lineValue:c,dragValue:c-a.height-o.top},{type:"xc",isNearly:r._isNearly(a.top+g,c+y),lineNode:r.lines.xc,lineValue:c+y,dragValue:c+y-g-o.top},{type:"xb-top",isNearly:r._isNearly(a.bottom,u),lineNode:r.lines.xb,lineValue:u,dragValue:u-a.height-(o.bottom-o.height)},{type:"xb-bottom",isNearly:r._isNearly(a.top,u),lineNode:r.lines.xb,lineValue:u,dragValue:u-o.top}],left:[{type:"yl-left",isNearly:r._isNearly(a.left,d),lineNode:r.lines.yl,lineValue:d,dragValue:d-o.left},{type:"yl-right",isNearly:r._isNearly(a.right,d),lineNode:r.lines.yl,lineValue:d,dragValue:d-a.width-o.left},{type:"yc",isNearly:r._isNearly(a.left+h,d+m),lineNode:r.lines.yc,lineValue:d+m,dragValue:d+m-h-o.left},{type:"yr-left",isNearly:r._isNearly(a.right,f),lineNode:r.lines.yr,lineValue:f,dragValue:f-a.width-(o.right-o.width)},{type:"yr-right",isNearly:r._isNearly(a.left,f),lineNode:r.lines.yr,lineValue:f,dragValue:f-(o.right-o.width)}]},b=function(o){var i=0;v[o].forEach((function(s){if(s.isNearly){n.classList.add("h5ds-adsorb-line-active");var c=e.find(".h5ds-adsorb-layer-item");if(c[0]){var l=0;l="left"===o?(c.width()-e.width()*r.scale)/2:(c.height()-e.height()*r.scale)/2,e.css(o,"".concat((s.dragValue+l)/r.scale,"px")),t.css(o,"".concat((s.dragValue+l)/r.scale,"px"))}else e.css(o,"".concat(s.dragValue/r.scale,"px")),t.css(o,"".concat(s.dragValue/r.scale,"px"));var u=n.getBoundingClientRect(),d=u.top,p=u.bottom,f=u.width,h=u.height,m=u.left,g=u.right,y=0,v=0,b=0,w=0,x=0,E=0;a.left>m?(b=a.left-g,y=a.right-m,x=f,a.right<g&&(y=f)):(b=m-a.right,y=g-a.left,x=a.width,m=a.left),a.bottom>d?(w=a.top-p,v=a.bottom-d,E=h,a.bottom<p&&(v=h)):(w=d-a.bottom,v=p-a.top,E=a.height,d=a.top);var _="top"===o?y:v,k="top"===o?m:d;"top"===o?(s.lineNode.css({top:"".concat(s.lineValue,"px"),width:_,left:k}),(b=~~(b*r.scale))>=0&&i<1?s.lineNode.html('<span style="width: '.concat(~~(b/r.scale),"px; left: ").concat(x,'px;"><em>').concat(b,"</em></span>")):s.lineNode.html("")):(s.lineNode.css({left:"".concat(s.lineValue,"px"),height:_,top:k}),(w=~~(w*r.scale))>=0&&i<1?s.lineNode.html('<span style="height: '.concat(~~(w/r.scale),"px; top: ").concat(E,'px;"><em>').concat(w,"</em></span>")):s.lineNode.html("")),i++,s.lineNode.show()}}))};for(var w in v)b(w)}}}))}},{key:"uncheck",value:function(){this.$lines.hide(),$(".h5ds-adsorb-line-active").removeClass("h5ds-adsorb-line-active")}},{key:"_distance",value:function(e,t){return Math.abs(e-t)}},{key:"_isNearly",value:function(e,t){return Math.abs(e-t)<=this.set.gap}}]),e}());function Ei(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var _i=Wr("editor")(bi=Rr(bi=function(e){Jr()(n,e);var t=Ei(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).state={lines:{xt:null,xc:null,xb:null,yl:null,yc:null,yr:null}},r}return V()(n,[{key:"componentDidMount",value:function(){var e=this;window.pubSubEditor.subscribe("h5ds.control.absorb.start",(function(){e.adsorb=new xi;var t=e.props.editor,n=t.getLayerDOM,r=t.getLayersDOM;e.layersTarget=r(),e.layersTarget=e.adsorb.correct(e.layersTarget),e.layersTarget=[].concat(Q()(e.layersTarget),[$(".h5-canvas-view")[0]],Q()($(".h5ds-ruler-guides"))),e.thisTarget=n(),e.thisTargetControl=$(".h5-canvas-view").find(".h5ds-control")})),window.pubSubEditor.subscribe("h5ds.control.absorb.move",(function(){e.adsorb.check(e.thisTarget,e.thisTargetControl,e.layersTarget)})),window.pubSubEditor.subscribe("h5ds.control.absorb.end",(function(){e.adsorb.uncheck(),e.adsorb.clear()}))}},{key:"componentWillUnmount",value:function(){window.pubSubEditor.unsubscribe("h5ds.control.absorb.start"),window.pubSubEditor.unsubscribe("h5ds.control.absorb.move"),window.pubSubEditor.unsubscribe("h5ds.control.absorb.end")}},{key:"render",value:function(){var e=this.state.lines;return ae.a.createElement("div",{className:"h5ds-adsorb-lines"},Object.keys(e).map((function(e,t){var n=null;return n="x"===e[0]?{width:"100%",height:1,left:0}:{width:1,height:"100%",top:0},ae.a.createElement("div",{className:"h5ds-adsorb-line",key:t,style:n})})))}}]),n}(re.Component))||bi)||bi;n(319),n(320),n(321);function ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Si=function(e){Jr()(n,e);var t=ki(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onChange=function(t,n){var r=e.props.editor.appData;switch(n){case"backgroundRepeat":case"backgroundSize":case"backgroundColor":r.style[n]=t,e.props.editor.updateCanvas();break;case"backgroundImage":switch(t.type){case"crop":j.util.getBase64(t.src,t.cropData).then(function(){var t=ue()(ce.a.mark((function t(n){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.editor.options.uploadBase64(n);case 2:(a=t.sent)&&(r.style.backgroundImage="url(".concat(a.url,")"),e.props.editor.updateCanvas(),e.forceUpdate());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());break;case"change":window.pubSubEditor.publish("h5ds.imageModal.show",function(){var t=ue()(ce.a.mark((function t(n){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.is_vip?r.vip_background=n.url:r.vip_background=void 0,r.style.backgroundImage="url(".concat(n.url,")"),e.props.editor.updateCanvas(),e.forceUpdate();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());break;case"delete":r.style.backgroundImage="none",e.props.editor.updateCanvas(),e.forceUpdate()}}},e.deleteImage=function(){e.props.editor.appData.style.backgroundImage="",e.props.editor.updateCanvas(),e.forceUpdate()},e.cropChange=function(e){},e}return V()(n,[{key:"render",value:function(){var e=this,t=this.props.editor.appData;return ae.a.createElement("div",{className:"h5-setapp-background"},ae.a.createElement("div",{className:"h5-setting-title"},"全局背景设置"),ae.a.createElement(j.Item,{title:"页面背景",block:!0},ae.a.createElement(j.ImgBox,{noRestore:!0,onChange:function(t,n,r,a){return e.onChange({type:t,cropData:n,src:r,scale:a},"backgroundImage")},src:j.util.getBackGroundImageUrl(t.style.backgroundImage)})),t.style.backgroundImage&&ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"背景模式"},ae.a.createElement(Ve.Radio.Group,{className:"h5-radio-group",defaultValue:t.style.backgroundRepeat,buttonStyle:"solid",onChange:function(t){return e.onChange(t.target.value,"backgroundRepeat")}},ae.a.createElement(Ve.Radio.Button,{value:"no-repeat"},"不平铺"),ae.a.createElement(Ve.Radio.Button,{value:"repeat"},"平铺"),ae.a.createElement(Ve.Radio.Button,{value:"repeat-x"},"水平铺"),ae.a.createElement(Ve.Radio.Button,{value:"repeat-y"},"纵向铺"))),ae.a.createElement(j.Item,{title:"背景尺寸"},ae.a.createElement(Ve.Radio.Group,{className:"h5-radio-group",defaultValue:t.style.backgroundSize,onChange:function(t){return e.onChange(t.target.value,"backgroundSize")},buttonStyle:"solid"},ae.a.createElement(Ve.Radio.Button,{value:"initial"},"默认"),ae.a.createElement(Ve.Radio.Button,{value:"contain"},"适配"),ae.a.createElement(Ve.Radio.Button,{value:"100% 100%"},"拉伸")))),ae.a.createElement(j.Item,{title:"背景颜色"},ae.a.createElement(j.ColorGroup,{value:t.style.backgroundColor,onChange:function(t){return e.onChange(t,"backgroundColor")}})))}}]),n}(re.Component),Oi=(n(322),n(80));function Ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Di,Pi=function(e){Jr()(n,e);var t=Ci(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).changeMusic=function(){window.pubSubEditor.publish("h5ds.soundModal.show",(function(t){var n=e.props.editor,r=n.appData,a=n.updateCanvas;t.is_vip?r.music.vip_sound=t.url:r.music.vip_sound=void 0,r.music.url=t.url,r.music.name=t.name,a(),e.forceUpdate()}))},e.onChange=function(t,n){var r=e.props.editor,a=r.appData,o=r.updateCanvas;a.music[n]=t,o()},e.selectIcon=function(t){var n=e.props.editor,r=n.appData,a=n.updateCanvas;r.music.icon=t.value,a()},e}return V()(n,[{key:"render",value:function(){var e=this,t=this.props.editor.appData.music;return ae.a.createElement("div",{className:"h5-setapp-music"},ae.a.createElement("div",{className:"h5-setting-title"},"背景音乐设置"),ae.a.createElement(j.Item,{title:"音乐开关"},ae.a.createElement(Ve.Switch,{defaultChecked:!t.disabled,onChange:function(t){return e.onChange(!t,"disabled")}})),ae.a.createElement(j.Item,{title:"背景音乐",block:!0},ae.a.createElement(j.MusicPlayer,{volume:t.volume,name:t.name,url:t.url,key:t.url})),ae.a.createElement(j.Item,{title:"替换音乐"},ae.a.createElement(Ve.Button,{onClick:this.changeMusic},"替换")),ae.a.createElement(j.Item,{title:"循环播放"},ae.a.createElement(Ve.Switch,{defaultChecked:t.loop,onChange:function(t){return e.onChange(t,"loop")}})),ae.a.createElement(j.Item,{title:"自动播放"},ae.a.createElement(Ve.Switch,{defaultChecked:t.autoplay,onChange:function(t){return e.onChange(t,"autoplay")}})),ae.a.createElement(j.Item,{title:"音量设置"},ae.a.createElement(j.SliderGroup,{value:t.volume,onChange:function(t){return e.onChange(t,"volume")}})),ae.a.createElement(j.Item,{title:"延迟播放"},ae.a.createElement(Ve.InputNumber,{step:.1,min:0,defaultValue:t.delay,onChange:function(t){return e.onChange(t,"delay")},size:"small"})," ","秒"),ae.a.createElement(j.Item,{title:"音乐图标",block:!0},Oi.a.map((function(t){return ae.a.createElement("div",{onClick:function(){return e.selectIcon(t)},className:"h5-music-item",key:t.value},t.start("#ccc"))}))),ae.a.createElement(j.Item,{title:"图标颜色"},ae.a.createElement(j.ColorGroup,{value:t.fill,onChange:function(t){return e.onChange(t,"fill")}})))}}]),n}(re.Component);n(323);function Ii(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Ai,ji=Wr("editor")(Di=Rr(Di=function(e){Jr()(n,e);var t=Ii(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).resetHistory=function(e,t){if("defaultData"===t||""===t)t=Object(ie.d)();else try{t=JSON.parse(t)}catch(e){return void console.error("数据异常",t,e)}Ye.local.set("H5DS_APP_DATA",t),location.reload()},e}return V()(n,[{key:"render",value:function(){var e=this.props.editor,t=null;return t=e.options.historyList?e.options.historyList:function(){return ae.a.createElement("div",null,"未配置历史记录")},ae.a.createElement("div",{className:"h5-setapp-history"},ae.a.createElement("div",{className:"h5-setting-title"},"历史记录"),ae.a.createElement("div",{className:"h5-setting-history-list"},ae.a.createElement(t,{key:e.updateHistoryList,appId:e.options.appId,resetHistory:this.resetHistory})))}}]),n}(re.Component))||Di)||Di;function Ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Ni,Li=Wr("editor")(Ai=Rr(Ai=function(e){Jr()(n,e);var t=Ti(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onChange=function(t){e.props.editor.selectEventTempValue.eventParam.value=t.target.value},e.onChangeParams=function(t){e.props.editor.selectEventTempValue.eventParam.params=t.target.value},e.copyEventName=function(e){e?(ya()('window.pubSubLayer.subscribe("'.concat(e,'", function(data) { console.log(data) })')),Ve.message.success("事件拷贝成功！去粘贴吧~")):Ve.message.error("请填写事件名称")},e}return V()(n,[{key:"render",value:function(){var e=Ve.Input.Search,t=Ve.Input.TextArea,n=this.props.editor.selectEventTempValue.eventParam;return ae.a.createElement("div",{className:"h5-event-editor"},ae.a.createElement(j.Item,{title:"视频讲解",block:!0},ae.a.createElement("div",{className:"h5-event-video"},ae.a.createElement("i",{className:"h5font ico-bofang"}),"视频讲解")),ae.a.createElement(j.Item,{title:"自定义事件",block:!0},ae.a.createElement(e,{defaultValue:n.value,onChange:this.onChange,placeholder:"请设置自定义事件名称",enterButton:"拷贝函数",onSearch:this.copyEventName})),ae.a.createElement(j.Item,{title:"自定义事件参数",block:!0},ae.a.createElement(t,{defaultValue:n.params,style:{height:120},onChange:this.onChangeParams,placeholder:"事件参数",className:"ui-textarea"})))}}]),n}(re.Component))||Ai)||Ai,Ri={name:"自定义事件",eventId:"h5ds_event_click",eventParam:{value:"",params:null}},Mi=ae.a.createElement("i",{className:"h5font ico-zidingyishijian"});function zi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Bi,Hi=Wr("editor")(Ni=Rr(Ni=function(e){Jr()(n,e);var t=zi(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).changeTouch=function(t,n){e.props.editor.selectEventTempValue.eventParam[n]=t},e.copyEventName=function(e){e?(ya()('window.pubSubLayer.subscribe("'.concat(e,'", function(data) { console.log(data) })')),Ve.message.success("事件拷贝成功！去粘贴吧~")):Ve.message.error("请填写事件名称")},e}return V()(n,[{key:"render",value:function(){var e=this,t=Ve.Input.Search,n=this.props.editor.selectEventTempValue.eventParam;return ae.a.createElement("div",{className:"h5-event-editor"},ae.a.createElement(j.Item,{title:"视频讲解",block:!0},ae.a.createElement("div",{className:"h5-event-video"},ae.a.createElement("i",{className:"h5font ico-bofang"}),"视频讲解")),ae.a.createElement(j.Item,{title:"移动限制"},ae.a.createElement(Ve.Radio.Group,{defaultValue:n.direction,buttonStyle:"solid"},ae.a.createElement(Ve.Radio.Button,{value:"updown"},"上下"),ae.a.createElement(Ve.Radio.Button,{value:"leftright"},"左右"),ae.a.createElement(Ve.Radio.Button,{value:"auto"},"自由"))),ae.a.createElement(j.Item,{title:"开始触发"},ae.a.createElement(t,{defaultValue:n.touchStart,onChange:function(t){return e.changeTouch(t.target.value,"touchStart")},placeholder:"自定义事件名称",enterButton:"拷贝函数",onSearch:this.copyEventName})),ae.a.createElement(j.Item,{title:"移动触发"},ae.a.createElement(t,{defaultValue:n.touchMove,onChange:function(t){return e.changeTouch(t.target.value,"touchMove")},placeholder:"自定义事件名称",enterButton:"拷贝函数",onSearch:this.copyEventName})),ae.a.createElement(j.Item,{title:"结束触发"},ae.a.createElement(t,{defaultValue:n.touchEnd,onChange:function(t){return e.changeTouch(t.target.value,"touchEnd")},placeholder:"自定义事件名称",enterButton:"拷贝函数",onSearch:this.copyEventName})))}}]),n}(re.Component))||Ni)||Ni,Fi={name:"拖拽事件",eventId:"h5ds_event_drag",eventParam:{direction:"auto",touchStart:"",touchMove:"",touchEnd:""}},Wi=ae.a.createElement("i",{className:"h5font ico-tuozhuai"});function $i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Yi,Xi=Wr("editor")(Bi=Rr(Bi=function(e){Jr()(n,e);var t=$i(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).checkValue=ue()(ce.a.mark((function t(){var n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.editor.selectEventTempValue.eventParam,!j.util.isUrl(n.value)){t.next=5;break}return t.abrupt("return",!0);case 5:return Ve.message.error("请填写正确的url地址"),t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)}))),e.onChange=function(t){e.props.editor.selectEventTempValue.eventParam.value=t.target.value},e}return V()(n,[{key:"render",value:function(){var e=this.props.editor.selectEventTempValue.eventParam;return ae.a.createElement("div",{className:"h5-event-editor"},ae.a.createElement(j.Item,{title:"视频讲解",block:!0},ae.a.createElement("div",{className:"h5-event-video"},ae.a.createElement("i",{className:"h5font ico-bofang"}),"视频讲解")),ae.a.createElement(j.Item,{className:"h5-event-popup-radio",title:"超链接参数",block:!0},ae.a.createElement(Ve.Input.TextArea,{defaultValue:e.value,style:{height:120},onChange:this.onChange,placeholder:"请输入超链接地址 http(s):// 开头的：",className:"ui-textarea"})))}}]),n}(re.Component))||Bi)||Bi,Vi={name:"超链接",eventId:"h5ds_event_link",eventParam:{value:""}},Ui=ae.a.createElement("i",{className:"h5font ico-chaolianjie"});n(324);function Gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var qi,Ki=Wr("editor")(Yi=Rr(Yi=function(e){Jr()(n,e);var t=Gi(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).setValue=function(t){var n=e.props.editor.selectEventTempValue,r=n.eventParam.value||"";(r=r.split(",").filter((function(e){return e}))).includes(t.eventId)?r.splice(r.indexOf(t.eventId),1):r.push(t.eventId),n.eventParam.value=r.join(","),e.forceUpdate()},e.changeShowType=function(t){e.props.editor.selectEventTempValue.eventParam.status=t.target.value,e.forceUpdate()},e.getSounds=function(t,n){n.forEach((function(n){"h5ds_sound"===n.pid?t.push({eventId:n.eventId,name:n.data.name}):"h5ds_combin"===n.pid&&e.getSounds(t)}))},e}return V()(n,[{key:"render",value:function(){var e=this,t=this.props.editor.selectEventTempValue.eventParam,n=[],r=this.props.editor.getSelectPageData();return this.getSounds(n,r.layers),ae.a.createElement("div",{className:"h5-event-editor"},ae.a.createElement(j.Item,{title:"视频讲解",block:!0},ae.a.createElement("div",{className:"h5-event-video"},ae.a.createElement("i",{className:"h5font ico-bofang"}),"视频讲解")),ae.a.createElement(j.Item,{title:"事件类型",block:!0},ae.a.createElement(Ve.Radio.Group,{onChange:this.changeShowType,defaultValue:null==t?void 0:t.status,buttonStyle:"solid"},ae.a.createElement(Ve.Radio.Button,{value:"play"},"播放"),ae.a.createElement(Ve.Radio.Button,{value:"pause"},"暂停"),ae.a.createElement(Ve.Radio.Button,{value:"stop"},"停止"),ae.a.createElement(Ve.Radio.Button,{value:"toggle"},"切换"))),ae.a.createElement(j.Item,{title:"可选音乐",block:!0},n.map((function(n){return ae.a.createElement("div",{onClick:function(){return e.setValue(n)},className:qr()("h5-event-sound-item",{"h5-event-sound-item-active":null==t?void 0:t.value.split(",").includes(n.eventId)}),key:n.eventId},n.name)}))))}}]),n}(re.Component))||Yi)||Yi,Zi={name:"音频控制",eventId:"h5ds_event_sound",eventParam:{status:"play",value:""}},Ji=ae.a.createElement("i",{className:"h5font ico-bofang"});function Qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var es,ts=Wr("editor")(qi=Rr(qi=function(e){Jr()(n,e);var t=Qi(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).checkValue=ue()(ce.a.mark((function t(){var n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.editor.selectEventTempValue.eventParam,!j.util.isPhoneNum(n.value)){t.next=5;break}return t.abrupt("return",!0);case 5:return Ve.message.error("请填写正确的电话"),t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)}))),e.onChange=function(t){e.props.editor.selectEventTempValue.eventParam.value=t.target.value},e}return V()(n,[{key:"render",value:function(){var e=this.props.editor.selectEventTempValue.eventParam;return ae.a.createElement("div",{className:"h5-event-editor"},ae.a.createElement(j.Item,{title:"视频讲解",block:!0},ae.a.createElement("div",{className:"h5-event-video"},ae.a.createElement("i",{className:"h5font ico-bofang"}),"视频讲解")),ae.a.createElement(j.Item,{className:"h5-event-popup-radio",title:"电话号码参数",block:!0},ae.a.createElement(Ve.Input,{defaultValue:e.value,onChange:this.onChange,placeholder:"请输入电话号码",className:"ui-input"})))}}]),n}(re.Component))||qi)||qi,ns={name:"发短信",eventId:"h5ds_event_msg",eventParam:{value:""}},rs=ae.a.createElement("i",{className:"h5font ico-faduanxin"});function as(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var os,is=Wr("editor")(es=Rr(es=function(e){Jr()(n,e);var t=as(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).checkValue=ue()(ce.a.mark((function t(){var n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.editor.selectEventTempValue.eventParam,!j.util.isPhoneNum(n.value)){t.next=5;break}return t.abrupt("return",!0);case 5:return Ve.message.error("请填写正确的电话"),t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)}))),e.onChange=function(t){e.props.editor.selectEventTempValue.eventParam.value=t.target.value},e}return V()(n,[{key:"render",value:function(){var e=this.props.editor.selectEventTempValue.eventParam;return ae.a.createElement("div",{className:"h5-event-editor"},ae.a.createElement(j.Item,{title:"视频讲解",block:!0},ae.a.createElement("div",{className:"h5-event-video"},ae.a.createElement("i",{className:"h5font ico-bofang"}),"视频讲解")),ae.a.createElement(j.Item,{className:"h5-event-popup-radio",title:"电话号码参数",block:!0},ae.a.createElement(Ve.Input,{defaultValue:e.value,onChange:this.onChange,placeholder:"请输入电话号码",className:"ui-input"})))}}]),n}(re.Component))||es)||es,ss={name:"打电话",eventId:"h5ds_event_tel",eventParam:{value:""}},cs=ae.a.createElement("i",{className:"h5font ico-dadianhua"});function ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var us,ds=Wr("editor")(os=Rr(os=function(e){Jr()(n,e);var t=ls(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).setValue=function(t){var n=e.props.editor.selectEventTempValue,r=n.eventParam.value||"";(r=r.split(",").filter((function(e){return e}))).includes(t.eventId)?r.splice(r.indexOf(t.eventId),1):r.push(t.eventId),n.eventParam.value=r.join(","),e.forceUpdate()},e}return V()(n,[{key:"render",value:function(){var e=this,t=this.props.editor,n=t.selectEventTempValue,r=(0,t.getSelectPageData)();return r?ae.a.createElement("div",{className:"h5-event-editor"},ae.a.createElement(j.Item,{title:"视频讲解",block:!0},ae.a.createElement("div",{className:"h5-event-video"},ae.a.createElement("i",{className:"h5font ico-bofang"}),"视频讲解")),ae.a.createElement(j.Item,{title:"选择要作用的图层",block:!0},r.layers.map((function(t,r){var a;return ae.a.createElement("div",{onClick:function(){return e.setValue(t)},className:qr()("h5-event-layerlist",{"h5-active":null==(a=n.eventParam)?void 0:a.value.split(",").includes(t.eventId)}),key:t.keyid},ae.a.createElement("span",{className:"h5-event-layerlist-number"},r),ae.a.createElement("span",{className:"h5-event-layerlist-name"},t.name,":",t.eventId))})))):ae.a.createElement("div",null,"未选择任何图层")}}]),n}(re.Component))||os)||os,ps={name:"触发动画",eventId:"h5ds_event_trigger_animate",eventParam:{value:""}},fs=ae.a.createElement("i",{className:"h5font ico-xianshiyincangtuceng"});function hs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var ms,gs=Wr("editor","layout")(us=Rr(us=function(e){Jr()(n,e);var t=hs(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).selectPage=function(t){e.props.editor.selectEventTempValue.eventParam.value=t.eventId,e.forceUpdate()},e}return V()(n,[{key:"render",value:function(){var e=this;this.props.layout.keys.pageList;var t=this.props.editor,n=t.appData,r=t.plugins,a=t.selectEventTempValue.eventParam;return ae.a.createElement("div",{className:"h5-event-editor"},ae.a.createElement(j.Item,{title:"视频讲解",block:!0},ae.a.createElement("div",{className:"h5-event-video"},ae.a.createElement("i",{className:"h5font ico-bofang"}),"视频讲解")),ae.a.createElement(j.Item,{title:"选择要跳转的页面",block:!0},n.pages.map((function(t,n){return ae.a.createElement("div",{onClick:function(){return e.selectPage(t)},key:t.keyid,className:qr()("h5-event-minpage-box",{"h5-active":t.eventId===a.value})},ae.a.createElement("span",{className:"h5-event-number"},n+1),ae.a.createElement("div",{key:t.keyid,className:"h5-event-minpage"},ae.a.createElement(Va.d,{windowStyle:{width:ie.b.appWidth,height:ie.b.appHeight},plugins:r,data:t,renderIn:ie.f.RENDER_IN_PAGELIST})))}))))}}]),n}(re.Component))||us)||us,ys={name:"跳页面",eventId:"h5ds_event_topage",eventParam:{value:""}},vs=ae.a.createElement("i",{className:"h5font ico-tiaoyemian"});n(325);function bs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var ws,xs=Wr("editor")(ms=Rr(ms=function(e){Jr()(n,e);var t=bs(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).setValue=function(t){var n=e.props.editor.selectEventTempValue,r=n.eventParam.value||"";(r=r.split(",").filter((function(e){return e}))).includes(t.eventId)?r.splice(r.indexOf(t.eventId),1):r.push(t.eventId),n.eventParam.value=r.join(","),e.forceUpdate()},e.changeShowType=function(t){e.props.editor.selectEventTempValue.eventParam.status=t.target.value,e.forceUpdate()},e}return V()(n,[{key:"render",value:function(){var e,t=this,n=this.props.editor,r=n.selectEventTempValue,a=(0,n.getSelectPageData)();return a?ae.a.createElement("div",{className:"h5-event-editor"},ae.a.createElement(j.Item,{title:"视频讲解",block:!0},ae.a.createElement("div",{className:"h5-event-video"},ae.a.createElement("i",{className:"h5font ico-bofang"}),"视频讲解")),ae.a.createElement(j.Item,{className:"h5-event-popup-radio",title:"事件类型",block:!0},ae.a.createElement(Ve.Radio.Group,{onChange:this.changeShowType,defaultValue:null==(e=r.eventParam)?void 0:e.status,buttonStyle:"solid"},ae.a.createElement(Ve.Radio.Button,{value:"show"},"显示"),ae.a.createElement(Ve.Radio.Button,{value:"hide"},"隐藏"),ae.a.createElement(Ve.Radio.Button,{value:"toggle"},"切换"))),ae.a.createElement(j.Item,{title:"选择要作用的图层",block:!0},a.layers.map((function(e,n){var a;return ae.a.createElement("div",{onClick:function(){return t.setValue(e)},className:qr()("h5-event-layerlist",{"h5-active":null==(a=r.eventParam)?void 0:a.value.split(",").includes(e.eventId)}),key:e.keyid},ae.a.createElement("span",{className:"h5-event-layerlist-number"},n),ae.a.createElement("span",{className:"h5-event-layerlist-name"},e.name))})))):ae.a.createElement("div",null,"未选择任何图层")}}]),n}(re.Component))||ms)||ms,Es={name:"显示/隐藏图层",eventId:"h5ds_event_toggle_layer",eventParam:{value:"",status:"show"}},_s=ae.a.createElement("i",{className:"h5font ico-xianshiyincangtuceng"});function ks(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Ss,Os=Wr("editor","layout")(ws=Rr(ws=function(e){Jr()(n,e);var t=ks(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).selectPage=function(t){e.props.editor.selectEventTempValue.eventParam.value=t.eventId,e.forceUpdate()},e.setPopupStatus=function(t){e.props.editor.selectEventTempValue.eventParam.status=t.target.value,e.forceUpdate()},e}return V()(n,[{key:"render",value:function(){var e=this;this.props.layout.keys.pageList;var t=this.props.editor,n=t.appData,r=t.plugins,a=t.selectEventTempValue.eventParam;return ae.a.createElement("div",{className:"h5-event-editor"},ae.a.createElement(j.Item,{title:"视频讲解",block:!0},ae.a.createElement("div",{className:"h5-event-video"},ae.a.createElement("i",{className:"h5font ico-bofang"}),"视频讲解")),ae.a.createElement(j.Item,{className:"h5-event-popup-radio",title:"事件类型",block:!0},ae.a.createElement(Ve.Radio.Group,{onChange:this.setPopupStatus,defaultValue:null==a?void 0:a.status,buttonStyle:"solid"},ae.a.createElement(Ve.Radio.Button,{value:"show"},"显示"),ae.a.createElement(Ve.Radio.Button,{value:"hide"},"隐藏"),ae.a.createElement(Ve.Radio.Button,{value:"toggle"},"切换"))),ae.a.createElement(j.Item,{title:"选择要作用的页面",block:!0},0===n.popups.length?ae.a.createElement("div",null,"没有弹窗页面"):null,n.popups.map((function(t,n){return ae.a.createElement("div",{onClick:function(){return e.selectPage(t)},key:t.keyid,className:qr()("h5-event-minpage-box",{"h5-active":t.eventId===a.value})},ae.a.createElement("span",{className:"h5-event-number"},n+1),ae.a.createElement("div",{key:t.keyid,className:"h5-event-minpage"},ae.a.createElement(Va.d,{windowStyle:{width:ie.b.appWidth,height:ie.b.appHeight},plugins:r,data:t,renderIn:ie.f.RENDER_IN_PAGELIST})))}))))}}]),n}(re.Component))||ws)||ws,Cs={name:"显示/隐藏弹窗",eventId:"h5ds_event_toggle_popup",eventParam:{value:""}},Ds=ae.a.createElement("i",{className:"h5font ico-xianshiyincangdanchuang"}),Ps=[f,h,i,s,l,u,p,o,c,d],Is=n(23),As=n.n(Is);n(326);function js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?js(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Ls,Rs=Wr("editor")(Ss=Rr(Ss=function(e){Jr()(n,e);var t=Ns(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).setOk=ue()(ce.a.mark((function e(){var t,n,a,o,i,s,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.editorRef.current.checkValue){e.next=6;break}return e.next=3,r.editorRef.current.checkValue();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:t=r.props.editor,n=t.selectEventTempValue,a=t.getLayerData,o=a(),i=j.util.cloneDeep(n),s=i.type,c=As()(i,["type"]),"add"===s?o.events.push(c):o.events.find((function(e){return e.id===c.id})).eventParam=Ts({},c.eventParam),t.selectEventTempValue=null,t.setSettingType(""),t.setHistory();case 14:case"end":return e.stop()}}),e)}))),r.deleteEvent=function(){var e=r.props.editor,t=e.selectEventTempValue,n=e.getLayerData;if(t){var a=n(),o=j.util.cloneDeep(t),i=o.type,s=As()(o,["type"]),c=a.events.findIndex((function(e){return e.id===s.id}));"change"===i?a.events.splice(c,1):(r.props.editor.selectEventTempValue=null,r.props.editor.setSettingType(""))}else Ve.message.error("未选择事件")},r.editorRef=ae.a.createRef(),r}return V()(n,[{key:"render",value:function(){var e=this.props.editor.selectEventTempValue;if(!e)return ae.a.createElement("div",null,"未选事件");var t=Ps.find((function(t){return t.params.eventId===e.eventId})),n=t.Editor,r=t.params;return ae.a.createElement("div",null,ae.a.createElement("div",{className:"h5-setting-title"},r.name,"配置"),ae.a.createElement(n,{ref:this.editorRef}),ae.a.createElement(j.Item,{className:"h5-event-btns",noTitle:!0,block:!0},ae.a.createElement(Ve.Button,{onClick:this.deleteEvent},"删除事件"),ae.a.createElement(Ve.Button,{onClick:this.setOk,type:"primary"},"确定")))}}]),n}(re.Component))||Ss)||Ss;function Ms(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var zs,Bs=Wr("editor","layout")(Ls=Rr(Ls=function(e){Jr()(n,e);var t=Ms(n);function n(){return Y()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){var e=this.props.editor,t=!!e.settingType,n=ae.a.createElement("div",null,"未知类型：$",e.settingType);switch(e.settingType){case"appBackground":n=ae.a.createElement(Si,{editor:e});break;case"appBackgroundMusic":n=ae.a.createElement(Pi,{editor:e});break;case"historySave":n=ae.a.createElement(ji,{editor:e});break;case"eventEditor":var r=Ps.map((function(e){return e.params.eventId}));e.selectEventTempValue&&r.includes(e.selectEventTempValue.eventId)&&(n=ae.a.createElement(Rs,null))}return ae.a.createElement("div",{style:{transform:"translateX(".concat(t?-301:0,"px)")},className:"h5-app-setting"},n)}}]),n}(re.Component))||Ls)||Ls;n(327);function Hs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Fs=Wr("editor","layout")(zs=Rr(zs=function(e){Jr()(n,e);var t=Hs(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).changeBackground=function(){var t=ue()(ce.a.mark((function t(n){var r,a,o,i,s,c,l;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=te()(n,1),a=r[0],t.t0=a,t.next="change"===t.t0?5:"delete"===t.t0?7:"crop"===t.t0?11:"restore"===t.t0?20:22;break;case 5:return window.pubSubEditor.publish("h5ds.imageModal.show",function(){var t=ue()(ce.a.mark((function t(n){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.is_vip?e.pageData.vip_background=n.url:e.pageData.vip_background=void 0,e.pageData.style.backgroundImage="url(".concat(n.url,")"),e.props.editor.updateCanvas(),e.forceUpdate();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("break",22);case 7:return e.pageData.style.backgroundImage="",e.props.editor.updateCanvas(),e.forceUpdate(),t.abrupt("break",22);case 11:return o=te()(n,3),o[0],i=o[1],s=o[2],t.next=14,j.util.getBase64(s,i);case 14:return c=t.sent,t.next=17,e.props.editor.options.uploadBase64(c);case 17:return(l=t.sent)&&(e.pageData.style.backgroundImage="url(".concat(l.url,")"),e.props.editor.updateCanvas(),e.forceUpdate()),t.abrupt("break",22);case 20:return Ve.message.error("背景图不支持还原"),t.abrupt("break",22);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChange=function(t,n){switch(n){case"fpsAnimate":case"name":e.pageData[n]=t;break;case"width":case"height":t<514&&(t=514),e.pageData.style[n]=t,e.props.editor.updateCanvas();break;case"backgroundRepeat":case"backgroundSize":case"backgroundColor":case"backgroundGlobal":e.pageData.style[n]=t,e.props.editor.updateCanvas();break;case"backgroundImage":e.changeBackground(t);break;case"autoplay":e.pageData.slider[n]=t,e.props.editor.updateCanvas(),e.forceUpdate();break;case"lock":case"time":case"showScroll":e.pageData.slider[n]=t,e.props.editor.updateCanvas()}},e.cropChange=function(e){},e.deleteImage=function(){e.pageData.style.backgroundImage="",e.props.editor.updateCanvas(),e.forceUpdate()},e}return V()(n,[{key:"render",value:function(){var e=this;this.props.layout.keys.setting;var t=this.props.editor,n=t.getSelectPageData,r=t.pageTab,a=(t.appData,n());return this.pageData=a,ae.a.createElement("div",{className:"h5-page-setting"},ae.a.createElement("div",{className:"h5-setting-title"},"页面设置"),ae.a.createElement("div",{className:"h5-setting-content"},a?ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"页面名称"},ae.a.createElement(Ve.Input,{defaultValue:a.name,onChange:function(t){return e.onChange(t.target.value,"name")},block:"true",placeholder:""})),"landscape"===this.props.editor.appData.orientation?ae.a.createElement(j.Item,{title:"页面宽度"},ae.a.createElement(Ve.InputNumber,{key:this.props.editor.forceUpdateSetting.pageHeight,defaultValue:a.style.width,min:514,onChange:function(t){return e.onChange(t,"width")},style:{width:"100%"},block:"true",placeholder:""})):ae.a.createElement(j.Item,{title:"页面高度"},ae.a.createElement(Ve.InputNumber,{key:this.props.editor.forceUpdateSetting.pageHeight,defaultValue:a.style.height,min:514,onChange:function(t){return e.onChange(t,"height")},style:{width:"100%"},block:"true",placeholder:""})),ae.a.createElement(j.Item,{title:"页面背景",block:!0},ae.a.createElement(j.ImgBox,{setting:{change:!0,restore:!1,crop:!0,delete:!0},onChange:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.onChange(n,"backgroundImage")},src:j.util.getBackGroundImageUrl(a.style.backgroundImage)})),a.style.backgroundImage&&ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"背景模式"},ae.a.createElement(Ve.Radio.Group,{className:"h5-radio-group",defaultValue:a.style.backgroundRepeat,buttonStyle:"solid",onChange:function(t){return e.onChange(t.target.value,"backgroundRepeat")}},ae.a.createElement(Ve.Radio.Button,{value:"no-repeat"},"不平铺"),ae.a.createElement(Ve.Radio.Button,{value:"repeat"},"平铺"),ae.a.createElement(Ve.Radio.Button,{value:"repeat-x"},"水平铺"),ae.a.createElement(Ve.Radio.Button,{value:"repeat-y"},"纵向铺"))),ae.a.createElement(j.Item,{title:"背景尺寸"},ae.a.createElement(Ve.Radio.Group,{className:"h5-radio-group",defaultValue:a.style.backgroundSize,onChange:function(t){return e.onChange(t.target.value,"backgroundSize")},buttonStyle:"solid"},ae.a.createElement(Ve.Radio.Button,{value:"initial"},"默认"),ae.a.createElement(Ve.Radio.Button,{value:"contain"},"适配"),ae.a.createElement(Ve.Radio.Button,{value:"100% 100%"},"拉伸")))),ae.a.createElement(j.Item,{title:"背景颜色"},ae.a.createElement(j.ColorGroup,{value:a.style.backgroundColor,onChange:function(t){return e.onChange(t,"backgroundColor")}})),ae.a.createElement(j.Item,{title:"全局背景"},ae.a.createElement(Ve.Switch,{defaultChecked:a.style.backgroundGlobal,onChange:function(t){return e.onChange(t,"backgroundGlobal")}})),ae.a.createElement(Ve.Divider,null),"page"===r&&ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"滑帧动画"},ae.a.createElement(Ve.Switch,{defaultChecked:a.fpsAnimate,onChange:function(t){return e.onChange(t,"fpsAnimate")}})," ","   ",ae.a.createElement(Ve.Tooltip,{title:"滑帧动画开启后，只有滚动页面才会触发动画"},ae.a.createElement("i",{className:"h5font ico-yiwen"}))),ae.a.createElement(j.Item,{title:"自动翻页"},ae.a.createElement(Ve.Switch,{defaultChecked:a.slider.autoplay,onChange:function(t){return e.onChange(t,"autoplay")}})," ","   ",ae.a.createElement(Ve.Tooltip,{title:"说明文件"},ae.a.createElement("i",{className:"h5font ico-yiwen"}))),a.slider.autoplay?ae.a.createElement(j.Item,{title:"翻页时间"},ae.a.createElement(j.SliderGroup,{min:0,max:50,step:1,value:a.slider.time,onChange:function(t){return e.onChange(t,"time")}})):null,ae.a.createElement(j.Item,{title:"锁定翻页"},ae.a.createElement(Ve.Switch,{defaultChecked:a.slider.lock,onChange:function(t){return e.onChange(t,"lock")}})," ","   ",ae.a.createElement(Ve.Tooltip,{title:"说明文件"},ae.a.createElement("i",{className:"h5font ico-yiwen"}))))):ae.a.createElement(j.Errors,{type:"nopage",info:"未选择任何页面",theme:this.props.layout.theme})))}}]),n}(re.Component))||zs)||zs;n(328);function Ws(){var e=ur((function(){return Rn})),t=e.getLayerData().style,n=Object(re.useState)(t),r=te()(n,2),a=r[0],o=r[1];Rn.$control=null;var i=function(n,r){a[r]=n,o(j.util.cloneDeep(a)),t[r]=n,Rn.controlChange(S()({},r,n+"px")),e.updateCanvas()},s=function(n){var r=t.flip,a=void 0===r?[1,1]:r,o=te()(a,2),i=o[0],s=void 0===i?1:i,c=o[1],l=void 0===c?1:c;"left-right"===n?s=1===parseInt(s,10)?-1:1:l=1===parseInt(l,10)?-1:1,t.flip=[s,l],e.updateCanvas()},c=U.a.getTransform(a.transform);return tr((function(){return ae.a.createElement(ae.a.Fragment,null,ae.a.createElement("div",{className:"h5-layer-setting-basic"},ae.a.createElement(j.Item,{titleWidth:18,title:"W"},ae.a.createElement(Ve.InputNumber,{value:a.width,onChange:function(e){return i(e,"width")},size:"small"})),ae.a.createElement(j.Item,{titleWidth:18,title:"H"},ae.a.createElement(Ve.InputNumber,{value:a.height,onChange:function(e){return i(e,"height")},size:"small"})),ae.a.createElement(j.Item,{titleWidth:18,title:ae.a.createElement("i",{className:"h5font ico-xuanzhuan",title:"旋转"})},ae.a.createElement(Ve.InputNumber,{value:c.rotate,onChange:function(n){return r=n,i=U.a.setTransform(t.transform,{rotate:r}),a.transform=i,o(j.util.cloneDeep(a)),t.transform=i,e.updateCanvas(),void Rn.controlChange({transform:i});var r,i},size:"small"}))),ae.a.createElement("div",{className:"h5-layer-setting-basic"},ae.a.createElement(j.Item,{titleWidth:18,title:"X"},ae.a.createElement(Ve.InputNumber,{value:a.left,onChange:function(e){return i(e,"left")},size:"small"})),ae.a.createElement(j.Item,{titleWidth:18,title:"Y"},ae.a.createElement(Ve.InputNumber,{value:a.top,onChange:function(e){return i(e,"top")},size:"small"})),ae.a.createElement(j.Item,{titleWidth:18,noTitle:!0},ae.a.createElement("i",{onClick:function(){return s("left-right")},className:"h5font ico-pinghangfanzhuan",title:"水平翻转"}),"   ",ae.a.createElement("i",{onClick:function(){return s("up-down")},className:"h5font ico-chuizhifanzhuan",title:"垂直翻转"}))))}))}function $s(){var e=Rn.getLayerData(),t=function(t,n){e[n]=t.target.value,Rn.asyncUpdateCanvas()};return ae.a.createElement("div",null,ae.a.createElement(j.Item,{title:"ID"},ae.a.createElement(Ve.Input,{defaultValue:e.id,onChange:function(e){return t(e,"id")},size:"small"})),ae.a.createElement(j.Item,{title:"class"},ae.a.createElement(Ve.Input,{defaultValue:e.className,onChange:function(e){return t(e,"className")},size:"small"})))}var Ys;n(329);function Xs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Vs=Wr("editor")(Ys=Rr(Ys=function(e){Jr()(n,e);var t=Xs(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).onChange=function(e){r.layer.adsorb=!!e&&"top-left",r.setState({checked:e,active:"h5ds-adsorbset-".concat(r.layer.adsorb)}),r.props.editor.setHistory()},r.setAdsorb=function(e){r.setState({active:e}),r.layer.adsorb=e.replace("h5ds-adsorbset-",""),r.props.editor.setHistory()},r.layer=e.editor.getLayerData(),r.state={checked:!!r.layer.adsorb,active:"h5ds-adsorbset-".concat(r.layer.adsorb)},r}return V()(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.checked,r=t.active,a=(this.props.editor.plugins.pluginsKey[this.layer.pid]||{}).editorConfig,o=void 0===a?{}:a;return ae.a.createElement("div",{className:"h5ds-adsorbset"},!1!==o.adsorb&&ae.a.createElement(j.Collapse,{title:"外框吸附",checked:n,onChange:this.onChange},ae.a.createElement("div",{className:"ui-item-outbox"},ae.a.createElement("div",{className:"h5ds-adsorbset-dots"},["h5ds-adsorbset-top-left","h5ds-adsorbset-top-center","h5ds-adsorbset-top-right","h5ds-adsorbset-left-center","h5ds-adsorbset-right-center","h5ds-adsorbset-bottom-left","h5ds-adsorbset-bottom-center","h5ds-adsorbset-bottom-right"].map((function(t){return ae.a.createElement("a",{onClick:function(){return e.setAdsorb(t)},key:t,className:qr()(t,{"h5ds-adsorbset-active":t===r})})}))),ae.a.createElement("div",{className:"h5ds-adsorbset-info"},"说明：吸附效果会根据整个视图区域进行定位，选择 一个相对的对齐点"))))}}]),n}(re.Component))||Ys)||Ys;function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qs=function(){var e=Rn.getLayerData().estyle,t=U.a.getBorder(e.border),n=Object(re.useState)(t),r=te()(n,2),a=r[0],o=r[1],i=function(t,n){a[n]=t,o(Gs({},a)),e.border=U.a.setBorder(e.border,Gs({},a)),Rn.updateCanvas()};return ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"边框类型"},ae.a.createElement(Ve.Radio.Group,{size:"small",value:a.type,buttonStyle:"solid",onChange:function(e){return i(e.target.value,"type")}},ae.a.createElement(Ve.Radio.Button,{value:"solid"},"实线"),ae.a.createElement(Ve.Radio.Button,{value:"double"},"双线"),ae.a.createElement(Ve.Radio.Button,{value:"dashed"},"虚线"),ae.a.createElement(Ve.Radio.Button,{value:"dotted"},"点线"))),ae.a.createElement(j.Item,{title:"边框大小"},ae.a.createElement(j.SliderGroup,{width:90,step:1,min:0,max:100,value:a.size,onChange:function(e){return i(e,"size")}})),ae.a.createElement(j.Item,{title:"边框颜色"},ae.a.createElement(j.ColorGroup,{value:a.color,onChange:function(e){return i(e,"color")}})))};function Ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Js=function(){var e=Rn.getLayerData().estyle,t=U.a.getBoxshadow(e.boxShadow),n=Object(re.useState)(t),r=te()(n,2),a=r[0],o=r[1],i=function(t,n){a[n]=t,o(Zs({},a)),e.boxShadow=U.a.setBoxshadow(e.boxShadow,Zs({},a)),Rn.updateCanvas()};return ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"阴影颜色"},ae.a.createElement(j.ColorGroup,{value:a.color||"rgba(0,0,0,1)",onChange:function(e){return i(e,"color")}})),ae.a.createElement(j.Item,{title:"阴影大小"},ae.a.createElement(j.SliderGroup,{width:90,value:a.size,onChange:function(e){return i(e,"size")},step:1,min:0,max:100})))};function Qs(){var e=Rn.getLayerData().style,t=e.opacity;void 0===t&&(t=1);var n=Object(re.useState)(t),r=te()(n,2),a=r[0],o=r[1];return ae.a.createElement(j.Item,{title:"透明度"},ae.a.createElement(j.SliderGroup,{width:90,value:a,onChange:function(t){o(t),e.opacity=t,Rn.updateCanvas()}}))}function ec(){var e=Rn.getLayerData().estyle;"number"==typeof e.borderRadius&&(e.borderRadius="".concat(e.borderRadius,"px"));var t=(e.borderRadius||"0px").split(" ");1===t.length&&(t=new Array(4).fill(e.borderRadius||"0px"));var n=Object(re.useState)(1!==Array.from(new Set(t)).length),r=te()(n,2),a=r[0],o=r[1],i=Object(re.useState)(t),s=te()(i,2),c=s[0],l=s[1],u=function(t,n){c[n]=t+"px",l(Q()(c)),e.borderRadius=c.join(" "),Rn.updateCanvas()};return ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"高级设置"},ae.a.createElement(Ve.Switch,{checked:a,onChange:o})),a?ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"左上角"},ae.a.createElement(j.SliderGroup,{step:1,max:1e3,width:90,value:parseInt(c[0],10),onChange:function(e){return u(e,0)}})),ae.a.createElement(j.Item,{title:"右上角"},ae.a.createElement(j.SliderGroup,{step:1,max:1e3,width:90,value:parseInt(c[1],10),onChange:function(e){return u(e,1)}})),ae.a.createElement(j.Item,{title:"右下角"},ae.a.createElement(j.SliderGroup,{step:1,max:1e3,width:90,value:parseInt(c[2],10),onChange:function(e){return u(e,2)}})),ae.a.createElement(j.Item,{title:"左下角"},ae.a.createElement(j.SliderGroup,{step:1,max:1e3,width:90,value:parseInt(c[3],10),onChange:function(e){return u(e,3)}}))):ae.a.createElement(j.Item,{title:"设置圆角"},ae.a.createElement(j.SliderGroup,{width:90,step:1,max:1e3,value:parseInt(c[0],10),onChange:function(t){l(new Array(4).fill(t+"px")),e.borderRadius=new Array(4).fill(t+"px").join(" "),Rn.updateCanvas()}})))}var tc;n(330);function nc(e){var t=e.title,n=e.children;return ae.a.createElement("div",{className:"h5-animate-item"},ae.a.createElement("label",{className:"h5-animate-item-title"},t),ae.a.createElement("div",{className:"h5-animate-item-content h5-uniq-undrag"},n))}function rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var ac,oc=Wr("editor","layout")(tc=Rr(tc=function(e){Jr()(n,e);var t=rc(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).addAniamte=function(){r.props.editor.showAnimateItemId="add"},r.deleteAnimate=function(e,t){e.stopPropagation();var n=r.props.editor,a=n.getLayerData,o=n.setHistory,i=a();i.animate.splice(t,1),U.a.resetAnimate(i.animate),Object(ye.transaction)((function(){r.props.editor.showAnimateItemId="add",r.props.editor.drawPathAnimate=!1,r.props.editor.forceUpdateSet("animate"),r.props.layout.updateComponent("timeline"),o()}))},r.selectAnimate=function(e,t){$(t.target).closest(".h5-uniq-undrag")[0]||(e.keyid!==r.props.editor.drawPathAnimate?"path"!==e.type?e.keyid===r.props.editor.showAnimateItemId?r.props.editor.showAnimateItemId=null:r.props.editor.showAnimateItemId=e.keyid:r.props.editor.drawPathAnimate=e.keyid:r.props.editor.drawPathAnimate=null)},r.updateView=function(e){e.keyid=j.util.randomID(),r.props.editor.updateCanvas(),r.props.layout.updateComponent("timeline")},r.addPathAniamte=function(){r.props.editor.drawPathAnimate=!0},r}return V()(n,[{key:"componentDidMount",value:function(){var e=this;$(".h5-animate-set-list").on("uniqend",(function(t,n){var r=e.props.editor,a=r.getLayerData;(0,r.sortAnimate)(a().animate,n.from,n.to),e.props.editor.forceUpdateSet("animate"),e.props.layout.updateComponent("timeline")}))}},{key:"componentWillUnmount",value:function(){$(".h5-animate-set-list").off("uniqend")}},{key:"render",value:function(){var e=this,t=Ve.Select.Option,n=this.props.editor,r=n.getLayerData,a=n.showAnimateItemId,o=n.selectMultipleLayerKeyIdsArray,i=n.forceUpdateSetting,s=n.drawPathAnimate,c=r();return c?ae.a.createElement("div",{className:"h5-animate-set",key:o.join("-")},ae.a.createElement("ul",{className:"h5-animate-set-list h5-uniqlist"},c.animate.map((function(n,r){return ae.a.createElement("li",{onClick:function(t){return e.selectAnimate(n,t)},key:n.keyid,className:qr()("h5-uniqlist-item h5-uniqlist-handle",{"h5-active":a===n.keyid||s===n.keyid})},ae.a.createElement("a",{onClick:function(t){return e.deleteAnimate(t,r)},className:"h5font ico-guanbi1",title:"删除动画"}),ae.a.createElement(Ve.Row,null,ae.a.createElement(Ve.Col,{span:12},ae.a.createElement(nc,{title:"名称"},n.tips)),ae.a.createElement(Ve.Col,{span:12},ae.a.createElement(nc,{title:"类型"},n.type))),ae.a.createElement(Ve.Row,null,ae.a.createElement(Ve.Col,{span:12},ae.a.createElement(nc,{title:"时间"},ae.a.createElement(Ve.InputNumber,{precision:1,key:i.animate,size:"small",step:.1,defaultValue:n.duration,onChange:function(t){n.duration=t,e.updateView(n)}}))),ae.a.createElement(Ve.Col,{span:12},ae.a.createElement(nc,{title:"延迟"},ae.a.createElement(Ve.InputNumber,{onMouseDown:e.stopPropagation,precision:1,key:i.animate,size:"small",step:.1,onChange:function(t){n.delay=t,e.updateView(n)},defaultValue:n.delay})))),ae.a.createElement(Ve.Row,null,ae.a.createElement(Ve.Col,{span:12},ae.a.createElement(nc,{title:"重复"},ae.a.createElement(Ve.Select,{size:"small",defaultValue:n.count,onChange:function(t){n.count=t,e.updateView(n)}},new Array(20).fill(1).map((function(e,n){return ae.a.createElement(t,{value:n+1,key:n},n+1)})),ae.a.createElement(t,{value:1/0},"无限")))),ae.a.createElement(Ve.Col,{span:12},ae.a.createElement(nc,{title:"缓动"},ae.a.createElement(Ve.Select,{size:"small",defaultValue:n.timing,onChange:function(t){n.timing=t,e.updateView(n)}},ae.a.createElement(t,{value:"ease"},"默认"),ae.a.createElement(t,{value:"linear"},"匀速"),ae.a.createElement(t,{value:"ease-in"},"加速"),ae.a.createElement(t,{value:"ease-out"},"减速"),ae.a.createElement(t,{value:"ease-in-out"},"起慢"))))))}))),ae.a.createElement(Ve.Button,{block:!0,type:"primary",className:"h5-btn-add",onClick:this.addAniamte},ae.a.createElement("i",{className:"h5font ico-jia"}),"add"===a?"请选择动画":"添加动画"),ae.a.createElement(Ve.Button,{block:!0,className:"h5-btn-add",onClick:this.addPathAniamte},ae.a.createElement("i",{className:"h5font ico-lujingdonghua"}),"添加帧动画")):ae.a.createElement("div",null,"未选图层")}}]),n}(re.Component))||tc)||tc;n(331);function ic(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var sc,cc=Wr("editor")(ac=Rr(ac=function(e){Jr()(n,e);var t=ic(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).addEvent=function(){e.props.editor.showEventItemId=!0},e.changeEvent=function(t){e.props.editor.selectEventTempValue=Object.assign(j.util.cloneDeep(t),{type:"change"}),e.props.editor.setSettingType("eventEditor")},e.deleteEvent=function(t){var n=e.props.editor.getLayerData(),r=n.events.findIndex((function(e){return e.id===t.id}));n.events.splice(r,1),e.props.editor.selectEventTempValue=null,e.forceUpdate()},e}return V()(n,[{key:"render",value:function(){var e=this,t=this.props.editor,n=t.getLayerData,r=(t.settingType,n());return r?(r.events,ae.a.createElement("div",{className:"h5-event-set"},r.events.map((function(t){return ae.a.createElement("div",{className:"h5-event-item",key:t.id},ae.a.createElement("h1",null,t.name),ae.a.createElement("a",{onClick:function(){return e.deleteEvent(t)}},ae.a.createElement("i",{className:"h5font ico-shanchu"}),"  删除事件"),"   ",ae.a.createElement("a",{onClick:function(){return e.changeEvent(t)}},ae.a.createElement("i",{className:"h5font ico-shezhi"}),"  修改参数"))})),ae.a.createElement(Ve.Button,{block:!0,type:"primary",className:"h5-btn-add",onClick:this.addEvent},ae.a.createElement("i",{className:"h5font ico-jia"}),"添加事件"))):ae.a.createElement("div",null,"未选择任何图层")}}]),n}(re.Component))||ac)||ac;function lc(){var e=Rn.getLayerData(),t=function(t,n){e.offset[n]=t,Rn.asyncUpdateCanvas()};return ae.a.createElement("div",null,ae.a.createElement(j.Item,{title:"开启浮动"},ae.a.createElement(Ve.Switch,{defaultChecked:!e.offset.disable,onChange:function(e){return t(!e,"disable")}})),ae.a.createElement(j.Item,{title:"顶部距离"},ae.a.createElement(Ve.InputNumber,{defaultValue:e.offset.top||0,onChange:function(e){return t(e,"top")},size:"small"})))}function uc(e){e.layer;var t=e.editor,n=t.getSelectLayerIndex,r=t.getSelectPageData,a=t.exChangeLayer;return ae.a.createElement(j.Item,{title:"快捷操作"},ae.a.createElement(Ve.Space,null,ae.a.createElement(Ve.Button,{type:"primary",onClick:function(){return t.deleteLayer()},size:"small"},"删除"),ae.a.createElement(Ve.Button,{onClick:function(){var e=n();0===e?Ve.message.warn("已经在最顶层了"):a(e,0)},size:"small"},"置顶"),ae.a.createElement(Ve.Button,{onClick:function(){var e=n(),t=r();e===t.layers.length-1?Ve.message.warn("已经在最底层了"):a(e,t.layers.length-1)},size:"small"},"置底")))}function dc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var pc,fc=Wr("editor","layout")(sc=Rr(sc=function(e){Jr()(n,e);var t=dc(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).changeTabs=function(t){"2"!==t?e.props.editor.showAnimateItemId=null:"3"!==t&&(e.props.editor.showEventItemId=null)},e.changeHide=function(t){var n=e.props.editor.getLayerData();n.style.display=t?"none":"block",e.props.editor.updateCanvas()},e.changeDisableInitAnimate=function(t){e.props.editor.getLayerData().disableInitAnimate=t,e.props.editor.updateCanvas()},e}return V()(n,[{key:"render",value:function(){var e=this.props.editor,t=e.getLayerData,n=e.plugins,r=e.forceUpdateSetting,a=t();if(!a)return ae.a.createElement("div",{className:"h5-layer-setting"},ae.a.createElement(j.Errors,{theme:this.props.layout.theme,type:"data",info:"图层数据异常"}));var o=n.pluginsKey[a.pid]||{},i=o.Editor,s=o.editorConfig;if(!i)return ae.a.createElement("div",{className:"h5-layer-setting"},ae.a.createElement(j.Errors,{theme:this.props.layout.theme,type:"nolayer",info:"未找到该插件"}));s=Object.assign({rotate:!0,borderRadius:!0,opacity:!0,backgroundColor:!0,animate:!0,event:!0,hide:!0,size:!0,shadow:!0,border:!0,top:!0,left:!0,width:!0,height:!0,adsorb:!0,idClass:!0,disableInitAnimate:!0},s||{});var c=Ve.Tabs.TabPane;return ae.a.createElement("div",{className:"h5-layer-setting"},ae.a.createElement(Ve.Tabs,{animated:!1,onChange:this.changeTabs,className:"ui-tabs",defaultActiveKey:"1"},ae.a.createElement(c,{tab:"图层样式",key:"1"},ae.a.createElement("div",{className:"h5-setting-layerset"},ae.a.createElement(i,{key:r.editor,editor:this.props.editor,layer:a}),ae.a.createElement(Ve.Divider,{style:{margin:0}}),ae.a.createElement(uc,{editor:this.props.editor,layer:a}),s.adsorb&&ae.a.createElement(Vs,null),s.hide&&ae.a.createElement(j.Collapse,{key:r.other+"_hide",checked:["","none"].includes(a.style.display||"block"),onChange:this.changeHide,title:"隐藏元素"}),s.disableInitAnimate&&ae.a.createElement(j.Collapse,{key:r.other+"_disableInitAnimate",checked:a.disableInitAnimate,onChange:this.changeDisableInitAnimate,title:"禁始动画"}),s.idClass&&ae.a.createElement(j.Collapse,{visible:!1,title:"ID/Class"},ae.a.createElement($s,{editorConfig:s,key:r.idClass})),ae.a.createElement(j.Collapse,{visible:!1,title:"浮动定位"},ae.a.createElement(lc,{editorConfig:s,key:r.offset})),s.size&&ae.a.createElement(j.Collapse,{visible:!1,title:"宽高坐标"},ae.a.createElement(Ws,{editorConfig:s,key:r.positionSize})),s.border&&ae.a.createElement(j.Collapse,{visible:!1,title:"设置边框"},ae.a.createElement(qs,{key:r.other+"_border"})),s.shadow&&ae.a.createElement(j.Collapse,{visible:!1,title:"设置阴影"},ae.a.createElement(Js,{key:r.other+"_shadow"})),s.borderRadius&&ae.a.createElement(j.Collapse,{visible:!1,title:"设置圆角"},ae.a.createElement(ec,{key:r.other+"_borderRadius"})),s.opacity&&ae.a.createElement(j.Collapse,{visible:!1,title:"透明度"},ae.a.createElement(Qs,{key:r.other+"_opacity"})))),ae.a.createElement(c,{tab:"图层动画",disabled:!s.animate,key:"2"},ae.a.createElement(oc,{key:r.animate})),ae.a.createElement(c,{tab:"图层交互",disabled:!s.event,key:"3"},ae.a.createElement(cc,{key:r.event}))))}}]),n}(re.Component))||sc)||sc,hc=(n(332),[{tips:"无动画",cropIndex:28,type:"in",direction:"normal",fillMode:"forwards",name:"nullInKey",duration:1,delay:0,count:1,timing:"linear"},{tips:"快闪",cropIndex:28,type:"in",direction:"normal",fillMode:"forwards",name:"fastShow",duration:.1,delay:0,count:1,timing:"linear"},{tips:"缩小入",cropIndex:42,type:"in",direction:"normal",fillMode:"forwards",name:"smallIn",duration:1,delay:0,count:1,timing:"ease"},{tips:"弹入",cropIndex:11,type:"in",direction:"normal",fillMode:"forwards",name:"bounceIn",duration:1,delay:0,count:1,timing:"ease"},{tips:"上弹入",cropIndex:44,type:"in",direction:"normal",fillMode:"forwards",name:"bounceInDown",duration:1,delay:0,count:1,timing:"ease"},{tips:"左弹入",cropIndex:55,type:"in",direction:"normal",fillMode:"forwards",name:"bounceInLeft",duration:1,delay:0,count:1,timing:"ease"},{tips:"右弹入",cropIndex:64,type:"in",direction:"normal",fillMode:"forwards",name:"bounceInRight",duration:1,delay:0,count:1,timing:"ease"},{tips:"下弹入",cropIndex:32,type:"in",direction:"normal",fillMode:"forwards",name:"bounceInUp",duration:1,delay:0,count:1,timing:"ease"},{tips:"渐显",cropIndex:26,type:"in",direction:"normal",fillMode:"forwards",name:"fadeIn",duration:1,delay:0,count:1,timing:"ease"},{tips:"上渐显",cropIndex:48,type:"in",direction:"normal",fillMode:"forwards",name:"fadeInDown",duration:1,delay:0,count:1,timing:"ease"},{tips:"上远渐显",cropIndex:52,type:"in",direction:"normal",fillMode:"forwards",name:"fadeInDownBig",duration:1,delay:0,count:1,timing:"ease"},{tips:"左渐显",cropIndex:80,type:"in",direction:"normal",fillMode:"forwards",name:"fadeInLeft",duration:1,delay:0,count:1,timing:"ease"},{tips:"左远渐显",cropIndex:78,type:"in",direction:"normal",fillMode:"forwards",name:"fadeInLeftBig",duration:1,delay:0,count:1,timing:"ease"},{tips:"右渐入",cropIndex:72,type:"in",direction:"normal",fillMode:"forwards",name:"fadeInRight",duration:1,delay:0,count:1,timing:"ease"},{tips:"右远渐入",cropIndex:66,type:"in",direction:"normal",fillMode:"forwards",name:"fadeInRightBig",duration:1,delay:0,count:1,timing:"ease"},{tips:"下渐入",cropIndex:36,type:"in",direction:"normal",fillMode:"forwards",name:"fadeInUp",duration:1,delay:0,count:1,timing:"ease"},{tips:"下远渐入",cropIndex:40,type:"in",direction:"normal",fillMode:"forwards",name:"fadeInUpBig",duration:1,delay:0,count:1,timing:"ease"},{tips:"X翻牌",cropIndex:5,type:"in",direction:"normal",fillMode:"forwards",name:"flipInX",duration:1,delay:0,count:1,timing:"ease"},{tips:"Y翻牌",cropIndex:2,type:"in",direction:"normal",fillMode:"forwards",name:"flipInY",duration:1,delay:0,count:1,timing:"ease"},{tips:"光速入",cropIndex:20,type:"in",direction:"normal",fillMode:"forwards",name:"lightSpeedIn",duration:1,delay:0,count:1,timing:"ease"},{tips:"滚入",cropIndex:21,type:"in",direction:"normal",fillMode:"forwards",name:"rotateIn",duration:1,delay:0,count:1,timing:"ease"},{tips:"左上滚入",cropIndex:82,type:"in",direction:"normal",fillMode:"forwards",name:"rotateInDownLeft",duration:1,delay:0,count:1,timing:"ease"},{tips:"右上滚入",cropIndex:61,type:"in",direction:"normal",fillMode:"forwards",name:"rotateInDownRight",duration:1,delay:0,count:1,timing:"ease"},{tips:"左下滚入",cropIndex:69,type:"in",direction:"normal",fillMode:"forwards",name:"rotateInUpLeft",duration:1,delay:0,count:1,timing:"ease"},{tips:"右下滚入",cropIndex:63,type:"in",direction:"normal",fillMode:"forwards",name:"rotateInUpRight",duration:1,delay:0,count:1,timing:"ease"},{tips:"下滑入",cropIndex:35,type:"in",direction:"normal",fillMode:"forwards",name:"slideInUp",duration:1,delay:0,count:1,timing:"ease"},{tips:"上滑入",cropIndex:47,type:"in",direction:"normal",fillMode:"forwards",name:"slideInDown",duration:1,delay:0,count:1,timing:"ease"},{tips:"左滑入",cropIndex:81,type:"in",direction:"normal",fillMode:"forwards",name:"slideInLeft",duration:1,delay:0,count:1,timing:"ease"},{tips:"右滑入",cropIndex:75,type:"in",direction:"normal",fillMode:"forwards",name:"slideInRight",duration:1,delay:0,count:1,timing:"ease"},{tips:"放大",cropIndex:16,type:"in",direction:"normal",fillMode:"forwards",name:"zoomIn",duration:1,delay:0,count:1,timing:"ease"},{tips:"从上放大",cropIndex:9,type:"in",direction:"normal",fillMode:"forwards",name:"zoomInDown",duration:1,delay:0,count:1,timing:"ease"},{tips:"从左放大",cropIndex:8,type:"in",direction:"normal",fillMode:"forwards",name:"zoomInLeft",duration:1,delay:0,count:1,timing:"ease"},{tips:"从右放大",cropIndex:7,type:"in",direction:"normal",fillMode:"forwards",name:"zoomInRight",duration:1,delay:0,count:1,timing:"ease"},{tips:"从下放大",cropIndex:6,type:"in",direction:"normal",fillMode:"forwards",name:"zoomInUp",duration:1,delay:0,count:1,timing:"ease"},{tips:"左滚入",cropIndex:71,type:"in",direction:"normal",fillMode:"forwards",name:"rollIn",duration:1,delay:0,count:1,timing:"ease"}]),mc=[{tips:"无动画",cropIndex:28,type:"out",direction:"normal",fillMode:"forwards",name:"nullOutKey",duration:1,delay:0,count:1,timing:"linear"},{tips:"弹走",cropIndex:58,type:"out",direction:"normal",fillMode:"forwards",name:"bounceOut",duration:1,delay:0,count:1,timing:"ease"},{tips:"下弹走",cropIndex:45,type:"out",direction:"normal",fillMode:"forwards",name:"bounceOutDown",duration:1,delay:0,count:1,timing:"ease"},{tips:"左弹走",cropIndex:58,type:"out",direction:"normal",fillMode:"forwards",name:"bounceOutLeft",duration:1,delay:0,count:1,timing:"ease"},{tips:"右弹走",cropIndex:56,type:"out",direction:"normal",fillMode:"forwards",name:"bounceOutRight",duration:1,delay:0,count:1,timing:"ease"},{tips:"上弹走",cropIndex:33,type:"out",direction:"normal",fillMode:"forwards",name:"bounceOutUp",duration:1,delay:0,count:1,timing:"ease"},{tips:"渐隐",cropIndex:27,type:"out",direction:"normal",fillMode:"forwards",name:"fadeOut",duration:1,delay:0,count:1,timing:"ease"},{tips:"下渐隐",cropIndex:49,type:"out",direction:"normal",fillMode:"forwards",name:"fadeOutDown",duration:1,delay:0,count:1,timing:"ease"},{tips:"下渐隐快",cropIndex:50,type:"out",direction:"normal",fillMode:"forwards",name:"fadeOutDownBig",duration:1,delay:0,count:1,timing:"ease"},{tips:"左渐隐",cropIndex:74,type:"out",direction:"normal",fillMode:"forwards",name:"fadeOutLeft",duration:1,delay:0,count:1,timing:"ease"},{tips:"左渐隐快",cropIndex:73,type:"out",direction:"normal",fillMode:"forwards",name:"fadeOutLeftBig",duration:1,delay:0,count:1,timing:"ease"},{tips:"右渐隐",cropIndex:72,type:"out",direction:"normal",fillMode:"forwards",name:"fadeOutRight",duration:1,delay:0,count:1,timing:"ease"},{tips:"右渐隐快",cropIndex:77,type:"out",direction:"normal",fillMode:"forwards",name:"fadeOutRightBig",duration:1,delay:0,count:1,timing:"ease"},{tips:"上渐隐",cropIndex:37,type:"out",direction:"normal",fillMode:"forwards",name:"fadeOutUp",duration:1,delay:0,count:1,timing:"ease"},{tips:"上渐隐快",cropIndex:38,type:"out",direction:"normal",fillMode:"forwards",name:"fadeOutUpBig",duration:1,delay:0,count:1,timing:"ease"},{tips:"X翻牌隐",cropIndex:3,type:"out",direction:"normal",fillMode:"forwards",name:"flipOutX",duration:1,delay:0,count:1,timing:"ease"},{tips:"Y翻牌隐",cropIndex:1,type:"out",direction:"normal",fillMode:"forwards",name:"flipOutY",duration:1,delay:0,count:1,timing:"ease"},{tips:"光速离开",cropIndex:19,type:"out",direction:"normal",fillMode:"forwards",name:"lightSpeedOut",duration:1,delay:0,count:1,timing:"ease"},{tips:"滚隐",cropIndex:22,type:"out",direction:"normal",fillMode:"forwards",name:"rotateOut",duration:1,delay:0,count:1,timing:"ease"},{tips:"左下滚出",cropIndex:65,type:"out",direction:"normal",fillMode:"forwards",name:"rotateOutDownLeft",duration:1,delay:0,count:1,timing:"ease"},{tips:"右下滚出",cropIndex:60,type:"out",direction:"normal",fillMode:"forwards",name:"rotateOutDownRight",duration:1,delay:0,count:1,timing:"ease"},{tips:"左上滚出",cropIndex:59,type:"out",direction:"normal",fillMode:"forwards",name:"rotateOutUpLeft",duration:1,delay:0,count:1,timing:"ease"},{tips:"右上滚出",cropIndex:70,type:"out",direction:"normal",fillMode:"forwards",name:"rotateOutUpRight",duration:1,delay:0,count:1,timing:"ease"},{tips:"上滑出",cropIndex:34,type:"out",direction:"normal",fillMode:"forwards",name:"slideOutUp",duration:1,delay:0,count:1,timing:"ease"},{tips:"下滑出",cropIndex:46,type:"out",direction:"normal",fillMode:"forwards",name:"slideOutDown",duration:1,delay:0,count:1,timing:"ease"},{tips:"左滑出",cropIndex:68,type:"out",direction:"normal",fillMode:"forwards",name:"slideOutLeft",duration:1,delay:0,count:1,timing:"ease"},{tips:"右滑出",cropIndex:79,type:"out",direction:"normal",fillMode:"forwards",name:"slideOutRight",duration:1,delay:0,count:1,timing:"ease"},{tips:"缩小",cropIndex:41,type:"out",direction:"normal",fillMode:"forwards",name:"zoomOut",duration:1,delay:0,count:1,timing:"ease"},{tips:"下缩小",cropIndex:51,type:"out",direction:"normal",fillMode:"forwards",name:"zoomOutDown",duration:1,delay:0,count:1,timing:"ease"},{tips:"左缩小",cropIndex:67,type:"out",direction:"normal",fillMode:"forwards",name:"zoomOutLeft",duration:1,delay:0,count:1,timing:"ease"},{tips:"右缩小",cropIndex:62,type:"out",direction:"normal",fillMode:"forwards",name:"zoomOutRight",duration:1,delay:0,count:1,timing:"ease"},{tips:"上缩小",cropIndex:39,type:"out",direction:"normal",fillMode:"forwards",name:"zoomOutUp",duration:1,delay:0,count:1,timing:"ease"},{tips:"掉链子",cropIndex:14,type:"out",direction:"normal",fillMode:"forwards",name:"hinge",duration:1,delay:0,count:1,timing:"ease"},{tips:"右滚走",cropIndex:57,type:"out",direction:"normal",fillMode:"forwards",name:"rollOut",duration:1,delay:0,count:1,timing:"ease"},{tips:"放大消失",cropIndex:17,type:"out",direction:"normal",fillMode:"forwards",name:"toBigFade",duration:1,delay:0,count:1,timing:"ease"}],gc=[{tips:"无动画",cropIndex:28,type:"em",direction:"normal",fillMode:"forwards",name:"nullEmKey",duration:1,delay:0,count:1,timing:"linear"},{tips:"跳动",cropIndex:43,type:"em",direction:"normal",fillMode:"forwards",name:"bounce",duration:1,delay:0,count:1,timing:"ease"},{tips:"闪动",cropIndex:31,type:"em",direction:"normal",fillMode:"forwards",name:"flash",duration:1,delay:0,count:1,timing:"ease"},{tips:"呼吸",cropIndex:23,type:"em",direction:"normal",fillMode:"forwards",name:"pulse",duration:1,delay:0,count:1,timing:"ease"},{tips:"呼吸2",cropIndex:24,type:"em",direction:"normal",fillMode:"forwards",name:"pulse2",duration:1,delay:0,count:1,timing:"ease"},{tips:"弹性",cropIndex:12,type:"em",direction:"normal",fillMode:"forwards",name:"rubberBand",duration:1,delay:0,count:1,timing:"ease"},{tips:"震动",cropIndex:83,type:"em",direction:"normal",fillMode:"forwards",name:"shake",duration:1,delay:0,count:1,timing:"ease"},{tips:"摇摆",cropIndex:54,type:"em",direction:"normal",fillMode:"forwards",name:"swing",duration:1,delay:0,count:1,timing:"ease"},{tips:"嘚瑟",cropIndex:13,type:"em",direction:"normal",fillMode:"forwards",name:"tada",duration:1,delay:0,count:1,timing:"ease"},{tips:"晃动",cropIndex:25,type:"em",direction:"normal",fillMode:"forwards",name:"wobble",duration:1,delay:0,count:1,timing:"ease"},{tips:"拉扯",cropIndex:29,type:"em",direction:"normal",fillMode:"forwards",name:"jello",duration:1,delay:0,count:1,timing:"ease"},{tips:"翻转",cropIndex:15,type:"em",direction:"normal",fillMode:"forwards",name:"flip",duration:1,delay:0,count:1,timing:"ease"},{tips:"旋转",cropIndex:53,type:"em",direction:"normal",fillMode:"forwards",name:"rollOneCount",duration:1,delay:0,count:1,timing:"linear"},{tips:"逆转",cropIndex:30,type:"em",direction:"normal",fillMode:"forwards",name:"rollInfinite2",duration:1,delay:0,count:1,timing:"linear"},{tips:"浮动",cropIndex:18,type:"em",direction:"normal",fillMode:"forwards",name:"floating",duration:1,delay:0,count:1,timing:"linear"}];function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var wc,xc=Wr("editor","layout")(pc=Rr(pc=function(e){Jr()(n,e);var t=bc(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).hideList=function(){e.props.editor.showAnimateItemId=null},e.addAnimate=function(t){var n=e.props,r=n.editor,a=n.layout,o=r.getLayerData();if(o){t.cropIndex;var i=As()(t,["cropIndex"]);if("add"===r.showAnimateItemId)o.animate.push(vc(vc({},i),{},{keyid:j.util.randomID()}));else{var s=o.animate.find((function(e){return e.keyid===r.showAnimateItemId}));s.name=i.name,s.type=i.type,s.tips=i.tips,s.keyid=j.util.randomID(),r.showAnimateItemId=s.keyid}U.a.resetAnimate(o.animate),r.updateCanvas(),r.forceUpdateSet("animate"),a.updateComponent("timeline");var c=o.animate[o.animate.length-1];r.showAnimateItemId=c?c.keyid:null}else console.error("数据异常")},e}return V()(n,[{key:"render",value:function(){var e=this,t=Ve.Tabs.TabPane,n=this.props.editor;return ae.a.createElement("div",{style:{transform:"translateX(".concat(n.showAnimateItemId?-360:0,"px)")},className:"h5-animate-list"},ae.a.createElement("a",{onClick:this.hideList,className:"h5-panel-fold-right"},ae.a.createElement("i",{className:"h5font ico-right"})),ae.a.createElement(Ve.Tabs,{animated:!1,className:"ui-tabs",defaultActiveKey:"1"},[{tab:"进入动画",data:hc},{tab:"离开动画",data:mc},{tab:"强调动画",data:gc}].map((function(n){return ae.a.createElement(t,{tab:n.tab,key:n.tab},ae.a.createElement("ul",{className:"h5-animatelist-ul clearfix"},n.data.map((function(t){return ae.a.createElement("li",{onMouseEnter:function(e){return $(e.currentTarget).find(".h5-animatelist-icon").css({animation:"".concat(t.name," ").concat(t.duration,"s ").concat(t.timing," ").concat(t.delay,"s ").concat(t.count," ").concat(t.direction," ").concat(t.fillMode)})},onMouseLeave:function(e){$(e.currentTarget).find(".h5-animatelist-icon").css({animation:"none"})},onClick:function(){return e.addAnimate(t)},key:t.name},ae.a.createElement("p",null,ae.a.createElement("span",{style:{backgroundPosition:"-".concat((t.cropIndex-1)%3*40,"px ").concat(40*~~(-(t.cropIndex-1)/3),"px")},className:"h5-animatelist-icon"})),ae.a.createElement("span",{className:"h5-animatelist-name"},t.tips))}))))}))))}}]),n}(re.Component))||pc)||pc;n(333);function Ec(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var _c,kc=Wr("editor","layout")(wc=Rr(wc=function(e){Jr()(n,e);var t=Ec(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).hideList=function(){e.props.editor.showEventItemId=null},e.addEvent=function(t){e.props.editor.selectEventTempValue=Object.assign(j.util.cloneDeep(t),{id:j.util.randomID(),type:"add"}),e.props.editor.setSettingType("eventEditor"),e.hideList()},e}return V()(n,[{key:"render",value:function(){var e=this;return ae.a.createElement("div",{style:{transform:"translateX(".concat(this.props.editor.showEventItemId?-360:0,"px)")},className:"h5-animate-list"},ae.a.createElement("a",{onClick:this.hideList,className:"h5-panel-fold-right"},ae.a.createElement("i",{className:"h5font ico-right"})),ae.a.createElement("div",{className:"h5-event-list"},ae.a.createElement("div",{className:"h5-setting-title"},"事件列表"),ae.a.createElement("div",{className:"h5-setting-content"},Ps.map((function(t,n){var r=t.params,a=t.icon;return ae.a.createElement("section",{key:n,onClick:function(){e.addEvent(r)}},ae.a.createElement("div",null,a),ae.a.createElement("div",null,r.name))})))))}}]),n}(re.Component))||wc)||wc;n(334);function Sc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Oc,Cc=Wr("editor","layout")(_c=Rr(_c=function(e){Jr()(n,e);var t=Sc(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).randomSize=function(){var e=r.props.editor,t=e.getSelectLayersData,n=e.updateCanvas;t().forEach((function(e){var t=j.util.randomNumber.apply(j.util,Q()(r.state.sizeRange)),n=e.style,a=n.width,o=n.height;e.style.width=t,e.style.height=o/a*t})),n()},r.radiusPosition=function(){var e=r.props.editor,t=e.getSelectLayersData,n=e.getSelectPageData,a=e.updateCanvas,o=t(),i=n().style,s=i.width,c=i.height,l=r.state.radius,u=[s/2,c/2],d=2*Math.PI/o.length;o.forEach((function(e,t){e.style.left=u[0]+l*Math.cos(d*t),e.style.top=u[1]+l*Math.sin(d*t)})),a()},r.randomPoistion=function(){var e=r.props.editor,t=e.getSelectLayersData,n=e.getSelectPageData,a=e.updateCanvas,o=t(),i=n().style,s=i.width,c=i.height;o.forEach((function(e){var t=j.util.randomNumber(-20,s+20-e.style.width),n=j.util.randomNumber(-20,c+20-e.style.height);e.style.top=n,e.style.left=t})),a()},r.rectPosition=function(){var e=r.props.editor,t=e.getSelectLayersData,n=e.updateCanvas,a=t(),o=r.state,i=o.rect,s=o.rectPadding;r.offset?r.offset++:r.offset=1,a.forEach((function(e,t){e.style.left=t%i*s+r.offset,e.style.top=parseInt(t/i,10)*s+r.offset})),n()},r.animateDelay=function(){var e=r.props.editor,t=e.getSelectLayersData,n=e.updateCanvas,a=t(),o=r.state.delay;a.forEach((function(e,t){e.animate.forEach((function(e,t){e.keyid=j.util.randomID(),e.delay+=o}))})),n(),r.props.layout.updateComponent("timeline")},r.scaleLayers=function(){var e=r.props.editor,t=e.getSelectLayersData,n=e.updateCanvas,a=t(),o=r.state.allScale;a.forEach((function(e,t){e.style.width*=o,e.style.height*=o,e.style.top*=o,e.style.left*=o})),n()},r.animateInterval=function(){var e=r.props.editor,t=e.getSelectLayersData,n=e.updateCanvas,a=t(),o=r.state.delay;a.forEach((function(e,t){var n=o*t;e.animate.forEach((function(t,r){if(t.keyid=j.util.randomID(),0===r)t.delay=n;else{var a=e.animate[r-1];t.delay=a.delay+a.duration}}))})),n(),r.props.layout.updateComponent("timeline")},r.onChange=function(e,t){r.setState(S()({},t,e))},r.state={interval:0,delay:0,radius:100,rect:4,allScale:1,rectPadding:40,sizeRange:[0,100]},r}return V()(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.delay,r=t.interval,a=t.radius,o=t.sizeRange,i=t.rect,s=t.rectPadding,c=t.allScale;return ae.a.createElement("div",{className:"h5-group-setting"},ae.a.createElement("div",{className:"h5-setting-title"},"组合设置"),ae.a.createElement("div",null,ae.a.createElement(j.Item,{title:"动画间隔",block:!0},ae.a.createElement("div",{className:"ui-items"},ae.a.createElement(Ve.Slider,{style:{width:200},value:r,onChange:function(t){return e.onChange(t,"interval")},min:0,max:1,step:.1}),ae.a.createElement(Ve.Button,{onClick:this.animateInterval},"确认"))),ae.a.createElement(j.Item,{title:"动画延迟",block:!0},ae.a.createElement("div",{className:"ui-items"},ae.a.createElement(Ve.Slider,{style:{width:200},value:n,onChange:function(t){return e.onChange(t,"delay")},min:0,max:1,step:.1}),ae.a.createElement(Ve.Button,{onClick:this.animateDelay},"确认"))),ae.a.createElement(j.Item,{title:"等比缩放",block:!0},ae.a.createElement("div",{className:"ui-items"},ae.a.createElement(Ve.Slider,{style:{width:200},value:c,onChange:function(t){return e.onChange(t,"allScale")},min:.1,max:2,step:.1}),ae.a.createElement(Ve.Button,{onClick:this.scaleLayers},"确认"))),ae.a.createElement(j.Item,{className:"ui-flex",title:"随机大小",block:!0},ae.a.createElement("div",{className:"ui-items"},ae.a.createElement(Ve.Slider,{style:{width:200},range:!0,max:320,value:o,onChange:function(t){return e.onChange(t,"sizeRange")}}),ae.a.createElement(Ve.Button,{onClick:this.randomSize},"确认"))),ae.a.createElement(j.Item,{title:"环形分布",block:!0},ae.a.createElement("div",{className:"ui-items"},ae.a.createElement(Ve.Slider,{style:{width:200},max:320,onChange:function(t){return e.onChange(t,"radius")},value:a}),ae.a.createElement(Ve.Button,{onClick:this.radiusPosition},"确认"))),ae.a.createElement(j.Collapse,{title:"矩阵分布",visible:!0},ae.a.createElement("div",{className:"ui-items"},ae.a.createElement("span",{style:{fontSize:12}},"间距："),ae.a.createElement(Ve.Slider,{style:{width:200},max:320,onChange:function(t){return e.onChange(t,"rectPadding")},value:s})),ae.a.createElement("div",null,ae.a.createElement("span",{style:{fontSize:12}},"分布："),ae.a.createElement(Ve.InputNumber,{value:i,onChange:function(t){return e.onChange(t,"rect")},style:{width:70}}),"   ",ae.a.createElement(Ve.Button,{onClick:this.rectPosition},"确认"))),ae.a.createElement(j.Item,{title:"随机分布"},ae.a.createElement(Ve.Button,{onClick:this.randomPoistion},"确认"))))}}]),n}(re.Component))||_c)||_c;function Dc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Pc,Ic=Wr("editor","layout")(Oc=Rr(Oc=function(e){Jr()(n,e);var t=Dc(n);function n(){return Y()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){this.props.layout.keys.setting;var e=this.props.editor,t=e.selectMultipleLayerKeyIdsArray,n=e.getSelectPageIndex,r=null;return r=1===t.length?ae.a.createElement(fc,{key:t.join("-")}):t.length>1?ae.a.createElement(Cc,{key:t.join("-")}):ae.a.createElement(Fs,{key:n()}),ae.a.createElement("div",{className:"h5-setting"},r,ae.a.createElement(Bs,null),ae.a.createElement(xc,null),ae.a.createElement(kc,null))}}]),n}(re.Component))||Oc)||Oc;n(335);function Ac(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var jc=Wr("editor","layout")(Pc=Rr(Pc=function(e){Jr()(n,e);var t=Ac(n);function n(){return Y()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){var e=this.props.editor,t=e.options.modal;if(!t)return null;var n=Object.keys(t);return ae.a.createElement(ae.a.Fragment,null,n.map((function(n){var r=t[n],a=r.content,o=r.className,i=void 0===o?"":o,s=r.width,c=void 0===s?600:s,l=r.height,u=void 0===l?"auto":l,d=As()(r,["content","className","width","height"]);if(a){var p=a;return ae.a.createElement(Ve.Modal,yo()({},d,{forceRender:!0,key:n,visible:e.showModalName===n,className:qr()("ui-modal",i),footer:null,width:c,onCancel:function(){return e.showModal("")}}),ae.a.createElement("div",{style:{height:u}},ae.a.createElement(p,{type:"modal",show:e.showModalName===n,editor:e})))}return null})))}}]),n}(re.Component))||Pc)||Pc,Tc=(n(336),{icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"});function Nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zc(Object(n),!0).forEach((function(t){Rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hc(e){return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Fc=n(258),Wc={};function $c(e,t){0}function Yc(e,t,n){t||Wc[n]||(e(!1,n),Wc[n]=!0)}var Xc=function(e,t){Yc($c,e,t)},Vc=n(259);function Uc(e){return"object"===Hc(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===Hc(e.icon)||"function"==typeof e.icon)}function Gc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:t[n]=r}return t}),{})}function qc(e){return Object(Fc.generate)(e)[0]}function Kc(e){return e?Array.isArray(e)?e:[e]:[]}var Zc="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",Jc=!1,Qc={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var el=function(e){var t=e.icon,n=e.className,r=e.onClick,a=e.style,o=e.primaryColor,i=e.secondaryColor,s=Mc(e,["icon","className","onClick","style","primaryColor","secondaryColor"]),c=Qc;if(o&&(c={primaryColor:o,secondaryColor:i||qc(o)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zc;Object(re.useEffect)((function(){Jc||(Object(Vc.insertCss)(e,{prepend:!0}),Jc=!0)}),[])}(),function(e,t){Xc(e,"[@ant-design/icons] ".concat(t))}(Uc(t),"icon should be icon definiton, but got ".concat(t)),!Uc(t))return null;var l=t;return l&&"function"==typeof l.icon&&(l=Bc(Bc({},l),{},{icon:l.icon(c.primaryColor,c.secondaryColor)})),function e(t,n,r){return r?ae.a.createElement(t.tag,Bc(Bc({key:n},Gc(t.attrs)),r),(t.children||[]).map((function(r,a){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(a))}))):ae.a.createElement(t.tag,Bc({key:n},Gc(t.attrs)),(t.children||[]).map((function(r,a){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(a))})))}(l.icon,"svg-".concat(l.name),Bc({className:n,onClick:r,style:a,"data-icon":l.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s))};el.displayName="IconReact",el.getTwoToneColors=function(){return Bc({},Qc)},el.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Qc.primaryColor=t,Qc.secondaryColor=n||qc(t),Qc.calculated=!!n};var tl=el;function nl(e){var t=Lc(Kc(e),2),n=t[0],r=t[1];return tl.setTwoToneColors({primaryColor:n,secondaryColor:r})}nl("#1890ff");var rl=re.forwardRef((function(e,t){var n=e.className,r=e.icon,a=e.spin,o=e.rotate,i=e.tabIndex,s=e.onClick,c=e.twoToneColor,l=Mc(e,["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"]),u=qr()("anticon",Rc({},"anticon-".concat(r.name),Boolean(r.name)),n),d=qr()({"anticon-spin":!!a||"loading"===r.name}),p=i;void 0===p&&s&&(p=-1);var f=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,h=Lc(Kc(c),2),m=h[0],g=h[1];return re.createElement("span",Object.assign({role:"img","aria-label":r.name},l,{ref:t,tabIndex:p,onClick:s,className:u}),re.createElement(tl,{className:d,icon:r,primaryColor:m,secondaryColor:g,style:f}))}));rl.displayName="AntdIcon",rl.getTwoToneColor=function(){var e=tl.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},rl.setTwoToneColor=nl;var al=rl,ol=function(e,t){return re.createElement(al,Object.assign({},e,{ref:t,icon:Tc}))};ol.displayName="LoadingOutlined";var il,sl=re.forwardRef(ol);function cl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var ll,ul=Wr("editor")(il=Rr(il=function(e){Jr()(n,e);var t=cl(n);function n(){return Y()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){var e=this.props.editor.fullLoading,t=void 0===e?{}:e;return ae.a.createElement(j.Loading,{noBackground:t.noBackground,visible:t.visible},ae.a.createElement("div",{className:"h5-full-loading"},ae.a.createElement(sl,null),"  ",t.tips||"loading"))}}]),n}(re.Component))||il)||il;n(338);function dl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var pl=Wr("layout","editor")(ll=Rr(ll=function(e){Jr()(n,e);var t=dl(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).selectLayerEvent=function(e,t,n){if($(e.currentTarget).find(".h5ds-layerlist-locklayer-active")[0])message.warn("图层已锁定");else{var a=r.props.editor,o=a.selectMultipleLayerKeyIdsArray,i=a.getSelectPageData,s=a.getLayersDOM;if(o=Q()(o),window.event.shiftKey){var c,l;o=[],r.tempSelectLayerIndex>n?(c=n,l=r.tempSelectLayerIndex):(l=n,c=r.tempSelectLayerIndex);for(var u=function(e){var t=i().layers,n=t.find((function(t,n){return n===e}));n?o.push(n.keyid):console.error("选择的数据异常",{minIndex:c,maxIndex:l,layers:t})},d=c;d<=l;d++)u(d);return r.props.editor.selectMultipleLayerKeyIdsArray=Q()(o),void qe(Q()(r.props.editor.selectMultipleLayerKeyIdsArray),s)}var p=util.getPlatform();if("Win"===p&&window.event.ctrlKey||"Mac"===p&&window.event.metaKey){var f=o.indexOf(t.keyid);return-1!==f?o.splice(f,1):o.push(t.keyid),r.props.editor.selectMultipleLayerKeyIdsArray=Q()(o),void qe(Q()(r.props.editor.selectMultipleLayerKeyIdsArray),s)}r.tempSelectLayerIndex=n,r.props.editor.selectMultipleLayerKeyIdsArray=[t.keyid],qe(Q()(r.props.editor.selectMultipleLayerKeyIdsArray),s)}},r.showLayer=function(e,t){t.set.hide?t.set.hide=!1:t.set.hide=!0,r.props.editor.updateCanvas(),r.props.layout.updateComponent("timeline")},r.lockLayer=function(e,t){var n;(null==(n=t.set)?void 0:n.lock)?t.set.lock=!1:t.set.lock=!0,r.props.editor.updateCanvas(),r.props.layout.updateComponent("timeline")},r.editorLayerName=function(e,t){r.state.editorLayerNameIndex===e?(t.name=r.layerNameInputRef.value,r.setState({editorLayerNameIndex:null}),r.props.editor.setHistory()):r.setState({editorLayerNameIndex:e})},r.tirggerList=function(){r.setState({show:!r.state.show})},r.state={show:!0,editorLayerNameIndex:null,topHiddenCount:0,bottomHiddenCount:1/0},r}return V()(n,[{key:"componentDidMount",value:function(){var e=this;$("#h5-layerlist-uniqlist").on("uniqend",(function(t,n){var r=e.props.editor;(0,r.sortLayers)((0,r.getSelectPageData)().layers,n.from,n.to),e.props.editor.updateCanvas(),e.props.layout.updateComponent("timeline")}))}},{key:"componentWillUnmount",value:function(){$("#h5-layerlist-uniqlist").off("uniqend")}},{key:"render",value:function(){var e=this;this.props.layout.keys.timeline;var t=this.props.layout.timelineHeight,n=this.props.editor,r=n.selectMultipleLayerKeyIdsArray,a=n.getSelectPageData,o=(n.getLayerData,n.copyLayer,n.deleteLayer,n.combinLayers,n.uncombinLayers,this.state),i=o.bottomHiddenCount,s=o.topHiddenCount,c=o.editorLayerNameIndex,l=o.show,u=a();return this.timelineHeight!==t&&(this.timelineHeight=t),ae.a.createElement("div",{className:"h5-layerlist"},ae.a.createElement("div",{className:"h5-layerlist-title h5-layerlist-handle"},"图层列表",ae.a.createElement("a",{onClick:this.tirggerList,className:qr()("h5font",{"ico-up":!this.state.show,"ico-down":this.state.show})})),l&&ae.a.createElement("div",{id:"h5-layerlist-uniqlist",className:"h5-names h5-uniqlist"},u&&u.layers.map((function(t,n){var a,o,l,u;return ae.a.createElement("section",{"data-keyid":"_"+t.keyid,className:qr()("h5-line","h5-uniqlist-item",{"h5-line-active":r.includes(t.keyid)}),key:t.keyid},n<s||n>i?null:ae.a.createElement(ae.a.Fragment,null,ae.a.createElement("span",{onClick:function(r){return e.selectLayerEvent(r,t,n)},className:"h5-name h5-uniqlist-handle"},c===n?ae.a.createElement("input",{className:"h5-uniq-undrag",key:c,ref:function(t){return e.layerNameInputRef=t},defaultValue:t.name}):t.name),ae.a.createElement("span",{className:"h5-set"},ae.a.createElement("i",{onClick:function(){return e.editorLayerName(n,t)},className:qr()({"h5font ico-biaodan2":c!==n,"h5font ico-luyinqueding":c===n})}),ae.a.createElement("i",{onClick:function(){return e.showLayer(n,t)},className:qr()("h5font",{"ico-yanjing":!(null==(a=t.set)?void 0:a.hide),"ico-yanjingbiyan":null==(o=t.set)?void 0:o.hide})}),ae.a.createElement("i",{onClick:function(){return e.lockLayer(n,t)},className:qr()("h5font",{"ico-jiesuo":!(null==(l=t.set)?void 0:l.lock),"ico-suoding":null==(u=t.set)?void 0:u.lock})}))))}))))}}]),n}(re.Component))||ll)||ll;var fl=function(){var e=Ge.headerHeight,t=Object(re.useState)(window.innerHeight-Ge.timelineHeight-e),n=te()(t,2),r=n[0],a=n[1];return Object(re.useEffect)((function(){var t=document.querySelector(".h5-layout");Yr()(t,j.util.debounce((function(){var t=window.innerHeight-Ge.timelineHeight-e;Rn.setWindowSize(window.innerWidth-Ge.excludeViewWidth,t),a(t)}),300))}),[e]),Object(re.useEffect)((function(){window.onbeforeunload=function(e){return(e=e||window.event)&&(e.returnValue="是否要退出编辑器？"),"是否要退出编辑器？"}}),[]),ae.a.createElement("div",{className:"h5-layout",id:"h5Layout"},ae.a.createElement(ul,null),ae.a.createElement("div",{className:"h5-layout-header"},ae.a.createElement(Da,null)),ae.a.createElement("div",{className:"h5-layout-sidebar"},ae.a.createElement(Ia,null)),ae.a.createElement(Vr.a,{key:r,defaultPosition:{x:window.innerWidth-360-160-60-30,y:30},handle:".h5-layerlist-handle",bounds:"body"},ae.a.createElement("div",{className:"h5-layout-layerlist"},ae.a.createElement(pl,null))),ae.a.createElement("div",{className:"h5-layout-panels"},ae.a.createElement(Ro,null)),ae.a.createElement("div",{className:"h5-layout-canvas",style:{height:r},id:"h5LayoutCanvas"},ae.a.createElement(ho,{height:r})),ae.a.createElement(Vr.a,{axis:"y",position:{x:0,y:r+e-16},handle:".h5-layout-handle",onDrag:function(t,n){var o=n.y-e+16;o<16?o=16:o>window.innerHeight-e&&(o=window.innerHeight-e),Ge.timelineHeight=window.innerHeight-e-r,Rn.setWindowSize(window.innerWidth-Ge.excludeViewWidth,o),a(o)},bounds:{left:0,right:0,top:e,bottom:window.innerHeight-16}},ae.a.createElement("div",{className:"h5-layout-handle"},ae.a.createElement("div",{className:"h5-handle-inner"},ae.a.createElement("i",{className:"h5font ico-tuodong"})))),ae.a.createElement("div",{className:"h5-layout-timeline",style:{height:window.innerHeight-e-r}},ae.a.createElement(yi,null)),ae.a.createElement("div",{className:"h5-layout-tools"},ae.a.createElement(wi,null)),ae.a.createElement("div",{className:"h5-layout-setting"},ae.a.createElement(Ic,null)),ae.a.createElement(_i,null),ae.a.createElement(jc,null))},hl={locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",yearFormat:"YYYY年",dayFormat:"D日",dateFormat:"YYYY年M月D日",dateTimeFormat:"YYYY年M月D日 HH时mm分ss秒",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪"},ml={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]},gl={lang:yo()({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeWeekPlaceholder:["开始周","结束周"]},hl),timePickerLocale:yo()({},ml)};gl.lang.ok="确 定";var yl="${label}不是一个有效的${type}",vl={locale:"zh-cn",Pagination:{items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页"},DatePicker:gl,TimePicker:ml,Calendar:gl,global:{placeholder:"请选择"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",selectAll:"全选当页",selectInvert:"反选当页",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开"},PageHeader:{back:"返回"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:yl,method:yl,array:yl,object:yl,number:yl,date:yl,boolean:yl,integer:yl,float:yl,regexp:yl,email:yl,url:yl,hex:yl},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}}},bl=n(24);n(339);function wl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var xl=function(e){Jr()(n,e);var t=wl(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).getEditor=function(e){return r.props.editor.plugins.pluginsKey[e.pid]||{}},r.state={layer:j.util.toJS(e.layer)},r.eventId=j.util.randomID(),r}return V()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.layer,r=As()(t,["layer"]),a=Ve.Collapse.Panel;return ae.a.createElement("div",{className:"ui-simple-item"},ae.a.createElement("div",{className:"ui-simple-item-title"},"组合图层设置"),ae.a.createElement(Ve.Collapse,{accordion:!0},n.data.map((function(t,n){var o=e.getEditor(t),i=o.Editor,s=o.name;return ae.a.createElement(a,{header:s+"设置",key:n},i?ae.a.createElement(i,yo()({layer:t},r)):null)}))))}}]),n}(re.Component),El=n(61),_l=n(67),kl=["polygon(50% 0%, 0% 100%, 100% 100%)","polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%)","polygon(25% 0%, 100% 0%, 75% 100%, 0% 100%)","polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)","polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)","polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)","polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%)","polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)","polygon(50% 0%, 83% 12%, 100% 43%, 94% 78%, 68% 100%, 32% 100%, 6% 78%, 0% 43%, 17% 12%)","polygon(50% 0%, 80% 10%, 100% 35%, 100% 70%, 80% 90%, 50% 100%, 20% 90%, 0% 70%, 0% 35%, 20% 10%)","polygon(20% 0%, 80% 0%, 100% 20%, 100% 80%, 80% 100%, 20% 100%, 0% 80%, 0% 20%)","polygon(0% 15%, 15% 15%, 15% 0%, 85% 0%, 85% 15%, 100% 15%, 100% 85%, 85% 85%, 85% 100%, 15% 100%, 15% 85%, 0% 85%)","polygon(40% 0%, 40% 20%, 100% 20%, 100% 80%, 40% 80%, 40% 100%, 0% 50%)","polygon(0% 20%, 60% 20%, 60% 0%, 100% 50%, 60% 100%, 60% 80%, 0% 80%)","polygon(25% 0%, 100% 1%, 100% 100%, 25% 100%, 0% 50%)","polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%)","polygon(100% 0%, 75% 50%, 100% 100%, 25% 100%, 0% 50%, 25% 0%)","polygon(75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%, 0% 0%)","polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)","polygon(10% 25%, 35% 25%, 35% 0%, 65% 0%, 65% 25%, 90% 25%, 90% 50%, 65% 50%, 65% 100%, 35% 100%, 35% 50%, 10% 50%)","polygon(0% 0%, 100% 0%, 100% 75%, 75% 75%, 75% 100%, 50% 75%, 0% 75%)","polygon(20% 0%, 0% 20%, 30% 50%, 0% 80%, 20% 100%, 50% 70%, 80% 100%, 100% 80%, 70% 50%, 100% 20%, 80% 0%, 50% 30%)","polygon(0% 0%, 0% 100%, 25% 100%, 25% 25%, 75% 25%, 75% 75%, 25% 75%, 25% 100%, 100% 100%, 100% 0%)","inset(5% 20% 15% 10%)","polygon(10% 75%, 10% 25%, 35% 0%, 100% 10%, 90% 30%, 50% 30%, 40% 40%, 40% 60%, 50% 70%, 90% 70%, 100% 90%, 35% 100%)","circle(50% at 50% 50%)","ellipse(25% 40% at 50% 50%)"],Sl=(n(340),[{name:"原图",style:{}},{name:"Speia",style:{filter:"sepia(100%)"}},{name:"灰度图",style:{filter:"grayscale(100%)"}},{name:"高斯模糊",style:{filter:"blur(2px)"}},{name:"反色",style:{filter:"invert(1)"}},{name:"饱和度",style:{filter:"saturate(2)"}},{name:"对比度",style:{filter:"contrast(2)"}},{name:"亮度",style:{filter:"brightness(2)"}},{name:"色相旋转",style:{filter:"hue-rotate(200deg)"}}]);function Ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ol(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dl(e){var t=e.editor,n=e.layer,r=Object(re.useReducer)((function(e){return e+1}),0),a=te()(r,2)[1],o=function(e,r){switch(e){case"crop":t.designScale,n.data.crop=Cl({},r),n.style.width=r.width/t.designScale,n.style.height=r.height/t.designScale,i.current.setVisibleModal(!1);break;case"restore":var o=n.data,s=o.naturalWidth,c=o.naturalHeight;n.style.width=s/t.designScale,n.style.height=c/t.designScale,n.data.clip.disabled=!0,n.data.crop={x:0,y:0,width:s,height:c,naturalWidth:s,naturalHeight:c};break;case"delete":t.deleteLayer();break;case"change":window.pubSubEditor.publish("h5ds.imageModal.show",function(){var e=ue()(ce.a.mark((function e(r){var o,i,s,c,l;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ve.message.loading("loading..."),e.next=3,j.util.imgLazy(r.url);case 3:return s=e.sent,r.is_vip?n.vip_url=r.url:n.vip_url=void 0,n.data.src=r.url,n.data.naturalWidth=s.naturalWidth,n.data.naturalHeight=s.naturalHeight,n.data.crop?(n.data.crop.naturalWidth=s.naturalWidth,n.data.crop.naturalHeight=s.naturalHeight,c=n.style.width/n.style.height,l=s.naturalWidth/s.naturalHeight,c>l?(n.data.crop.x=0,n.data.crop.y=(s.naturalHeight-s.naturalWidth/c)/2,n.data.crop.width=s.naturalWidth,n.data.crop.height=s.naturalWidth/c):(n.data.crop.x=(s.naturalWidth-s.naturalHeight*c)/2,n.data.crop.y=0,n.data.crop.width=s.naturalHeight*c,n.data.crop.height=s.naturalHeight)):(n.style.width=s.naturalWidth/t.designScale,n.style.height=s.naturalHeight/t.designScale),i(),t.updateCanvas(),a(),null==(o=t.control)||o.update(),e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}t.updateCanvas(),setTimeout((function(){t.control&&t.control.update()}),100),a()},i=Object(re.useRef)();return ae.a.createElement("div",{className:"pe-img"},ae.a.createElement(j.Item,{block:!0},ae.a.createElement(j.ImgBox,{ref:i,setting:{initCrop:n.data.crop},src:n.data.src,onChange:o}),ae.a.createElement("br",null),ae.a.createElement(Ve.Button,{type:"primary",onClick:function(){return o("change")}},"替换图片")),-1!==n.data.src.indexOf(".gif")&&ae.a.createElement(j.Item,{title:"GIF帧",block:!0,extra:ae.a.createElement(Ve.Switch,{onChange:function(e){n.data.animate.keyid=j.util.randomID(),n.data.gifAnimate=e,t.updateCanvas(),t.updateLayout("timeline"),a()},defaultChecked:n.data.gifAnimate})},n.data.gifAnimate&&ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"设置帧率"},ae.a.createElement(Ve.InputNumber,{defaultValue:n.data.animate.fps,onChange:function(e){var r=n.data.animate.total;n.data.animate.keyid=j.util.randomID(),n.data.animate.fps=e,n.data.animate.duration=r/e,t.updateCanvas(),t.updateLayout("timeline")}})),ae.a.createElement(j.Item,{title:"播放次数"},ae.a.createElement(Ve.InputNumber,{defaultValue:n.data.animate.count,onChange:function(e){n.data.animate.keyid=j.util.randomID(),n.data.animate.count=e,t.updateCanvas(),t.updateLayout("timeline")}})))),ae.a.createElement(j.Item,{title:"形状遮罩",block:!0,extra:ae.a.createElement(Ve.Switch,{onChange:function(e){n.data.clip.disabled=!e,t.updateCanvas(),a()},defaultChecked:!n.data.clip.disabled})},n.data.clip.disabled?null:ae.a.createElement(ae.a.Fragment,null,kl.map((function(e,r){return ae.a.createElement("section",{onClick:function(){return r=e,n.data.clip={disabled:!1,path:r},t.updateCanvas(),void a();var r},className:qr()("pe-img-shape",{"pe-img-shape-active":e===n.data.clip.path}),style:{clipPath:e},key:r})})))),ae.a.createElement(j.Collapse,{visible:!1,title:"图片滤镜"},Sl.map((function(e,r){var o,i;return ae.a.createElement("section",{onClick:function(){return r=e,n.data.filterStyle=Cl({},r.style),t.updateCanvas(),void a();var r},className:qr()("pe-img-filter",{"pe-img-filter-active":e.style.filter===(null==(o=n.data)||null==(i=o.filterStyle)?void 0:i.filter)}),key:r},ae.a.createElement("img",{src:"https://cdn.h5ds.com/static/images/filter.png",style:Cl({},e.style),alt:""}),ae.a.createElement("div",{className:"pe-img-name"},e.name))}))))}var Pl=n(53),Il=ae.a.createElement("i",{className:"h5font ico-tupian"}),Al="imageSource",jl=(n(341),[12,14,16,18,20,22,24,26,28,30,32,34,36,38,42,48,60,72,84,96,108,120,132,144,156,168,180,192,204,216,228,240,252,264,276,288,300]);function Tl(e){var t=e.value,n=e.onChange,r=Ve.Select.Option;return ae.a.createElement(Ve.Select,{size:"small",className:"ui-select",defaultValue:parseInt(t,10),style:{width:80},onChange:function(e){n&&n(e+"px")}},jl.map((function(e){return ae.a.createElement(r,{value:e,key:e},e,"px")})))}function Nl(e){var t=e.value,n=e.onChange,r=e.vkey,a=e.className,o=e.none,i=e.title,s=Object(re.useState)(t),c=te()(s,2),l=c[0],u=c[1];return ae.a.createElement("a",{title:i,onClick:function(){var e=r;l===r&&(e=o),u(e),n&&n(e)},className:qr()(a,{"pe-text-active":l===r})})}var Ll=function(e){var t=e.value,n=e.onChange;return ae.a.createElement(ae.a.Fragment,null,[{key:"left",name:"左对齐",icon:"h5font ico-zuoduiqi"},{key:"center",name:"水平居中",icon:"h5font ico-shuipingjuzhong"},{key:"right",name:"右对齐",icon:"h5font ico-youduiqi"}].map((function(e){return ae.a.createElement("a",{className:qr()(e.icon,{"pe-text-active":t===e.key}),onClick:function(){return n(e.key)},key:e.key})})))},Rl=[{name:"aZhuPaoPao",ttf:"https://cdn.h5ds.com/static/fonts_build/aZhuPaoPao/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/aZhuPaoPao/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/aZhuPaoPao/img.png"},{name:"baoTuXiaoBai",ttf:"https://cdn.h5ds.com/static/fonts_build/baoTuXiaoBai/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/baoTuXiaoBai/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/baoTuXiaoBai/img.png"},{name:"cangErFeiBaiW01",ttf:"https://cdn.h5ds.com/static/fonts_build/cangErFeiBaiW01/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/cangErFeiBaiW01/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/cangErFeiBaiW01/img.png"},{name:"cangErFeiBaiW05",ttf:"https://cdn.h5ds.com/static/fonts_build/cangErFeiBaiW05/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/cangErFeiBaiW05/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/cangErFeiBaiW05/img.png"},{name:"cangErSuYuanTiW01",ttf:"https://cdn.h5ds.com/static/fonts_build/cangErSuYuanTiW01/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/cangErSuYuanTiW01/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/cangErSuYuanTiW01/img.png"},{name:"cangErSuYuanTiW05",ttf:"https://cdn.h5ds.com/static/fonts_build/cangErSuYuanTiW05/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/cangErSuYuanTiW05/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/cangErSuYuanTiW05/img.png"},{name:"cangErXiaoWanZi",ttf:"https://cdn.h5ds.com/static/fonts_build/cangErXiaoWanZi/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/cangErXiaoWanZi/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/cangErXiaoWanZi/img.png"},{name:"cangErYuMoW01",ttf:"https://cdn.h5ds.com/static/fonts_build/cangErYuMoW01/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/cangErYuMoW01/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/cangErYuMoW01/img.png"},{name:"cangErYuMoW05",ttf:"https://cdn.h5ds.com/static/fonts_build/cangErYuMoW05/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/cangErYuMoW05/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/cangErYuMoW05/img.png"},{name:"cangErYuYangW01",ttf:"https://cdn.h5ds.com/static/fonts_build/cangErYuYangW01/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/cangErYuYangW01/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/cangErYuYangW01/img.png"},{name:"cangErYuYangW05",ttf:"https://cdn.h5ds.com/static/fonts_build/cangErYuYangW05/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/cangErYuYangW05/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/cangErYuYangW05/img.png"},{name:"cangErZhouKeZhengDaBangShu",ttf:"https://cdn.h5ds.com/static/fonts_build/cangErZhouKeZhengDaBangShu/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/cangErZhouKeZhengDaBangShu/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/cangErZhouKeZhengDaBangShu/img.png"},{name:"chuangQiNanAn",ttf:"https://cdn.h5ds.com/static/fonts_build/chuangQiNanAn/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/chuangQiNanAn/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/chuangQiNanAn/img.png"},{name:"chuanQiTeZhan",ttf:"https://cdn.h5ds.com/static/fonts_build/chuanQiTeZhan/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/chuanQiTeZhan/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/chuanQiTeZhan/img.png"},{name:"douYu-otf",url:"https://cdn.h5ds.com/static/fonts_build/douYu-otf/font.otf",thumb:"https://cdn.h5ds.com/static/fonts_build/douYu-otf/img.png"},{name:"gongFan",ttf:"https://cdn.h5ds.com/static/fonts_build/gongFan/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/gongFan/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/gongFan/img.png"},{name:"naiHu",ttf:"https://cdn.h5ds.com/static/fonts_build/naiHu/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/naiHu/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/naiHu/img.png"},{name:"pangMenBiaoTi",ttf:"https://cdn.h5ds.com/static/fonts_build/pangMenBiaoTi/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/pangMenBiaoTi/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/pangMenBiaoTi/img.png"},{name:"ruiZiZhenYan",ttf:"https://cdn.h5ds.com/static/fonts_build/ruiZiZhenYan/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/ruiZiZhenYan/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/ruiZiZhenYan/img.png"},{name:"shiJieFaGun",ttf:"https://cdn.h5ds.com/static/fonts_build/shiJieFaGun/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/shiJieFaGun/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/shiJieFaGun/img.png"},{name:"siYuanHeiTi",ttf:"https://cdn.h5ds.com/static/fonts_build/siYuanHeiTi/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/siYuanHeiTi/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/siYuanHeiTi/img.png"},{name:"siYuanSongTi-otf",url:"https://cdn.h5ds.com/static/fonts_build/siYuanSongTi-otf/font.otf",thumb:"https://cdn.h5ds.com/static/fonts_build/siYuanSongTi-otf/img.png"},{name:"yanShiFoXi",ttf:"https://cdn.h5ds.com/static/fonts_build/yanShiFoXi/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/yanShiFoXi/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/yanShiFoXi/img.png"},{name:"zaiZaiJia",ttf:"https://cdn.h5ds.com/static/fonts_build/zaiZaiJia/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/zaiZaiJia/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/zaiZaiJia/img.png"},{name:"zhanKuKuaiLe",ttf:"https://cdn.h5ds.com/static/fonts_build/zhanKuKuaiLe/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/zhanKuKuaiLe/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/zhanKuKuaiLe/img.png"},{name:"zhanKuKuHei",ttf:"https://cdn.h5ds.com/static/fonts_build/zhanKuKuHei/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/zhanKuKuHei/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/zhanKuKuHei/img.png"},{name:"zhengQingKeHuangYou",ttf:"https://cdn.h5ds.com/static/fonts_build/zhengQingKeHuangYou/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/zhengQingKeHuangYou/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/zhengQingKeHuangYou/img.png"},{name:"zhuangJiaMingChao",ttf:"https://cdn.h5ds.com/static/fonts_build/zhuangJiaMingChao/font.ttf",url:"https://cdn.h5ds.com/static/fonts_build/zhuangJiaMingChao/font.woff",thumb:"https://cdn.h5ds.com/static/fonts_build/zhuangJiaMingChao/img.png"}];function Ml(e){var t,n=e.value,r=e.onChange;return ae.a.createElement(Ve.Popover,{placement:"leftTop",title:"选择字体",overlayClassName:"h5ds-text-fontfamily-popover",content:ae.a.createElement("ul",{className:"h5ds-text-fontfamily-ul"},Rl.map((function(e,t){return ae.a.createElement("li",{key:e.name,onClick:function(){return t=e.name,void(r&&r(t));var t}},ae.a.createElement("img",{style:{height:60},src:e.thumb,alt:""}))}))),trigger:"click"},ae.a.createElement("div",{className:"h5ds-text-fontfamily",style:{backgroundImage:"url(".concat(null==(t=Rl.find((function(e){return e.name===n})))?void 0:t.thumb,")")}}))}function zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bl(e){var t=e.editor,n=e.layer;n.data.text||(n.data.text={content:"",fontSize:14,justifyContent:"center",color:"rgba(255,255,255,1)",fontWeight:"normal"});var r=Object(re.useState)(j.util.cloneDeep(n.data)),a=te()(r,2),o=a[0],i=a[1],s=Object(re.useState)(n.data.text.justifyContent||"center"),c=te()(s,2),l=c[0],u=c[1],d=function(e,r){o.text[r]=e,i(j.util.cloneDeep(o)),n.data.text[r]=e,t.updateCanvas()},p=Object(re.useCallback)(j.util.debounce(d,300),[]),f=Object(re.useCallback)(j.util.debounce((function(e,r){n.data.style[r]=e,t.updateCanvas()}),300),[]);return ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"形状颜色"},ae.a.createElement(j.ColorGroup,{value:o.style.fill,onChange:function(e){return function(e,t){o.style[t]=e,i(j.util.cloneDeep(o)),f(e,t)}(e,"fill")}})),ae.a.createElement(j.Item,{className:"pe-text",block:!0,title:"设置文字"},ae.a.createElement("div",{className:"pe-text-tools"},ae.a.createElement(Nl,{title:"加粗",value:o.text.fontWeight,vkey:"bolder",className:"h5font ico-jiacu",none:"normal",onChange:function(e){return d(e,"fontWeight")}}),ae.a.createElement(Nl,{title:"倾斜",value:o.text.fontStyle,vkey:"italic",className:"h5font ico-qingxie",none:"normal",onChange:function(e){return d(e,"fontStyle")}}),ae.a.createElement(Nl,{title:"中划线",value:o.style.textDecoration,key:o.style.textDecoration,vkey:"line-through",className:"h5font ico-zhonghuaxian",none:"none",onChange:function(e){return d(e,"textDecoration")}}),ae.a.createElement(Nl,{title:"下划线",value:o.style.textDecoration,key:o.style.textDecoration+1,vkey:"underline",className:"h5font ico-xiahuaxian",none:"none",onChange:function(e){return d(e,"textDecoration")}}),ae.a.createElement(Ve.Divider,{type:"vertical"}),ae.a.createElement(Ll,{value:{start:"left",center:"center","flex-end":"right"}[l],onChange:function(e){return function(e){switch(e){case"left":n.data.text.justifyContent="start";break;case"center":n.data.text.justifyContent="center";break;case"right":n.data.text.justifyContent="flex-end"}u(n.data.text.justifyContent),t.updateCanvas()}(e)}}),ae.a.createElement(Ve.Divider,{type:"vertical"}),ae.a.createElement("div",{style:{paddingTop:10}},ae.a.createElement(Tl,{key:o.text.fontSize,value:o.text.fontSize,onChange:function(e){return d(e,"fontSize")}}),ae.a.createElement(Ve.Divider,{type:"vertical"}),ae.a.createElement(Ml,{key:o.text.fontFamily,value:o.text.fontFamily,onChange:function(e){var r=Rl.filter((function(t){return t.name===e}))[0];n.data.text.fontFamily=e,n.data.fontFamilySet=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zl(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r),t.updateCanvas()}}))),ae.a.createElement(Ve.Input.TextArea,{onChange:function(e){return d(e.target.value,"content")},defaultValue:o.text.content,className:"pe-text-richtext"})),ae.a.createElement(j.Item,{title:"文字颜色"},ae.a.createElement(j.ColorGroup,{value:o.text.color,onChange:function(e){return function(e){o.text.color=e,i(j.util.cloneDeep(o)),p(e,"color")}(e)}})))}var Hl=n(62),Fl=n(68),Wl=n(65),$l=n(260);function Yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yl(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Ul=function(e){Jr()(n,e);var t=Vl(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).drawShape=function(e){r.willDrawShape=e,$(".h5-layout-canvas").append('<div class="h5-shape-shapepanel"></div>')},r.addLayerData=function(e){var t=e.left,n=e.top,a=e.width,o=e.height,i=e.quadrant,s=r.props.editor,c=s.addLayerByPid,l=s.scale;c("h5ds_shape",function(){var e=ue()(ce.a.mark((function e(s){var c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.data.shape=r.willDrawShape,c="",e.t0=i,e.next=1===e.t0?5:2===e.t0?7:3===e.t0?9:4===e.t0?11:13;break;case 5:return c="1, -1",e.abrupt("break",13);case 7:return c="-1, -1",e.abrupt("break",13);case 9:return c="-1, 1",e.abrupt("break",13);case 11:return c="1, 1",e.abrupt("break",13);case 13:"line"===r.willDrawShape&&(s.data.style.strokeWidth=1),s.style.width=a/l,s.style.height=o/l,s.style.left=t/l,s.style.top=n/l,s.data.transform="scale(".concat(c,")");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},r.drawTemporaryShape=function(e){var t=e.top,n=e.left,a=e.width,o=e.height,i=e.quadrant;if(r.$temporary){"line"===r.willDrawShape&&(r.$temporary.find("svg").attr({viewBox:"0 0 ".concat(a," ").concat(o)}),r.$temporary.find("line").attr({x1:0,y1:0,x2:a,y2:o}));var s="";switch(i){case 1:s="1, -1";break;case 2:s="-1, -1";break;case 3:s="-1, 1";break;case 4:s="1, 1"}r.$temporary.css({top:t,left:n,width:a,height:o,transform:"scale(".concat(s,")")})}else{var c,l="id_".concat(j.util.randomID()),u=Wl.a.find((function(e){return e.type===r.willDrawShape}));c=Object($l.renderToStaticMarkup)(u.dom()),$(".h5-shape-shapepanel").html('<div class="h5-shape-shapepanel-inner" style="width:0; height: 0;" id="'.concat(l,'">').concat(c,"</div>")),r.$temporary=$("#".concat(l))}},r.drawShapeEvent=function(){$(document).on("mousedown.h5ds.shapepanel",".h5-shape-shapepanel",(function(e){var t=$(".h5-layout-canvas").offset(),n=t.left,a=t.top,o={width:0,height:0,left:e.pageX-n,top:e.pageY-a},i=4;$(document).on("mousemove.h5ds.shapepanel",(function(t){o.width=Math.abs(t.pageX-e.pageX),o.height=Math.abs(t.pageY-e.pageY),t.shiftKey&&(o.height=o.width),t.pageX>e.pageX?(o.left=e.pageX,i=t.pageY>e.pageY?4:1):(o.left=t.pageX,i=t.pageY>e.pageY?3:2),t.pageY>e.pageY?o.top=e.pageY:t.shiftKey?(t.pageX=t.pageY,o.top=e.pageY-o.height):o.top=t.pageY,o.left-=n,o.top-=a,r.drawTemporaryShape(Xl(Xl({},o),{},{quadrant:i}))})).on("mouseup.h5ds.shapepanel",(function(){r.$temporary=null;var e=$(".h5-canvas-view").offset();o.left=o.left-e.left+n,o.top=o.top-e.top+a,r.addLayerData(Xl(Xl({},o),{},{quadrant:i})),$(".h5-shape-shapepanel")[0]&&$(".h5-shape-shapepanel").remove(),$(document).off("mousemove.h5ds.shapepanel"),$(document).off("mouseup.h5ds.shapepanel")}))}))},r.willDrawShape="",r}return V()(n,[{key:"componentDidMount",value:function(){this.drawShapeEvent()}},{key:"componentWillUnmount",value:function(){$(".h5-shape-shapepanel")[0]&&$(".h5-shape-shapepanel").remove(),$(document).off("mousedown.h5ds.shapepanel")}},{key:"render",value:function(){var e=this;return this.props.show?ae.a.createElement(j.SourceLayout,{className:"h5-shape",title:"选择形状"},Wl.a.map((function(t,n){return ae.a.createElement("div",{className:"h5-shape-item",key:n,onClick:function(){return e.drawShape(t.type)}},t.dom({fill:"rgba(194,194,194,1)"}))}))):null}}]),n}(re.Component),Gl=ae.a.createElement("i",{className:"h5font ico-chouti"}),ql="shapeSource";n(344);function Kl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Zl=function(e){Jr()(n,e);var t=Kl(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).changeDelay=function(e){r.props.layer.data.keyid=j.util.randomID(),r.props.layer.data.delay=e,r.forceUpdate(),r.props.editor.updateCanvas(),r.props.editor.updateLayout("timeline")},r.autoPlayDo=function(e){r.props.layer.data.autoplay=e,r.props.editor.updateCanvas(),r.forceUpdate()},r.changeMusicLoop=function(e){r.props.layer.data.loop=e,r.props.layer.data.keyid=j.util.randomID(),r.props.editor.updateCanvas(),r.forceUpdate()},r.changeMusicAutoPlay=function(e){r.props.layer.data.autoplay=e,r.props.editor.updateCanvas(),r.forceUpdate()},r.changeVolume=function(e){r.props.layer.data.volume=e,r.props.editor.updateCanvas(),r.forceUpdate()},r.changeSound=function(){window.pubSubEditor.publish("h5ds.soundSource.show",(function(e,t){var n=e.url,a=e.name;r.loadSource.soundLazy(n).then((function(t){e.is_vip?r.props.layer.vip_sound=e.url:r.props.layer.vip_sound=void 0,r.props.layer.data.keyid=j.util.randomID(),r.props.layer.data.name=a,r.props.layer.data.sound=n,r.props.layer.data.duration=t.duration,r.props.editor.updateCanvas(),Ve.message.success("替换成功")}))}))},r.loadSource=new j.LoadSource,r}return V()(n,[{key:"render",value:function(){var e=this.props.layer.data,t=e.delay,n=e.autoplay,r=e.loop,a=e.name,o=e.sound,i=e.volume;return ae.a.createElement("div",{className:"h5ds-ex-h5ds_sound"},ae.a.createElement(j.Item,{title:"循环播放"},ae.a.createElement(Ve.Switch,{checked:r,onChange:this.changeMusicLoop})),ae.a.createElement(j.Item,{title:"自动播放"},ae.a.createElement(Ve.Switch,{checked:n,onChange:this.changeMusicAutoPlay})),ae.a.createElement(j.Item,{title:"延迟播放"},ae.a.createElement(Ve.InputNumber,{step:.1,min:0,value:t,onChange:this.changeDelay,size:"small"})),ae.a.createElement(j.Item,{title:"音量大小"},ae.a.createElement(Ve.Slider,{step:.01,min:0,max:1,value:i,onChange:this.changeVolume,size:"small"})),ae.a.createElement(j.Item,{title:"音乐控制",block:!0},ae.a.createElement(j.MusicPlayer,{url:o,name:a,volume:i}),ae.a.createElement(Ve.Button,{type:"primary",onClick:this.changeSound},"替换音乐")))}}]),n}(re.Component),Jl=n(63),Ql=n(70),eu={rotate:!1,borderRadius:!1,opacity:!1,backgroundColor:!1,animate:!1,event:!1,size:!1,hide:!1,shadow:!1,border:!1,adsorb:!1},tu=ae.a.createElement("i",{className:"h5font ico-yinpin"}),nu="soundSource";n(345),n(346);var ru=function(e){var t=e.value,n=void 0===t?0:t,r=e.onChange;return"normal"===n&&(n=0),ae.a.createElement(Ve.Popover,{placement:"topRight",content:ae.a.createElement("div",null,"间距：",ae.a.createElement(j.SliderGroup,{step:1,max:300,onChange:function(e){return r(e+"px")},value:parseInt(n||0,10)})),trigger:"click"},ae.a.createElement("a",{className:"h5font ico-zijianju"}))};var au=function(e){var t=e.value,n=void 0===t?0:t,r=e.onChange;return"normal"===n&&(n=0),ae.a.createElement(Ve.Popover,{placement:"topRight",content:ae.a.createElement("div",null,"行距：",ae.a.createElement(j.SliderGroup,{step:1,max:300,onChange:function(e){return r(e+"px")},value:parseInt(n||0,10)})),trigger:"click"},ae.a.createElement("a",{className:"h5font ico-hangju"}))},ou=[{type:"3d",name:"3D",colors:["#ffab00","#67490d"],rotate:Math.PI/2},{type:"jiaXin",name:"夹心",colors:["#bf2929","#fff"]},{type:"yinYing",name:"阴影",colors:["#3c9df3","#12e686"],rotate:Math.PI/2},{type:"niHong",name:"霓虹",colors:["#f33c3c"]},{type:"border",name:"边框",colors:["#fff","#3c5ef3"]},{type:"fire",name:"火焰",colors:["#F00"]},{type:"louKong",name:"镂空",colors:["#ff7c7c","#de0000"],rotate:Math.PI/2}],iu=n(35);function su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?su(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lu(e){var t=e.value,n=e.onChange,r=Object(re.useState)(t),a=te()(r,2),o=a[0],i=a[1];return ae.a.createElement(j.Collapse,{visible:!0},ae.a.createElement(j.Item,{title:"文字效果"},ae.a.createElement(Ve.Popover,{placement:"left",trigger:"click",content:ae.a.createElement("ul",{className:"h5-tab-content"},ou.map((function(e){return ae.a.createElement("li",{className:"ep-text-item",onClick:function(){return function(e){i(cu({},e)),n&&n(e)}(e)},key:e.type},ae.a.createElement(iu.a,yo()({type:"rgba"},e,{style:{fontSize:24,fontWeight:"bolder"}}),e.name,"艺术字效果"))})))},ae.a.createElement("a",{className:"pe-text-art-style"},o.name,"艺术字效果"))),ae.a.createElement(j.Item,{title:"文字配色"},ae.a.createElement(j.Colors,{data:o.colors,type:"rgba",noAdd:!0,noDelete:!0,onChange:function(e){o.colors=Q()(e),i(cu({},o)),n&&n(o)}})),ae.a.createElement(j.Item,{title:"文字参数"},ae.a.createElement(j.SliderGroup,{step:1,max:100,value:o.size||0,onChange:function(e){o.size=e,i(cu({},o)),n&&n(o)}})),void 0!==o.rotate&&ae.a.createElement(j.Item,{title:"角度"},ae.a.createElement(j.SliderGroup,{step:.1,max:2*Math.PI,min:0,value:o.rotate||0,onChange:function(e){o.rotate=e,i(cu({},o)),n&&n(o)}})))}var uu=Q()(hc);function du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?du(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fu(e){var t=e.value,n=e.onChange,r=Ve.Select.Option,a=Object(re.useState)(t),o=te()(a,2),i=o[0],s=o[1],c=Object(re.useMemo)((function(){return j.util.debounce(n,500)}),[n]),l=function(e,t){i[t]=e,s(pu({},i)),n&&c(pu({},i))};return ae.a.createElement(j.Collapse,{visible:!0},ae.a.createElement(j.Item,{title:"文字动画"},ae.a.createElement(Ve.Select,{onChange:function(e){var t=pu({},uu.find((function(t){return t.name===e})));t.keyid=j.util.randomID(),t.interval=.05,t.type="step",s(pu({},t)),n&&n(pu({},t))},size:"small",style:{width:120},defaultValue:(null==i?void 0:i.name)||"bounceIn"},uu.map((function(e,t){return ae.a.createElement(r,{key:t,value:e.name},e.tips)})))),ae.a.createElement(j.Item,{title:"动画时间"},ae.a.createElement(j.SliderGroup,{onChange:function(e){return l(e,"duration")},step:.01,max:10,value:j.util.toFixed(i.duration,2)})),ae.a.createElement(j.Item,{title:"动画间隔"},ae.a.createElement(j.SliderGroup,{onChange:function(e){return l(e,"interval")},step:.01,max:10,value:j.util.toFixed(i.interval,2)})),ae.a.createElement(j.Item,{title:"延迟时间"},ae.a.createElement(j.SliderGroup,{onChange:function(e){return l(e,"delay")},step:.1,max:10,value:j.util.toFixed(i.delay,1)})),ae.a.createElement(j.Item,{title:"缓动效果"},ae.a.createElement(Ve.Select,{size:"small",onChange:function(e){return l(e,"timing")},style:{width:120},value:i.timing||"ease"},ae.a.createElement(r,{value:"ease"},"默认"),ae.a.createElement(r,{value:"linear"},"匀速"),ae.a.createElement(r,{value:"ease-in"},"加速"),ae.a.createElement(r,{value:"ease-out"},"减速"),ae.a.createElement(r,{value:"ease-in-out"},"起始慢"),ae.a.createElement(r,{value:"cubic-bezier(0.68, -0.55, 0.27, 1.55)"},"回弹"))))}function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gu(e,t){var n,r,a,o,i=e.editor,s=e.layer,c=e.calibrationDOM,l=Object(re.useReducer)((function(e){return e+1}),0),u=te()(l,2)[1],d=s.data,p=function(){u(),c()};Object(re.useImperativeHandle)(t,(function(){return{setFontSize:function(e){d.style.fontSize=e,p()}}}));var f=function(e,t){if("fontFamily"===t){var n=Rl.filter((function(t){return t.name===e}))[0];d.fontFamilySet=mu({},n)}d.style[t]=e,i.updateCanvas(),p(),"fontSize"===t&&c()};return ae.a.createElement("div",{className:"pe-text"},ae.a.createElement(j.Item,{fontSize:"14px",noTitle:!0,block:!0},ae.a.createElement("div",{className:"pe-text-tools"},ae.a.createElement(Nl,{title:"加粗",value:d.style.fontWeight,vkey:"bolder",className:"h5font ico-jiacu",none:"normal",onChange:function(e){return f(e,"fontWeight")}}),ae.a.createElement(Nl,{title:"倾斜",value:d.style.fontStyle,vkey:"italic",className:"h5font ico-qingxie",none:"normal",onChange:function(e){return f(e,"fontStyle")}}),ae.a.createElement(Nl,{title:"中划线",value:d.style.textDecoration,key:d.style.textDecoration,vkey:"line-through",className:"h5font ico-zhonghuaxian",none:"none",onChange:function(e){return f(e,"textDecoration")}}),ae.a.createElement(Nl,{title:"下划线",value:d.style.textDecoration,key:d.style.textDecoration+1,vkey:"underline",className:"h5font ico-xiahuaxian",none:"none",onChange:function(e){return f(e,"textDecoration")}}),ae.a.createElement(Ve.Divider,{type:"vertical"}),ae.a.createElement(Ll,{value:d.style.textAlign,onChange:function(e){return f(e,"textAlign")}}),ae.a.createElement(Ve.Divider,{type:"vertical"}),ae.a.createElement(ru,{value:d.style.letterSpacing||0,onChange:function(e){return f(e,"letterSpacing")}}),ae.a.createElement(au,{value:d.style.lineHeight||0,onChange:function(e){return f(e,"lineHeight")}}),ae.a.createElement("div",{style:{paddingTop:10}},ae.a.createElement(Tl,{key:d.style.fontSize,value:d.style.fontSize,onChange:function(e){return f(e,"fontSize")}}),ae.a.createElement(Ve.Divider,{type:"vertical"}),ae.a.createElement(Ml,{key:d.style.fontFamily,value:d.style.fontFamily,onChange:function(e){return f(e,"fontFamily")}}))),ae.a.createElement("div",{className:"pe-text-area"},ae.a.createElement(Ve.Input.TextArea,{defaultValue:d.data,className:"pe-text-richtext",onChange:function(e){s.data.data=e.target.value,i.asyncUpdateCanvas((function(){c()}))}}))),(null==(n=d.artword)?void 0:n.type)?null:ae.a.createElement(j.Item,{fontSize:"14px",title:"文字颜色"},ae.a.createElement(j.ColorGroup,{value:d.style.color,onChange:function(e){return f(e,"color")}})),ae.a.createElement(j.Item,{fontSize:"14px",title:"艺术文字"},ae.a.createElement(Ve.Switch,{checked:!!(null==(r=d.artword)?void 0:r.type),onChange:function(e){var t=null;t=e?mu({},ou[0]):{type:"",name:"",colors:[]},d.artword=j.util.cloneDeep(t),i.updateCanvas(),p()}})),(null==(a=d.artword)?void 0:a.type)?ae.a.createElement(lu,{key:null==(o=d.artword)?void 0:o.type,value:d.artword,onChange:function(e){d.artword=j.util.cloneDeep(e),i.updateCanvas(),p()}}):null,ae.a.createElement(j.Item,{fontSize:"14px",title:"文字动画"},ae.a.createElement(Ve.Switch,{checked:!!d.animate,onChange:function(e){var t="";e?((t=mu({},uu[1])).keyid=j.util.randomID(),t.interval=.05,t.type="step",d.animate=mu({},t),s.keepRender=!1):(d.animate="",s.keepRender=!0),i.updateCanvas(),i.updateLayout("timeline"),p()}})),d.animate?ae.a.createElement(fu,{onChange:function(e){d.animate=mu({},e),i.updateLayout("timeline"),i.updateCanvas()},value:d.animate}):null)}var yu=Object(re.forwardRef)(gu);function vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wu(e){var t=e.layer,n=e.calibrationDOM,r=e.editor,a=Object(re.useRef)(),o=Object(re.useRef)();return Object(re.useEffect)((function(){return function(){r.forceUpdateSet("editor"),r.updateCanvas()}})),Bn.a.createPortal(ae.a.createElement("div",{style:bu({},t.style),ref:o,className:"h5ds-text-temp-textarea"},ae.a.createElement("textarea",{ref:a,style:bu({},t.data.style),onChange:function(e){t.data.data=e.target.value,r.updateCanvas(),n((function(e){$(a.current).height(e),$(o.current).height(e)}))},defaultValue:t.data.data})),$(".h5-canvas-view")[0])}function xu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Eu=function(e){Jr()(n,e);var t=xu(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).dbclickEvent=function(){$(".h5-canvas").on("dblclick.texteditor",".h5ds-control",(function(e){var t;if(!$(".h5ds-text-temp-textarea")[0]){var n=r.props.editor;r.$layer=n.getLayerDOM(),r.setState({textAreaFixedShow:!0}),null==(t=r.$layer)||t.css("visibility","hidden"),$(document).off("mousedown.textBlank").on("mousedown.textBlank",(function(e){var t;$(e.target).closest(".h5ds-text-temp-textarea")[0]||($(document).off("mousedown.textBlank"),r.setState({textAreaFixedShow:!1}),null==(t=r.$layer)||t.css("visibility","visible"),r.props.editor.updateCanvas())})),$(e.currentTarget).find(".layer-h5ds_text-auto").off("paste").on("paste",(function(e){e.preventDefault();var t=e.originalEvent.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)}))}}))},r.calibrationDOM=j.util.debounce((function(e){r.layerDom||(r.layerDom=r.props.editor.getLayerDOM());var t=r.layerDom.find(".layer-h5ds_text-auto");t[0]&&(r.props.layer.style.height=t.height(),r.props.editor.updateCanvas(),r.props.editor.controlChange({height:r.props.layer.style.height}),e&&e(r.props.layer.style.height))}),100),r.scaleEvent=function(){var e=r.props,t=e.editor,n=e.layer;r.$layer=t.getLayerDOM(),r.$layer.on("controlStart.h5ds.text",(function(e,t){r.startHeight=t?t.height:null,r.fontSize=parseInt(n.data.style.fontSize,10),r.layerBox=r.$layer.find(".layer-h5ds_text-auto")})),r.$layer.on("controlResizeTick.h5ds.text",(function(e,t){if(r.moveHeight=t?t.height:null,r.startHeight&&r.moveHeight){var n=r.startHeight/r.moveHeight,a=r.fontSize/n;r.layerBox.css("font-size",(a<12?12:a)+"px")}})),r.$layer.on("controlEnd.h5ds.text",(function(e,t){if(t){r.endHeight=t?t.height:null;var a=r.startHeight/r.endHeight,o=r.fontSize/a;o=parseInt(o<12?12:o,10)+"px",n.data.style.fontSize=o,r.calibrationDOM(),r.editorSetRef.current.setFontSize(o)}}))},r.state={textAreaFixedShow:!1},r.editorSetRef=ae.a.createRef(),r}return V()(n,[{key:"selectText",value:function(e){if(document.body.createTextRange){var t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){var n=window.getSelection(),r=document.createRange();if(!r)return!1;r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r)}else console.error("selectText none")}},{key:"componentDidMount",value:function(){this.dbclickEvent(),this.scaleEvent()}},{key:"componentWillUnmount",value:function(){var e;($(".h5-canvas").off("dblclick.texteditor"),this.layerBox=null,$(document).off("mousedown.textBlank"),this.$layer)&&(null==(e=this.$layer)||e.css("visibility","visible"),this.$layer.off("controlStart.h5ds.text"),this.$layer.off("controlResizeTick.h5ds.text"),this.$layer.off("controlEnd.h5ds.text"),this.$layer=null)}},{key:"render",value:function(){return ae.a.createElement("div",{className:"pe-text-set"},ae.a.createElement(yu,{calibrationDOM:this.calibrationDOM,ref:this.editorSetRef,editor:this.props.editor,layer:this.props.layer}),this.state.textAreaFixedShow&&ae.a.createElement(wu,{calibrationDOM:this.calibrationDOM,editor:this.props.editor,layer:this.props.layer}))}}]),n}(re.Component),_u=n(54);n(347);function ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Su=function(e){var t=e.editor,n=Ve.Tabs.TabPane,r=function(e,n){var r=t.getNewLayerDataByPid("h5ds_text");switch(e){case"h1":r.style.width=240,r.style.height=42,r.data.style.fontSize="32px";break;case"h2":r.style.width=180,r.style.height=32,r.data.style.fontSize="24px";break;case"p":r.style.width=105,r.style.height=20,r.data.style.fontSize="14px"}n&&(r.uncenter=!0,r.style.top=n.y,r.style.left=n.x),t.addLayer(r)},a=function(e,n){var r=t.getNewLayerDataByPid("h5ds_text");r.data.artword=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ku(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n&&(r.uncenter=!0,r.style.top=n.y,r.style.left=n.x),t.addLayer(r),t.updateCanvas()};return ae.a.createElement(Ve.Tabs,{animated:!1,className:"ui-tabs",defaultActiveKey:"1"},ae.a.createElement(n,{className:"h5editor-text-h",tab:"文字",key:"1"},ae.a.createElement(oe,{onOk:function(e){return r("h1",e)}},ae.a.createElement("h1",{onClick:function(){return r("h1")}},"添加标题文字")),ae.a.createElement(oe,{onOk:function(e){return r("h2",e)}},ae.a.createElement("h2",{onClick:function(){return r("h2")}},"添加副标题文字")),ae.a.createElement(oe,{onOk:function(e){return r("p",e)}},ae.a.createElement("p",{onClick:function(){return r("p")}},"添加内容文字"))),ae.a.createElement(n,{className:"h5editor-text-art",tab:"艺术字",key:"2"},ae.a.createElement("ul",{className:"h5-tab-content"},ou.map((function(e){return ae.a.createElement(oe,{key:e.type,onOk:function(t){return a(e,t)}},ae.a.createElement("li",{className:"h5editor-text-item",onClick:function(){return a(e)}},ae.a.createElement(iu.a,yo()({},e,{style:{fontSize:24,fontWeight:"bolder"}}),e.name,"艺术字效果")))})))))},Ou=n(69),Cu="textSource",Du=ae.a.createElement("i",{className:"h5font ico-wenzi"}),Pu={height:!1};n(348);function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ju(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Tu=ae.a.createElement("i",{className:"h5font ico-texiao"}),Nu=function(e){Jr()(n,e);var t=ju(n);function n(){var e;Y()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).updateCanvas=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.props.layer.keyid=j.util.randomID(),e.props.layer.data.type=t,e.props.layer.data.set=Au({},n),e.props.editor.updateCanvas(),e.forceUpdate()},e.selectImage=function(){window.pubSubEditor.publish("h5ds.imageModal.show",(function(t){t.is_vip?e.props.layer.vip_url=t.is_vip:e.props.layer.vip_url=void 0,e.updateCanvas("other",{img:t.url})}))},e.selectEffect=function(t){var n={},r="https://cdn.h5ds.com";switch(t){case"snow":n.img=r+"/static/images/snow.png";break;case"packet":n={min:20,max:40,count:30,speed:10,img:r+"/static/images/packet.png"};break;case"petal":n={min:10,max:30,count:30,speed:10,rotate:10,img:r+"/static/images/petal.png"};break;case"money":n={min:10,max:30,count:30,speed:10,img:r+"/static/images/money.png"};break;case"star":n={min:1,max:6,count:50,speed:2};break;case"movestar":n={min:20,max:200,count:50,speed:2}}e.updateCanvas(t,n)},e.onChange=function(t,n){e.props.layer.data.set[n]=t,e.forceUpdate(),e.props.editor.updateCanvas()},e.onChangeSize=function(t){var n=te()(t,2),r=n[0],a=n[1];e.props.layer.data.set.min=r,e.props.layer.data.set.max=a,e.forceUpdate(),e.props.editor.updateCanvas()},e}return V()(n,[{key:"render",value:function(){var e=this,t=this.props.layer.data,n=t.type,r=t.set;return ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"选择特效",block:!0,className:"h5ds-css-effect"},ae.a.createElement("ul",{className:"h5ds-css-effect-list"},ae.a.createElement("button",{className:"snow"===n?"h5ds-css-effect-active":"",onClick:function(){return e.selectEffect("snow")}},"雪花"),ae.a.createElement("button",{className:"petal"===n?"h5ds-css-effect-active":"",onClick:function(){return e.selectEffect("petal")}},"花瓣"),ae.a.createElement("button",{className:"packet"===n?"h5ds-css-effect-active":"",onClick:function(){return e.selectEffect("packet")}},"红包"),ae.a.createElement("button",{className:"money"===n?"h5ds-css-effect-active":"",onClick:function(){return e.selectEffect("money")}},"金币"),ae.a.createElement("button",{className:"cloud"===n?"h5ds-css-effect-active":"",onClick:function(){return e.selectEffect("cloud")}},"云"),ae.a.createElement("button",{className:"star"===n?"h5ds-css-effect-active":"",onClick:function(){return e.selectEffect("star")}},"星星"),ae.a.createElement("button",{className:"movestar"===n?"h5ds-css-effect-active":"",onClick:function(){return e.selectEffect("movestar")}},"流星"),ae.a.createElement("button",{className:"other"===n?"h5ds-css-effect-active":"",onClick:this.selectImage},"自定义"))),"star"===n&&ae.a.createElement(j.Item,{title:"星星颜色"},ae.a.createElement(j.ColorGroup,{value:r.backgroundColor||"rgba(255,255,255,1)",onChange:function(t){return e.onChange(t,"backgroundColor")}})),["snow","petal","money","star","movestar","packet","other"].includes(n)&&ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"设置速度",block:!0},ae.a.createElement(Ve.Slider,{style:{width:200},defaultValue:r.speed,onAfterChange:function(t){return e.onChange(t,"speed")},min:1,max:20})),ae.a.createElement(j.Item,{title:"设置数量",block:!0},ae.a.createElement(Ve.Slider,{style:{width:200},defaultValue:r.count,onAfterChange:function(t){return e.onChange(t,"count")},min:1,max:100})),ae.a.createElement(j.Item,{title:"设置大小",block:!0},ae.a.createElement(Ve.Slider,{onAfterChange:this.onChangeSize,min:1,max:100,style:{width:200},range:!0,defaultValue:[r.min,r.max]}))))}}]),n}(re.Component),Lu=n(38),Ru=n(64);Object(bl.mountPlugin)({Editor:Nu,LayerJSON:Ru.a,LayerComp:Lu.LayerComp,scripts:Lu.scripts,config:Lu.config,icon:Tu});n(349);function Mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mu(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bu(e,t){var n,r,a,o,i=e.editor,s=e.layer,c=e.calibrationDOM,l=Object(re.useReducer)((function(e){return e+1}),0),u=te()(l,2)[1],d=function(){return i.selectZimuKeyid?s.data.texts.find((function(e){return e.keyid===i.selectZimuKeyid})):s.data.texts[0]},p=function(){u(),c()};Object(re.useImperativeHandle)(t,(function(){return{setFontSize:function(e){d().style.fontSize=e,p()}}}));var f=function(e,t){var n=d();if("fontFamily"===t){var r=Rl.filter((function(t){return t.name===e}))[0];n.fontFamilySet=zu({},r)}n.style[t]=e,i.updateCanvas(),p(),"fontSize"===t&&c(),window.pubSubEditor.publish("h5ds.setFrameAnimate")},h=d();return h?ae.a.createElement("div",{className:"pe-text"},ae.a.createElement(j.Item,{fontSize:"14px",noTitle:!0,block:!0},ae.a.createElement("div",{className:"pe-text-tools"},ae.a.createElement(Nl,{title:"加粗",value:h.style.fontWeight,vkey:"bolder",className:"h5font ico-jiacu",none:"normal",onChange:function(e){return f(e,"fontWeight")}}),ae.a.createElement(Nl,{title:"倾斜",value:h.style.fontStyle,vkey:"italic",className:"h5font ico-qingxie",none:"normal",onChange:function(e){return f(e,"fontStyle")}}),ae.a.createElement(Nl,{title:"中划线",value:h.style.textDecoration,key:h.style.textDecoration,vkey:"line-through",className:"h5font ico-zhonghuaxian",none:"none",onChange:function(e){return f(e,"textDecoration")}}),ae.a.createElement(Nl,{title:"下划线",value:h.style.textDecoration,key:h.style.textDecoration+1,vkey:"underline",className:"h5font ico-xiahuaxian",none:"none",onChange:function(e){return f(e,"textDecoration")}}),ae.a.createElement(Ve.Divider,{type:"vertical"}),ae.a.createElement(Ll,{value:h.style.textAlign,onChange:function(e){return f(e,"textAlign")}}),ae.a.createElement(Ve.Divider,{type:"vertical"}),ae.a.createElement(ru,{value:h.style.letterSpacing||0,onChange:function(e){return f(e,"letterSpacing")}}),ae.a.createElement(au,{value:h.style.lineHeight||0,onChange:function(e){return f(e,"lineHeight")}}),ae.a.createElement("div",{style:{paddingTop:10}},ae.a.createElement(Tl,{key:h.style.fontSize,value:h.style.fontSize,onChange:function(e){return f(e,"fontSize")}}),ae.a.createElement(Ve.Divider,{type:"vertical"}),ae.a.createElement(Ml,{key:h.style.fontFamily,value:h.style.fontFamily,onChange:function(e){return f(e,"fontFamily")}}))),(null==(n=h.artword)?void 0:n.type)?null:ae.a.createElement(j.Item,{fontSize:"14px",title:"文字颜色"},ae.a.createElement(j.ColorGroup,{value:h.style.color,onChange:function(e){return f(e,"color")}})),ae.a.createElement(j.Item,{fontSize:"14px",title:"艺术文字"},ae.a.createElement(Ve.Switch,{checked:!!(null==(r=h.artword)?void 0:r.type),onChange:function(e){var t=d(),n=null;n=e?zu({},ou[0]):{type:"",name:"",colors:[]},t.artword=j.util.cloneDeep(n),i.updateCanvas(),p(),window.pubSubEditor.publish("h5ds.setFrameAnimate")}})),(null==(a=h.artword)?void 0:a.type)?ae.a.createElement(lu,{key:null==(o=h.artword)?void 0:o.type,value:h.artword,onChange:function(e){d().artword=j.util.cloneDeep(e),i.updateCanvas(),p(),window.pubSubEditor.publish("h5ds.setFrameAnimate")}}):null),ae.a.createElement(j.Item,{fontSize:"14px",block:!0},ae.a.createElement(Ve.Button,{block:!0,onClick:function(){var e=d();s.data.texts.forEach((function(t){["fontFamilySet","style","artword"].forEach((function(n){t[n]=zu({},e[n])}))})),i.updateCanvas(),p(),window.pubSubEditor.publish("h5ds.setFrameAnimate")}},"应用到全部"))):ae.a.createElement("div",{className:"pe-text"},"未选中字幕")}var Hu=Object(re.forwardRef)(Bu);function Fu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var Wu=ae.a.createElement("i",{className:"h5font ico-biaodan"}),$u=function(e){Jr()(n,e);var t=Fu(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).changeText=function(e,t){t.value=e,t.keyid=j.util.randomID(),r.props.editor.updateCanvas(),r.props.editor.updateLayout("timeline"),window.pubSubEditor.publish("h5ds.setFrameAnimate")},r.countLastTime=function(){var e=r.props.layer.data.texts,t=e[e.length-1];return t.duration+t.delay},r.addText=function(){var e={keyid:j.util.randomID(),value:"字幕文件",duration:1,delay:r.countLastTime(),fontFamilySet:{name:"默认字体",url:""},style:{letterSpacing:"normal",lineHeight:"normal",color:"rgba(0,0,0,1)",textDecoration:"normal",textAlign:"left",fontFamily:"默认字体",fontWeight:"normal",fontStyle:"normal",fontSize:"18px"},artword:{type:"",name:"",colors:[],size:10}};r.props.layer.data.texts.push(e),r.props.editor.selectZimuKeyid=e.keyid,window.pubSubEditor.publish("h5ds.setFrameAnimate",10*(e.delay+.1)),r.props.editor.updateCanvas(),r.props.editor.updateLayout("timeline"),r.forceUpdate()},r.delText=function(e){r.props.layer.data.texts.splice(e,1),r.props.editor.updateCanvas(),r.props.editor.updateLayout("timeline"),r.forceUpdate()},r.state={textAreaFixedShow:!1},r.editorSetRef=ae.a.createRef(),r}return V()(n,[{key:"selectText",value:function(e){if(document.body.createTextRange){var t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){var n=window.getSelection(),r=document.createRange();if(!r)return!1;r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r)}else console.error("selectText none")}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){var e;(this.layerBox=null,this.$layer)&&(null==(e=this.$layer)||e.css("visibility","visible"),this.$layer=null)}},{key:"render",value:function(){var e=this;this.props.layer.data;return this.props.editor.selectZimuKeyid,ae.a.createElement("div",{className:"pe-text-set"},ae.a.createElement(Hu,{calibrationDOM:function(){e.props.editor.updateCanvas(),e.forceUpdate()},ref:this.editorSetRef,editor:this.props.editor,layer:this.props.layer}),ae.a.createElement(j.Item,{title:"字幕内容",block:!0},ae.a.createElement("ul",{className:"pe-text-set-ul"},this.props.layer.data.texts.map((function(t,n){return ae.a.createElement("li",{key:t.keyid},ae.a.createElement(Ve.Input.TextArea,{style:{display:"inline-block",width:230},defaultValue:t.value.replace(/\/n/g,"\n"),onChange:function(n){return e.changeText(n.target.value,t)}}),ae.a.createElement("a",{onClick:function(){return e.delText(n)},className:"h5font ico-shanchu"}))}))),ae.a.createElement("br",null),ae.a.createElement(Ve.Button,{onClick:this.addText},"插入字幕")))}}]),n}(re.Component),Yu=n(40),Xu=function e(){Y()(this,e),this.id=null,this.className=null,this.set={hide:!1,lock:!1,lockWideHigh:!1,pointerEvent:!1},this.animate=[],this.uncenter=!0,this.eventId=null,this.jscript=null,this.style={width:300,height:27,top:477,left:10},this.estyle={},this.events=[],this.data={texts:[{keyid:1,value:"字幕一",duration:1,delay:0,fontFamilySet:{name:"默认字体",url:""},style:{letterSpacing:"normal",lineHeight:"normal",color:"rgba(0,0,0,1)",textDecoration:"normal",textAlign:"center",fontFamily:"默认字体",fontWeight:"normal",fontStyle:"normal",fontSize:"18px"},artword:{type:"",name:"",colors:[],size:10}}]}},Vu={animate:!1};Object(bl.mountPlugin)({Editor:$u,LayerJSON:Xu,LayerComp:Yu.LayerComp,scripts:Yu.scripts,config:Yu.config,icon:Wu,editorConfig:Vu});n(350),n(351),n(352);var Uu=n(261),Gu=n.n(Uu);function qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qu(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zu(e){var t=e.src,n=e.data,r=e.initCrop,a=void 0===r?{}:r,o=e.onChange,i=e.onCancel,s=Object(re.useState)(Object.assign({unit:"px"},Ku({},a))),c=te()(s,2),l=c[0],u=c[1],d=Object(re.useState)([1,1]),p=te()(d,2),f=p[0],h=p[1],m=Object(re.useRef)(),g=function(){var e=ue()(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ja()(l,t)||u(Ku(Ku({},t),{},{naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(re.useEffect)((function(){t&&function(){var e=ue()(ce.a.mark((function e(){var r,o,i,s,c,l;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.util.imgLazy(t);case 2:r=e.sent,o=m.current.componentRef,i=o.clientWidth,s=o.clientHeight,r&&(c=n.naturalWidth/i,l=n.naturalHeight/s,u({unit:"px",x:a.x/c,y:a.y/l,height:a.height/l,width:a.width/c,naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight}),h([c,l]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);var y=function(){var e=ue()(ce.a.mark((function e(r){var a,o,i,s,c,l,d,p;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.util.imgLazy(t);case 2:e.sent,a=te()(f,2),o=a[0],i=a[1],s=n.naturalHeight/i,c=n.naturalWidth/o,l=s>c?c:s,d={unit:"px",x:0,y:0},e.t0=r.target.value,e.next=1===e.t0?11:2===e.t0?13:3===e.t0?16:4===e.t0?18:5===e.t0?20:6===e.t0?22:7===e.t0?24:26;break;case 11:return Object.assign(d,{height:s,width:c}),e.abrupt("break",26);case 13:return p=$(".h5-canvas-view"),Object.assign(d,{height:p.height()/i,width:p.width()/o}),e.abrupt("break",26);case 16:return Object.assign(d,{height:l,width:l*(3/4)}),e.abrupt("break",26);case 18:return Object.assign(d,{height:l*(3/4),width:l}),e.abrupt("break",26);case 20:return Object.assign(d,{height:l,width:l}),e.abrupt("break",26);case 22:return Object.assign(d,{height:l,width:.5*l}),e.abrupt("break",26);case 24:return Object.assign(d,{height:l,width:l*(1/3)}),e.abrupt("break",26);case 26:u(Ku(Ku({},d),{},{naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight}));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ae.a.createElement("div",{className:"ui-cropimg"},ae.a.createElement("div",{className:"ui-cropimg-box"},ae.a.createElement("div",{className:"ui-cropimg-inner"},ae.a.createElement(Gu.a,{ref:m,src:t,crop:l,onChange:g}))),ae.a.createElement("div",{className:"ui-cropimg-set"},ae.a.createElement(j.Mitem,{title:"剪切比例"},ae.a.createElement(Ve.Radio.Group,{onChange:y,defaultValue:1},ae.a.createElement(Ve.Radio,{value:1},"原图比例"),ae.a.createElement(Ve.Radio,{value:2},"视图尺寸"),ae.a.createElement("br",null),ae.a.createElement(Ve.Radio,{value:3},"4:3"),ae.a.createElement(Ve.Radio,{value:4},"3:4"),ae.a.createElement("br",null),ae.a.createElement(Ve.Radio,{value:5},"1:1"),ae.a.createElement(Ve.Radio,{value:6},"1:2"),ae.a.createElement("br",null),ae.a.createElement(Ve.Radio,{value:7},"1:3"))),ae.a.createElement("div",null,ae.a.createElement(Ve.Button,{onClick:i},"取消"),"   ",ae.a.createElement(Ve.Button,{onClick:function(){if(f){var e=te()(f,2),r=e[0],a=e[1];o({x:l.x*r,y:l.y*a,width:l.width*r,height:l.height*a,naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight},t,f)}else console.error("资源还在加载中...")},type:"primary"},"确定"))))}function Ju(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Qu=ae.a.createElement("i",{className:"h5font ico-shipin"});function ed(e){var t=e.editor,n=e.layer,r=Object(re.useState)(!1),a=te()(r,2),o=a[0],i=a[1],s=Object(re.useState)(n.data.videoSourceType||"local"),c=te()(s,2),l=c[0],u=c[1];return ae.a.createElement("div",{className:"pe-h5ds_video"},ae.a.createElement(j.Item,{title:"视频来源"},ae.a.createElement(Ve.Radio.Group,{size:"small",onChange:function(e){u(e.target.value),n.data.src="",n.data.videoSourceType=e.target.value,t.updateCanvas()},defaultValue:l},ae.a.createElement(Ve.Radio.Button,{value:"local"},"本站视频"),ae.a.createElement(Ve.Radio.Button,{value:"third"},"三方视频"),ae.a.createElement(Ve.Radio.Button,{value:"outlink"},"URL"))),"local"===l&&ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(j.Item,{title:"视频素材",block:!0},ae.a.createElement("div",{className:"pe-h5ds_video-box"},ae.a.createElement("video",{src:n.data.src,playsInline:!0,controls:!0,poster:n.data.src+"?x-oss-process=video/snapshot,t_1000,f_jpg,w_200,h_0,m_fast",preload:"auto"})),ae.a.createElement("br",null),ae.a.createElement(Ve.Button,{size:"small",onClick:function(){window.pubSubEditor.publish("h5ds.videoModal.show",function(){var e=ue()(ce.a.mark((function e(r){var a,o,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.designScale,o=Ve.message.loading("资源加载中",0),e.next=4,j.util.imgLazy(r.url+"?x-oss-process=video/snapshot,t_1,f_jpg,w_0,h_0,m_fast");case 4:i=e.sent,o(),n.keyid=j.util.randomID(),n.data.keyid=j.util.randomID(),n.data.src=r.url,n.data.crop={x:0,y:0,width:i.naturalWidth,height:i.naturalHeight,naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight},n.data.naturalWidth=i.naturalWidth,n.data.naturalHeight=i.naturalHeight,n.style.width=i.naturalWidth/a,n.style.height=i.naturalHeight/a,n.data.duration=parseFloat(r.description)||10,t.updateCanvas(),t.updateLayout("timeline"),t.setControl(n.keyid);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"替换视频")," ",ae.a.createElement(Ve.Button,{size:"small",onClick:function(){i(!0)}},"裁剪视频")),ae.a.createElement(j.Item,{title:"静音"},ae.a.createElement(Ve.Switch,{checkedChildren:"开启",unCheckedChildren:"关闭",onChange:function(e){n.data.muted=e,t.updateCanvas()},defaultChecked:n.data.muted})),ae.a.createElement(j.Item,{title:"自动播放"},ae.a.createElement(Ve.Switch,{checkedChildren:"开启",unCheckedChildren:"关闭",onChange:function(e){n.data.autoplay=e,t.updateCanvas()},defaultChecked:n.data.autoplay})),ae.a.createElement(j.Item,{title:"控制器"},ae.a.createElement(Ve.Switch,{checkedChildren:"开启",unCheckedChildren:"关闭",onChange:function(e){n.data.control=e,t.updateCanvas()},defaultChecked:n.data.control})),ae.a.createElement(j.Item,{title:"音量"},ae.a.createElement(j.SliderGroup,{min:0,max:1,step:.01,width:200,size:"small",value:n.data.volume||1,onAfterChange:function(e){n.data.volume=e,t.updateCanvas()}}))),"third"===l&&ae.a.createElement(j.Item,{title:"视频代码"},ae.a.createElement(Ve.Input.TextArea,{defaultValue:n.data.src,onChange:function(e){-1!==e.target.value.indexOf("<iframe")?(n.data.src=e.target.value,t.updateCanvas()):Ve.message.error("通用视频格式错误!")},placeholder:"请填写腾讯视频、优酷、B站、爱奇艺等通用视频地址"})),"outlink"===l&&ae.a.createElement(j.Item,{title:"视频地址"},ae.a.createElement(Ve.Input.TextArea,{defaultValue:n.data.src,onChange:function(e){n.data.src=e.target.value,t.updateCanvas()},placeholder:"请填写外链视频地址, 例如：https://xxxxx.mp4"})),ae.a.createElement(Ve.Modal,{width:900,className:"ui-modal ui-modal-full",footer:null,visible:o,onCancel:function(){return i(!1)}},o&&ae.a.createElement(Zu,{data:n.data,initCrop:n.data.crop,src:n.data.src+"?x-oss-process=video/snapshot,t_1000,f_jpg,w_0,h_0,m_fast",onChange:function(e){n.data.crop=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ju(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ju(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n.style.width=e.width,n.style.height=e.height,i(!1),t.updateCanvas(),setTimeout((function(){t.control&&t.control.update()}),100)}})))}var td=n(39),nd=function e(){Y()(this,e),this.id=null,this.className=null,this.set={hide:!1,lock:!1,lockWideHigh:!1,pointerEvent:!1},this.animate=[],this.eventId=null,this.jscript=null,this.style={width:320,height:520,top:0,left:0},this.estyle={},this.events=[],this.data={name:"视频名称",muted:!1,naturalWidth:320,naturalHeight:520,crop:{x:0,y:0,width:320,height:520,naturalWidth:320,naturalHeight:520},volume:1,control:!0,autoplay:!0,loop:!1,delay:0,duration:10,videoSourceType:"local",src:""}};function rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ad(e,t){return od.apply(this,arguments)}function od(){return(od=ue()(ce.a.mark((function e(t,n){var r,a=arguments;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:25,e.abrupt("return",new Promise(function(){var e=ue()(ce.a.mark((function e(a){var o,i,s,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.blob()}));case 2:o=e.sent,i=URL.createObjectURL(o),(s=document.createElement("video")).addEventListener("seeked",ue()(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&c();case 1:case"end":return e.stop()}}),e)})))),s.addEventListener("loadeddata",ue()(ce.a.mark((function e(){var t,o,i,l,u,d,p,f,h,m,g;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.createElement("canvas"),o=t.getContext("2d"),i=n||[s.videoWidth,s.videoHeight],l=te()(i,2),u=l[0],d=l[1],t.width=u,t.height=d,p=[],f=1/r,h=0,m=s.duration;case 9:if(!(h<m)){e.next=20;break}return s.currentTime=h,e.next=13,new Promise((function(e){return c=e}));case 13:o.drawImage(s,0,0,u,d),g=t.toDataURL(),p.push(g),h+=f,e.next=9;break;case 20:a(p);case 21:case"end":return e.stop()}}),e)})))),s.src=i;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function id(e){var t=[],n=[],r=[];return function e(a){a.forEach((function(a){switch(a.pid){case"h5ds_video":t.push({size:[a.style.width,a.style.height],value:a.data.src});break;case"h5ds_text":n.push({id:a.keyid,value:a.data.data});break;case"h5ds_sound":r.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rd(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.data));break;case"h5ds_combin":e(a.data)}}))}(e.layers),{texts:n,videos:t,sounds:r}}function sd(){return(sd=ue()(ce.a.mark((function e(t){var n,r,a,o,i,s,c,l,u;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.pageData,r=t.layerData,a=t.fps,window.scdw_video_frames||(window.scdw_video_frames={}),o=id(function(){return n||(r?{layers:[r]}:void 0)}()),i=o.videos,s=0;case 5:if(!(s<i.length)){e.next=15;break}if(c=i[s],l=c.size,u=c.value,window.scdw_video_frames[u]){e.next=12;break}return e.next=11,ad(u+"?js",l,a);case 11:window.scdw_video_frames[u]=e.sent;case 12:s++,e.next=5;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cd(){}function ld(){}window.videoToImage=function(e){return sd.apply(this,arguments)};var ud={width:!1,height:!1,animate:!1};Object(bl.mountPlugin)({Editor:ed,LayerJSON:nd,LayerComp:td.LayerComp,scripts:td.scripts,config:td.config,icon:Qu,deleteLayerCallBack:cd,addLayerCallBack:ld,editorConfig:ud});var dd=function(){function e(t){Y()(this,e),this.options=t}var t,n;return V()(e,[{key:"mountExtendsPlugins",value:(n=ue()(ce.a.mark((function e(){var t,n,r,a=arguments;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:[],Object(Je.l)(_),"sync"!==this.options.mode){e.next=7;break}t.forEach((function(e){Object(bl.mountPlugin)(e)})),window.pubSubEditor&&window.pubSubEditor.publish("h5ds.load.plugins",{count:t.length,index:t.length,progress:1,name:"all plugins load end",type:"plugin"}),e.next=10;break;case 7:return n=this.options.pluginsHost,r=void 0===n?"":n,e.next=10,Object(Je.m)(t,r,"editor");case 10:return e.next=12,this.mountPluginsEnd();case 12:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"mountPluginsEnd",value:(t=ue()(ce.a.mark((function e(){var t,n,r,a,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Je.k)();case 2:t=window.H5DS_GLOBAL||{},n=t.scripts,r=void 0===n?[]:n,a=t.plugins,o=void 0===a?{}:a,Rn.plugins={plugins:Object.values(o),scripts:Q()(r),pluginsKey:o};case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}();n(353);function pd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na()(e);if(t){var a=na()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ea()(this,n)}}var fd=function(e){Jr()(n,e);var t=pd(n);function n(e){var r;return Y()(this,n),(r=t.call(this,e)).state={percent:0,sourceName:"h5ds.core.js"},r}return V()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.appData;t?(window.pubSubEditor.subscribe("h5ds.load.plugins",(function(t){var n=t.count,r=t.index,a=t.progress,o=t.name,i=parseInt(100*a*.7,10);0===n||0!==n&&n===r+1?e.setState({percent:100,name:"加载成功"}):e.setState({percent:i,sourceName:o})})),window.pubSubEditor.subscribe("h5ds.load.scripts",(function(t){var n=t.count,r=t.index,a=t.progress,o=t.name,i=parseInt(100*a*.3+70,10);0===n||0!==n&&n===r+1?e.setState({percent:100,name:"加载成功"}):e.setState({percent:i,sourceName:o})}))):console.error("数据异常")}},{key:"componentWillUnmount",value:function(){this.hasUnmount=!0,window.pubSubEditor.unsubscribe("h5ds.load.plugins"),window.pubSubEditor.unsubscribe("h5ds.load.scripts")}},{key:"render",value:function(){var e=this.state,t=e.percent,n=e.sourceName;return ae.a.createElement(j.Loading,{visible:!0},ae.a.createElement("div",{className:"h5ds-loading-box"},ae.a.createElement(Ve.Progress,{strokeWidth:1,format:function(e){return ae.a.createElement("div",{className:"h5ds-loading-percent"},ae.a.createElement("div",{style:{padding:10}},ae.a.createElement("img",{style:{width:140},src:ie.b.startLoadingLogo,alt:""})),"加载进度：",e,"% ",ae.a.createElement("br",null),ae.a.createElement("span",{className:"h5ds-loading-info"},n))},width:200,type:"circle",percent:t})))}}]),n}(re.Component);n(354);function hd(e){var t=e.icon,n=e.pid,r=e.name,a=e.onClick,o=(e.sourceName,ae.a.createElement("div",{className:"h5-plugin-item","data-pid":n},ae.a.createElement("div",{onClick:a,className:"h5-plugin-item-top"},t),ae.a.createElement("div",{className:"h5-plugin-item-bottom"},r,ae.a.createElement("i",{className:"h5font ico-yiwen"}))));return ae.a.createElement(oe,{onOk:function(e){return a("",e)}},o)}var md=function(e){var t=e.show,n=e.editor;return t?ae.a.createElement(j.SourceLayout,{className:"h5-plugin-source",title:"全部插件"},ae.a.createElement("div",{className:"h5-plugin-source-box"},n.plugins.plugins.map((function(e){return"h5ds_combin"===e.config.pid?null:ae.a.createElement(hd,{sourceName:e.sourceName,key:e.config.pid,pid:e.config.pid,icon:e.icon,name:e.config.name,onClick:function(t,r){return function(e,t){e.sourceName?n.showPanelName=e.sourceName:n.addLayerByPid(e.config.pid,function(){var e=ue()(ce.a.mark((function e(n){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(n.uncenter=!0,n.style.top=t.y,n.style.left=t.x);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}(e,r)}})})))):null};t.default=function(e){var t=e.data,n=e.options,a=e.plugins;Rn.appData="defaultData"!==t&&t?t:Object(ie.d)(),Rn.appData.type=0,Rn.orientation||(Rn.orientation="portrait"),Rn.options=n,window.H5DS_APP_ID=n.appId,Ye.local.set("H5DS_APP_ID",n.appId);var o=Object(re.useState)(!1),i=te()(o,2),s=i[0],c=i[1];if(!t)return ae.a.createElement("div",null,"loading data...");if(Ge.setTheme(),!s)return function(){var e=ue()(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new dd({mode:n.mountPluginMode,pluginsHost:n.pluginsHost}),e.next=3,t.mountExtendsPlugins(a);case 3:c(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),ae.a.createElement(fd,{appData:t});for(var l in window.H5DS_GLOBAL.plugins){var u=window.H5DS_GLOBAL.plugins[l],d=u.sourceName,p=u.Source;!["imageSource","soundSource","videoSource"].includes(d)&&d&&(n.panel[d]=p)}return n.panel.pluginSource=md,Rn.setHistory(),ae.a.createElement(Br,r,ae.a.createElement(Ve.ConfigProvider,{locale:vl},ae.a.createElement(fl,{data:t,options:n,plugins:a})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){$(document).on("mousedown.uniqlist",".h5-uniqlist",(function(e){e.stopPropagation();var t=e.pageX,n=e.pageY,r=$(this);if(r.trigger("uniqstart"),"h5-uniqlist"!==e.target.className&&!$(e.target).closest(".h5-uniq-undrag")[0]&&!$(e.target).closest(".h5-uniq-clone")[0]&&$(e.target).closest(".h5-uniqlist-handle")[0]){var a=$(e.target).closest(".h5-uniqlist-item");if(a[0]){var o=parseInt(a.position().left,10),i=parseInt(a.position().top,10),s=a.css("padding"),c=a.height(),l=a.index(),u=null,d=function(){a.addClass("h5-uniq-start").siblings(".h5-uniqlist-item").removeClass("h5-uniq-start"),(u=a.clone()).addClass("h5-uniq-clone").css({left:o,top:i,padding:s,width:a.width(),height:a.height(),position:"absolute"}),r.append(u.prop("outerHTML")),u=$(".h5-uniq-clone")},p=c+(parseInt(a.css("margin-top"),10)+parseInt(a.css("margin-bottom"),10)),f=parseInt(a.css("top"),10),h=r.scrollTop();f="auto"!=f?f:0;var m=!0,g=!1;$(document).on("mousemove.uniqlist",(function(e){var r=f+(e.pageY-n);Math.abs(r)>0&&(m=!1,g||(g=!0,d(),d=null),u.css({left:o+(e.pageX-t),top:i+(e.pageY-n)+h}),r>0&&r>p?a.next()[0]&&(f-=p,a.before(a.next())):r<0&&-r>p&&a.prev()[0]&&(f+=p,a.after(a.prev())))})).on("mouseup.uniqlist",(function(){var e=parseInt(a.position().left,10),t=parseInt(a.position().top,10)+h;m?(a.removeClass("h5-uniq-start"),r=null,a=null):u.animate({left:e,top:t},500,(function(){u.remove(),a.removeClass("h5-uniq-start");var e=a.index();e>=0&&l!=e&&r.trigger("uniqend",{from:l,to:e}),u=null,r=null,a=null})),$(document).off("mousemove.uniqlist"),$(document).off("mouseup.uniqlist")}))}}}))},function(e,t,n){},function(e,t,n){},function(e,t){$.fn.setElementPosition=function(e){var t=this,n=function(){var e={start:"mousedown",move:"mousemove",end:"mouseup",touch:!1,touchEvent:function(e){return e.originalEvent.targetTouches[0]}};return"ontouchend"in document&&(e.start="touchstart",e.move="touchmove",e.end="touchend",e.touch=!0),e}(),r=$(this),a=$.extend({changeEnd:null,box:".h5-canvas-view"},e),o=$(a.box),i="id_".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}());if(!o.data("setElementPosition")){o.data("setElementPosition",!0),o.append('<div style="top: 0; left:0; width: 100%; height: 100%; z-index: 1000; position: absolute;" id="'.concat(i,'">\n    <div style="top: 50%; left:50%; transform: translate(-50%, -50%); background: rgba(0,0,0,.2); width: 6000px; height: 6000px; z-index: 50; position: absolute;"></div>\n  </div>'));var s,c,l,u=$("#".concat(i)),d=function(){return parseFloat($(".h5-canvas-view").attr("data-scale"))||1},p=(s=d(),c=o.offset(),{top:((l=r.offset()).top-c.top)/s,left:(l.left-c.left)/s}),f=r.clone();return f.css({position:"absolute",top:f.position().top+p.top,left:f.position().left+p.left,cursor:"move","z-index":100}),r.hide(),u.append(f),u.on(n.start,(function(e){e.stopPropagation(),r.trigger("setElementPositionDestroy"),t.destroy()})),f.on(n.start,(function(e){e.stopPropagation(),e.preventDefault();var t=d();n.touch&&(e=n.touchEvent(e));var o=e.pageX,i=e.pageY,s=f.position().top,c=f.position().left,l=null;$(document).on("".concat(n.move,".setElementPosition"),(function(e){e.stopPropagation(),n.touch&&(e=n.touchEvent(e)),l={left:parseInt(c+(e.pageX-o),10)/t,top:parseInt(s+(e.pageY-i),10)/t},f.css(l)})).on("".concat(n.end,".setElementPosition"),(function(e){if(n.touch&&(e=n.touchEvent(e)),$(document).off("".concat(n.move,".setElementPosition ").concat(n.end,".setElementPosition")),l&&(r.trigger("setElementPositionEnd",l),a.changeEnd)){var o=r.closest(".layer").position();a.changeEnd({top:l.top-o.top/t,left:l.left-o.left/t})}l=null}))})),this.destroy=function(){o.data("setElementPosition",!1),r.show(),u.off(),u.remove()},this}}},function(e,t,n){},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(0)),a=p(n(86)),o=p(n(36)),i=p(n(13)),s=n(235),c=n(244),l=n(114),u=p(n(276)),d=p(n(245));function p(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var a=C(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(n,e);var t=k(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),D(O(r=t.call(this,e)),"onDragStart",(function(e,t){if((0,d.default)("Draggable: onDragStart: %j",t),!1===r.props.onStart(e,(0,c.createDraggableData)(O(r),t)))return!1;r.setState({dragging:!0,dragged:!0})})),D(O(r),"onDrag",(function(e,t){if(!r.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);var n=(0,c.createDraggableData)(O(r),t),a={x:n.x,y:n.y};if(r.props.bounds){var o=a.x,i=a.y;a.x+=r.state.slackX,a.y+=r.state.slackY;var s=y((0,c.getBoundPosition)(O(r),a.x,a.y),2),l=s[0],u=s[1];a.x=l,a.y=u,a.slackX=r.state.slackX+(o-a.x),a.slackY=r.state.slackY+(i-a.y),n.x=a.x,n.y=a.y,n.deltaX=a.x-r.state.x,n.deltaY=a.y-r.state.y}if(!1===r.props.onDrag(e,n))return!1;r.setState(a)})),D(O(r),"onDragStop",(function(e,t){if(!r.state.dragging)return!1;if(!1===r.props.onStop(e,(0,c.createDraggableData)(O(r),t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(r.props.position)){var a=r.props.position,o=a.x,i=a.y;n.x=o,n.y=i}r.setState(n)})),r.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:w({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),r}return E(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:w({},n)})}}]),E(n,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),a=t.defaultPosition,o=t.defaultClassName,l=t.defaultClassNameDragging,d=t.defaultClassNameDragged,p=t.position,f=t.positionOffset,h=(t.scale,g(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),y={},v=null,b=!Boolean(p)||this.state.dragging,x=p||a,E={x:(0,c.canDragX)(this)&&b?this.state.x:x.x,y:(0,c.canDragY)(this)&&b?this.state.y:x.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(E,f):y=(0,s.createCSSTransform)(E,f);var _=(0,i.default)(n.props.className||"",o,(D(e={},l,this.state.dragging),D(e,d,this.state.dragged),e));return r.createElement(u.default,m({},h,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:_,style:w(w({},n.props.style),y),transform:v}))}}]),n}(r.Component);t.default=P,D(P,"displayName","Draggable"),D(P,"propTypes",w(w({},u.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe})),D(P,"defaultProps",w(w({},u.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=a,t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var r=["Moz","Webkit","O","ms"];function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<r.length;n++)if(o(e,r[n])in t)return r[n];return""}function o(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var i=a();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(0)),a=u(n(86)),o=u(n(36)),i=n(235),s=n(244),c=n(114),l=u(n(245));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var a=x(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={start:"touchstart",move:"touchmove",stop:"touchend"},k={start:"mousedown",move:"mousemove",stop:"mouseup"},S=k,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,n,a,c=v(u);function u(){var e;m(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(w(e=c.call.apply(c,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),E(w(e),"mounted",!1),E(w(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,i.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,i.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var a=(0,i.getTouchIdentifier)(t);e.setState({touchIdentifier:a});var o=(0,s.getControlPosition)(t,a,w(e));if(null!=o){var c=o.x,u=o.y,d=(0,s.createCoreData)(w(e),c,u);(0,l.default)("DraggableCore: handleDragStart: %j",d),(0,l.default)("calling",e.props.onStart),!1!==e.props.onStart(t,d)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:c,lastY:u}),(0,i.addEvent)(r,S.move,e.handleDrag),(0,i.addEvent)(r,S.stop,e.handleDragStop))}}})),E(w(e),"handleDrag",(function(t){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,w(e));if(null!=n){var r=n.x,a=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX,i=a-e.state.lastY,c=f((0,s.snapToGrid)(e.props.grid,o,i),2);if(o=c[0],i=c[1],!o&&!i)return;r=e.state.lastX+o,a=e.state.lastY+i}var u=(0,s.createCoreData)(w(e),r,a);if((0,l.default)("DraggableCore: handleDrag: %j",u),!1!==e.props.onDrag(t,u)&&!1!==e.mounted)e.setState({lastX:r,lastY:a});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(d)}}})),E(w(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,w(e));if(null!=n){var r=n.x,a=n.y,o=(0,s.createCoreData)(w(e),r,a);if(!1===e.props.onStop(t,o)||!1===e.mounted)return!1;var c=e.findDOMNode();c&&e.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(c.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",o),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),c&&((0,l.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(c.ownerDocument,S.move,e.handleDrag),(0,i.removeEvent)(c.ownerDocument,S.stop,e.handleDragStop))}}})),E(w(e),"onMouseDown",(function(t){return S=k,e.handleDragStart(t)})),E(w(e),"onMouseUp",(function(t){return S=k,e.handleDragStop(t)})),E(w(e),"onTouchStart",(function(t){return S=_,e.handleDragStart(t)})),E(w(e),"onTouchEnd",(function(t){return S=_,e.handleDragStop(t)})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,i.addEvent)(e,_.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,i.removeEvent)(t,k.move,this.handleDrag),(0,i.removeEvent)(t,_.move,this.handleDrag),(0,i.removeEvent)(t,k.stop,this.handleDragStop),(0,i.removeEvent)(t,_.stop,this.handleDragStop),(0,i.removeEvent)(e,_.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&g(t.prototype,n),a&&g(t,a),u}(r.Component);t.default=O,E(O,"displayName","DraggableCore"),E(O,"propTypes",{allowAnyClick:a.default.bool,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),E(O,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){const r=n(304),{setLogging:a,log:o}=n(251),i=n(305),s=n(308),c=n(309),l=n(311),{defaultOptions:u,getModule:d,fetchFile:p}=n(312),f=Error("FFmpeg.js is not ready, make sure you have completed load()."),h=Error("FFmpeg.js can only run one command at a time");let m=null,g=null;e.exports=(e={})=>{let t=null,n=!1;const{log:y,logger:v,progress:b,...w}=i({...u,...e});a(y);const x=(e,t)=>{if(null===m)throw f;return o("info",`FS.${e} ${t[0]}`),m.FS[e](...t)},E=(e,t)=>x("writeFile",[e,t]),_=e=>{if(null===g)throw f;if(n)throw h;return n=!0,new Promise(n=>{const a=[...r,...l(e)].filter(e=>0!==e.length);o("info","ffmpeg command: "+a.join(" ")),t=n,g(a.length,c(m,a))})};return{load:async()=>{null===m&&(o("info","load ffmpeg-core"),m=await d(w),m.setLogger(e=>{(({message:e,type:r})=>{"ffmpeg-stdout"===r&&"FFMPEG_END"===e&&null!==t&&(t(),t=null,n=!1)})(e),s(e,b),v(e),o(e.type,e.message)}),null===g&&(g=m.cwrap("proxy_main","number",["number","number"])),o("info","ffmpeg-core loaded"))},FS:x,write:async(e,t)=>x("writeFile",[e,await p(t)]),writeText:E,read:e=>x("readFile",[e]),remove:e=>x("unlink",[e]),ls:e=>x("readdir",[e]),run:_,transcode:(e,t,n="")=>_(`-i ${e} ${n} ${t}`),trim:(e,t,n,r,a="")=>_(`-i ${e} -ss ${n} -to ${r} ${a} ${t}`),concatDemuxer:(e,t,n="")=>{const r=e.reduce((e,t)=>`${e}\nfile ${t}`,"");return E("concat_list.txt",r),_(`-f concat -safe 0 -i concat_list.txt ${n} ${t}`)}}}},function(e,t){e.exports=["./ffmpeg","-nostdin","-hide_banner"]},function(e,t,n){const r="browser"===n(306)("type")?n(240):e=>e;e.exports=e=>{const t={...e};return["corePath"].forEach(n=>{void 0!==e[n]&&(t[n]=r(t[n]))}),t}},function(e,t,n){(function(t){const r=n(307);e.exports=e=>{const n={};return r()?n.type="electron":"object"==typeof window?n.type="browser":"function"==typeof importScripts?n.type="webworker":"object"==typeof t&&(n.type="node"),void 0===e?n:n[e]}}).call(this,n(115))},function(e,t,n){(function(t){e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!(void 0===t||"object"!=typeof t.versions||!t.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}}).call(this,n(115))},function(e,t){let n=0;const r=e=>{const[t,n,r]=e.split(":");return 60*parseFloat(t)*60+60*parseFloat(n)+parseFloat(r)};e.exports=({message:e},t)=>{if("string"==typeof e)if(e.startsWith("  Duration")){const t=e.split(", ")[0].split(": ")[1],a=r(t);(0===n||n>a)&&(n=a)}else if(e.startsWith("frame")){const a=e.split("time=")[1].split(" ")[0];t({ratio:r(a)/n})}else e.startsWith("video:")&&t({ratio:1})}},function(e,t,n){const r=n(310);e.exports=(e,t)=>{const n=e._malloc(t.length*Uint32Array.BYTES_PER_ELEMENT);return t.forEach((t,a)=>{const o=r(e,t);e.setValue(n+4*a,o,"i32")}),n}},function(e,t){e.exports=(e,t)=>{const n=e._malloc((t.length+1)*Uint8Array.BYTES_PER_ELEMENT);for(let r=0;r<t.length;r+=1)e.setValue(n+r,t.charCodeAt(r),"i8");return e.setValue(n+t.length,0,"i8"),n}},function(e,t){e.exports=e=>{const t=[];let n=0,r=0;for(;(n=e.indexOf(" ",r))>=0;){let a=e.substring(r,n),o=a.indexOf("'"),i=a.indexOf('"');if(0===o||0===i){const o=a[0],i=e.indexOf(o,r+1);if(i<0)throw new Error(`Bad command escape sequence ${o} near ${n}`);a=e.substring(r+1,i),r=i+2,t.push(a)}else if(o>0||i>0){-1===o&&(o=1/0),-1===i&&(i=1/0);const s=o<i?"'":'"',c=Math.min(o,i),l=e.indexOf(s,r+c+1);if(l<0)throw new Error(`Bad command escape sequence ${s} near ${n}`);a=e.substring(r,l+1),r=l+2,t.push(a)}else""!==a?(t.push(a),r=n+1):r=n+1}return r!==e.length&&t.push(e.substring(r)),t}},function(e,t,n){const r=n(313),a=n(316),o=n(317);e.exports={defaultOptions:r,getModule:a,fetchFile:o}},function(e,t,n){(function(t){const r=n(240),{dependencies:a}=n(314),o=n(315);e.exports={...o,corePath:void 0!==t&&"development"===t.env.FFMPEG_ENV?r("/node_modules/@ffmpeg/core/ffmpeg-core.js"):`https://unpkg.com/@ffmpeg/core@v${a["@ffmpeg/core"].substring(1)}/ffmpeg-core.js`}}).call(this,n(115))},function(e){e.exports=JSON.parse('{"name":"@ffmpeg/ffmpeg","version":"0.8.3","description":"FFmpeg WebAssembly version","main":"src/index.js","directories":{"example":"examples"},"scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","prepublishOnly":"npm run build","lint":"eslint src","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},"browser":{"./src/node/index.js":"./src/browser/index.js"},"repository":{"type":"git","url":"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},"keywords":["ffmpeg","WebAssembly","video"],"author":"Jerome Wu <jeromewus@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},"engines":{"node":">=12.16.1"},"homepage":"https://github.com/ffmpegwasm/ffmpeg.wasm#readme","dependencies":{"@ffmpeg/core":"^0.7.1","idb":"^4.0.5","is-electron":"^2.2.0","is-url":"^1.2.4","node-fetch":"^2.6.0","regenerator-runtime":"^0.13.5","resolve-url":"^0.2.1"},"devDependencies":{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.0","babel-loader":"^8.1.0","cors":"^2.8.5","eslint":"^6.8.0","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.20.1","expect.js":"^0.3.1","express":"^4.17.1","mocha":"^5.2.0","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","nyc":"^14.1.1","wait-on":"^3.3.0","webpack":"^4.42.0","webpack-cli":"^3.3.11","webpack-dev-middleware":"^3.7.2"},"__npminstall_done":"Tue Oct 20 2020 20:38:30 GMT+0800 (GMT+08:00)","_from":"@ffmpeg/ffmpeg@0.8.3","_resolved":"https://registry.npm.taobao.org/@ffmpeg/ffmpeg/download/@ffmpeg/ffmpeg-0.8.3.tgz"}')},function(e,t){e.exports={log:!1,logger:()=>{},progress:()=>{}}},function(e,t,n){const{log:r}=n(251);e.exports=async({corePath:e})=>{if(void 0===window.Module){r("info","fetch ffmpeg-core.worker.js script");const t=await(await fetch(e.replace("ffmpeg-core.js","ffmpeg-core.worker.js"))).blob();return window.FFMPEG_CORE_WORKER_SCRIPT=URL.createObjectURL(t),r("info","worker object URL="+window.FFMPEG_CORE_WORKER_SCRIPT),r("info","download ffmpeg-core script (~25 MB) from "+e),new Promise(t=>{const n=document.createElement("script"),a=()=>{n.removeEventListener("load",a),r("info","initialize ffmpeg-core"),window.Module.onRuntimeInitialized=()=>{r("info","ffmpeg-core initialized"),t(window.Module)}};n.src=e,n.type="text/javascript",n.addEventListener("load",a),document.getElementsByTagName("head")[0].appendChild(n)})}return r("info","ffmpeg-core is loaded already"),Promise.resolve(window.Module)}},function(e,t,n){const r=n(240);e.exports=async e=>{let t=e;if(void 0===e)return"undefined";if("string"==typeof e)if(/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e))t=atob(e.split(",")[1]).split("").map(e=>e.charCodeAt(0));else{const n=await fetch(r(e));t=await n.arrayBuffer()}else(e instanceof File||e instanceof Blob)&&(t=await(n=e,new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:e}}})=>{t(Error("File could not be read! Code="+e))},r.readAsArrayBuffer(n)})));var n;return new Uint8Array(t)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(81));function o(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function i(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?Math.round(100*e.s)-16*t:4===t?Math.round(100*e.s)+16:Math.round(100*e.s)+5*t)>100&&(r=100),n&&5===t&&r>10&&(r=10),r<6&&(r=6),r);var r}function s(e,t,n){return n?Math.round(100*e.v)+5*t:Math.round(100*e.v)-15*t}t.default=function(e){for(var t=[],n=a.default(e),r=5;r>0;r-=1){var c=n.toHsv(),l=a.default({h:o(c,r,!0),s:i(c,r,!0),v:s(c,r,!0)}).toHexString();t.push(l)}for(t.push(n.toHexString()),r=1;r<=4;r+=1){c=n.toHsv(),l=a.default({h:o(c,r),s:i(c,r),v:s(c,r)}).toHexString();t.push(l)}return t}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(343),a=n(0);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i="function"==typeof Symbol&&Symbol.for,s=i?Symbol.for("react.portal"):60106,c=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,d=i?Symbol.for("react.provider"):60109,p=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.suspense_list"):60120,y=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,b=i?Symbol.for("react.block"):60121,w=i?Symbol.for("react.fundamental"):60117,x=i?Symbol.for("react.scope"):60119;function E(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case s:return"Portal";case u:return"Profiler";case l:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p:return"Context.Consumer";case d:return"Context.Provider";case h:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case y:return E(e.type);case b:return E(e.render);case v:if(e=1===e._status?e._result:null)return E(e)}return null}var _=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;_.hasOwnProperty("ReactCurrentDispatcher")||(_.ReactCurrentDispatcher={current:null}),_.hasOwnProperty("ReactCurrentBatchConfig")||(_.ReactCurrentBatchConfig={suspense:null});var k={};function S(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var O=new Uint16Array(16),C=0;15>C;C++)O[C]=C+1;O[15]=0;var D=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P=Object.prototype.hasOwnProperty,I={},A={};function j(e){return!!P.call(A,e)||!P.call(I,e)&&(D.test(e)?A[e]=!0:(I[e]=!0,!1))}function T(e,t,n,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){N[e]=new T(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];N[t]=new T(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){N[e]=new T(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){N[e]=new T(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){N[e]=new T(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){N[e]=new T(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){N[e]=new T(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){N[e]=new T(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){N[e]=new T(e,5,!1,e.toLowerCase(),null,!1)}));var L=/[\-:]([a-z])/g;function R(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(L,R);N[t]=new T(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(L,R);N[t]=new T(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(L,R);N[t]=new T(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){N[e]=new T(e,1,!1,e.toLowerCase(),null,!1)})),N.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){N[e]=new T(e,1,!1,e.toLowerCase(),null,!0)}));var M=/["'&<>]/;function z(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=M.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.substring(a,n)),a=n+1,r+=t}e=a!==n?r+e.substring(a,n):r}return e}function B(e,t){var n,r=N.hasOwnProperty(e)?N[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r,!1)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+z(t)+'"')):j(e)?e+'="'+z(t)+'"':""}var H="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},F=null,W=null,$=null,Y=!1,X=!1,V=null,U=0;function G(){if(null===F)throw Error(o(321));return F}function q(){if(0<U)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function K(){return null===$?null===W?(Y=!1,W=$=q()):(Y=!0,$=W):null===$.next?(Y=!1,$=$.next=q()):(Y=!0,$=$.next),$}function Z(e,t,n,r){for(;X;)X=!1,U+=1,$=null,n=e(t,r);return W=F=null,U=0,$=V=null,n}function J(e,t){return"function"==typeof t?t(e):t}function Q(e,t,n){if(F=G(),$=K(),Y){var r=$.queue;if(t=r.dispatch,null!==V&&void 0!==(n=V.get(r))){V.delete(r),r=$.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return $.memoizedState=r,[r,t]}return[$.memoizedState,t]}return e=e===J?"function"==typeof t?t():t:void 0!==n?n(t):t,$.memoizedState=e,e=(e=$.queue={last:null,dispatch:null}).dispatch=ee.bind(null,F,e),[$.memoizedState,e]}function ee(e,t,n){if(!(25>U))throw Error(o(301));if(e===F)if(X=!0,e={action:n,next:null},null===V&&(V=new Map),void 0===(n=V.get(t)))V.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function te(){}var ne=0,re={readContext:function(e){var t=ne;return S(e,t),e[t]},useContext:function(e){G();var t=ne;return S(e,t),e[t]},useMemo:function(e,t){if(F=G(),t=void 0===t?null:t,null!==($=K())){var n=$.memoizedState;if(null!==n&&null!==t){e:{var r=n[1];if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++)if(!H(t[a],r[a])){r=!1;break e}r=!0}}if(r)return n[0]}}return e=e(),$.memoizedState=[e,t],e},useReducer:Q,useRef:function(e){F=G();var t=($=K()).memoizedState;return null===t?(e={current:e},$.memoizedState=e):t},useState:function(e){return Q(J,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:te,useEffect:te,useDebugValue:te,useResponder:function(e,t){return{props:t,responder:e}},useDeferredValue:function(e){return G(),e},useTransition:function(){return G(),[function(e){e()},!1]}},ae="http://www.w3.org/1999/xhtml";function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ie={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},se=r({menuitem:!0},ie),ce={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},le=["Webkit","ms","Moz","O"];Object.keys(ce).forEach((function(e){le.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ce[t]=ce[e]}))}));var ue=/([A-Z])/g,de=/^ms-/,pe=a.Children.toArray,fe=_.ReactCurrentDispatcher,he={listing:!0,pre:!0,textarea:!0},me=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ge={},ye={};var ve=Object.prototype.hasOwnProperty,be={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function we(e,t){if(void 0===e)throw Error(o(152,E(t)||"Component"))}function xe(e,t,n){function i(a,i){var s=i.prototype&&i.prototype.isReactComponent,c=function(e,t,n,r){if(r&&("object"==typeof(r=e.contextType)&&null!==r))return S(r,n),r[n];if(e=e.contextTypes){for(var a in n={},e)n[a]=t[a];t=n}else t=k;return t}(i,t,n,s),l=[],u=!1,d={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===l)return null},enqueueReplaceState:function(e,t){u=!0,l=[t]},enqueueSetState:function(e,t){if(null===l)return null;l.push(t)}};if(s){if(s=new i(a.props,c,d),"function"==typeof i.getDerivedStateFromProps){var p=i.getDerivedStateFromProps.call(null,a.props,s.state);null!=p&&(s.state=r({},s.state,p))}}else if(F={},s=i(a.props,c,d),null==(s=Z(i,a.props,s,c))||null==s.render)return void we(e=s,i);if(s.props=a.props,s.context=c,s.updater=d,void 0===(d=s.state)&&(s.state=d=null),"function"==typeof s.UNSAFE_componentWillMount||"function"==typeof s.componentWillMount)if("function"==typeof s.componentWillMount&&"function"!=typeof i.getDerivedStateFromProps&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&"function"!=typeof i.getDerivedStateFromProps&&s.UNSAFE_componentWillMount(),l.length){d=l;var f=u;if(l=null,u=!1,f&&1===d.length)s.state=d[0];else{p=f?d[0]:s.state;var h=!0;for(f=f?1:0;f<d.length;f++){var m=d[f];null!=(m="function"==typeof m?m.call(s,p,a.props,c):m)&&(h?(h=!1,p=r({},p,m)):r(p,m))}s.state=p}}else l=null;if(we(e=s.render(),i),"function"==typeof s.getChildContext&&"object"==typeof(a=i.childContextTypes)){var g=s.getChildContext();for(var y in g)if(!(y in a))throw Error(o(108,E(i)||"Unknown",y))}g&&(t=r({},t,g))}for(;a.isValidElement(e);){var s=e,c=s.type;if("function"!=typeof c)break;i(s,c)}return{child:e,context:t}}var Ee=function(){function e(e,t){a.isValidElement(e)?e.type!==c?e=[e]:(e=e.props.children,e=a.isValidElement(e)?[e]:pe(e)):e=pe(e),e={type:null,domNamespace:ae,children:e,childIndex:0,context:k,footer:""};var n=O[0];if(0===n){var r=O,i=2*(n=r.length);if(!(65536>=i))throw Error(o(304));var s=new Uint16Array(i);for(s.set(r),(O=s)[0]=n+1,r=n;r<i-1;r++)O[r]=r+1;O[i-1]=0}else O[0]=O[n];this.threadID=n,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;O[e]=O[0],O[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;S(n,r);var a=n[r];this.contextStack[t]=n,this.contextValueStack[t]=a,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=ne;ne=this.threadID;var n=fe.current;fe.current=re;try{for(var r=[""],a=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var i=this.threadID;O[i]=O[0],O[0]=i;break}var s=this.stack[this.stack.length-1];if(a||s.childIndex>=s.children.length){var c=s.footer;if(""!==c&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===d)this.popProvider(s.type);else if(s.type===m){this.suspenseDepth--;var l=r.pop();if(a){a=!1;var u=s.fallbackFrame;if(!u)throw Error(o(303));this.stack.push(u),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=l}r[this.suspenseDepth]+=c}else{var p=s.children[s.childIndex++],f="";try{f+=this.render(p,s.context,s.domNamespace)}catch(e){if(null!=e&&"function"==typeof e.then)throw Error(o(294));throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=f}}return r[0]}finally{fe.current=n,ne=t}},t.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?z(n):this.previousWasTextNode?"\x3c!-- --\x3e"+z(n):(this.previousWasTextNode=!0,z(n));if(e=(t=xe(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!a.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===s)throw Error(o(257));throw Error(o(258,n.toString()))}return e=pe(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var i=e.type;if("string"==typeof i)return this.renderDOM(e,t,n);switch(i){case l:case f:case u:case g:case c:return e=pe(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case m:throw Error(o(294))}if("object"==typeof i&&null!==i)switch(i.$$typeof){case h:F={};var b=i.render(e.props,e.ref);return b=Z(i.render,e.props,b,e.ref),b=pe(b),this.stack.push({type:null,domNamespace:n,children:b,childIndex:0,context:t,footer:""}),"";case y:return e=[a.createElement(i.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case d:return n={type:e,domNamespace:n,children:i=pe(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case p:i=e.type,b=e.props;var E=this.threadID;return S(i,E),i=pe(b.children(i[E])),this.stack.push({type:e,domNamespace:n,children:i,childIndex:0,context:t,footer:""}),"";case w:throw Error(o(338));case v:switch(function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i=e.type),i._status){case 1:return e=[a.createElement(i._result,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case 2:throw i._result;default:throw Error(o(295))}case x:throw Error(o(343))}throw Error(o(130,null==i?i:typeof i,""))},t.renderDOM=function(e,t,n){var i=e.type.toLowerCase();if(n===ae&&oe(i),!ge.hasOwnProperty(i)){if(!me.test(i))throw Error(o(65,i));ge[i]=!0}var s=e.props;if("input"===i)s=r({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===i){var c=s.value;if(null==c){c=s.defaultValue;var l=s.children;if(null!=l){if(null!=c)throw Error(o(92));if(Array.isArray(l)){if(!(1>=l.length))throw Error(o(93));l=l[0]}c=""+l}null==c&&(c="")}s=r({},s,{value:void 0,children:""+c})}else if("select"===i)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=r({},s,{value:void 0});else if("option"===i){l=this.currentSelectValue;var u=function(e){if(null==e)return e;var t="";return a.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(s.children);if(null!=l){var d=null!=s.value?s.value+"":u;if(c=!1,Array.isArray(l)){for(var p=0;p<l.length;p++)if(""+l[p]===d){c=!0;break}}else c=""+l===d;s=r({selected:void 0,children:void 0},s,{selected:c,children:u})}}if(c=s){if(se[i]&&(null!=c.children||null!=c.dangerouslySetInnerHTML))throw Error(o(137,i,""));if(null!=c.dangerouslySetInnerHTML){if(null!=c.children)throw Error(o(60));if("object"!=typeof c.dangerouslySetInnerHTML||!("__html"in c.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=c.style&&"object"!=typeof c.style)throw Error(o(62,""))}for(w in c=s,l=this.makeStaticMarkup,u=1===this.stack.length,d="<"+e.type,c)if(ve.call(c,w)){var f=c[w];if(null!=f){if("style"===w){p=void 0;var h="",m="";for(p in f)if(f.hasOwnProperty(p)){var g=0===p.indexOf("--"),y=f[p];if(null!=y){if(g)var v=p;else if(v=p,ye.hasOwnProperty(v))v=ye[v];else{var b=v.replace(ue,"-$1").toLowerCase().replace(de,"-ms-");v=ye[v]=b}h+=m+v+":",m=p,h+=g=null==y||"boolean"==typeof y||""===y?"":g||"number"!=typeof y||0===y||ce.hasOwnProperty(m)&&ce[m]?(""+y).trim():y+"px",m=";"}}f=h||null}p=null;e:if(g=i,y=c,-1===g.indexOf("-"))g="string"==typeof y.is;else switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":g=!1;break e;default:g=!0}g?be.hasOwnProperty(w)||(p=j(p=w)&&null!=f?p+'="'+z(f)+'"':""):p=B(w,f),p&&(d+=" "+p)}}l||u&&(d+=' data-reactroot=""');var w=d;c="",ie.hasOwnProperty(i)?w+="/>":(w+=">",c="</"+e.type+">");e:{if(null!=(l=s.dangerouslySetInnerHTML)){if(null!=l.__html){l=l.__html;break e}}else if("string"==typeof(l=s.children)||"number"==typeof l){l=z(l);break e}l=null}return null!=l?(s=[],he.hasOwnProperty(i)&&"\n"===l.charAt(0)&&(w+="\n"),w+=l):s=pe(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?oe(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:i,children:s,childIndex:0,context:t,footer:c}),this.previousWasTextNode=!1,w},e}(),_e={renderToString:function(e){e=new Ee(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new Ee(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw Error(o(207))},renderToStaticNodeStream:function(){throw Error(o(208))},version:"16.14.0"};e.exports=_e.default||_e},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=i(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))a.call(n,u)&&(c[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(c[s[d]]=n[s[d]])}}return c}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(23),a=n.n(r),o=n(4),i=n.n(o),s=n(5),c=n.n(s),l=n(0),u=n.n(l),d=n(262),p=n(36),f=n.n(p),h=function(){function e(t){i()(this,e),this.getInitData=function(){return Object(d.getInitData)()},this.params=t||{},this.init()}return c()(e,[{key:"destory",value:function(){this.params=null,this.target&&f.a.unmountComponentAtNode(this.target)}},{key:"init",value:function(){var e=this,t=this.params,n=t.data,r=void 0===n?null:n,o=t.plugins,i=void 0===o?[]:o,s=t.callBack,c=void 0===s?null:s,l=t.target,f=void 0===l?document.querySelector("body"):l,h=a()(t,["data","plugins","callBack","target"]);this.target=f,r?Object(p.render)(u.a.createElement(d.default,{plugins:i,data:r,options:h}),f,(function(){c&&c(e.params)})):console.error("data不能为空")}}]),e}();window.H5DSCore=h}])})),console.warn("%c欢迎使用H5DS-JSSDKwww.h5ds.com","width: 100%; background: rgba(252,234,187,1);background: -moz-linear-gradient(left, rgba(252,234,187,1) 0%, rgba(175,250,77,1) 12%, rgba(0,247,49,1) 28%, rgba(0,210,247,1) 39%,rgba(0,189,247,1) 51%, rgba(133,108,217,1) 64%, rgba(177,0,247,1) 78%, rgba(247,0,189,1) 87%, rgba(245,22,52,1) 100%);background: -webkit-gradient(left top, right top, color-stop(0%, rgba(252,234,187,1)), color-stop(12%, rgba(175,250,77,1)), color-stop(28%, rgba(0,247,49,1)), color-stop(39%, rgba(0,210,247,1)), color-stop(51%, rgba(0,189,247,1)), color-stop(64%, rgba(133,108,217,1)), color-stop(78%, rgba(177,0,247,1)), color-stop(87%, rgba(247,0,189,1)), color-stop(100%, rgba(245,22,52,1)));background: -webkit-linear-gradient(left, rgba(252,234,187,1) 0%, rgba(175,250,77,1) 12%, rgba(0,247,49,1) 28%, rgba(0,210,247,1) 39%, rgba(0,189,247,1) 51%, rgba(133,108,217,1) 64%, rgba(177,0,247,1) 78%, rgba(247,0,189,1) 87%, rgba(245,22,52,1) 100%);background: -o-linear-gradient(left, rgba(252,234,187,1) 0%, rgba(175,250,77,1) 12%, rgba(0,247,49,1) 28%, rgba(0,210,247,1) 39%, rgba(0,189,247,1) 51%, rgba(133,108,217,1) 64%, rgba(177,0,247,1) 78%, rgba(247,0,189,1) 87%, rgba(245,22,52,1) 100%);background: -ms-linear-gradient(left, rgba(252,234,187,1) 0%, rgba(175,250,77,1) 12%, rgba(0,247,49,1) 28%, rgba(0,210,247,1) 39%, rgba(0,189,247,1) 51%, rgba(133,108,217,1) 64%, rgba(177,0,247,1) 78%, rgba(247,0,189,1) 87%, rgba(245,22,52,1) 100%);background: linear-gradient(to right, rgba(252,234,187,1) 0%, rgba(175,250,77,1) 12%, rgba(0,247,49,1) 28%, rgba(0,210,247,1) 39%, rgba(0,189,247,1) 51%, rgba(133,108,217,1) 64%, rgba(177,0,247,1) 78%, rgba(247,0,189,1) 87%, rgba(245,22,52,1) 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#fceabb', endColorstr='#f51634', GradientType=1 );font-size:36px;");